/*! For license information please see 727.85b1ffd4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpodo_log=self.webpackChunkpodo_log||[]).push([[727],{456:function(t,e,n){function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,a=0,s="";i=e.charAt(a++);~i&&(n=o%4?64*n+i:i,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function o(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(i(t).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(e)}catch(t){return i(e)}}function a(t){this.message=t}a.prototype=new Error,a.prototype.name="InvalidTokenError",e.Z=function(t,e){if("string"!=typeof t)throw new a("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(o(t.split(".")[n]))}catch(t){throw new a("Invalid token specified: "+t.message)}}},5327:function(t,e,n){function r(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function i(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function o(t){var e=t;if("undefined"===typeof e){if("undefined"===typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function a(t,e){try{return new RegExp(t,"g").exec(e)}catch(n){return null}}function s(){if("undefined"===typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}function u(t){return t.replace(/_/g,".")}function c(t,e){var n=null,i="-1";return r(t,(function(t){var r=a("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!r||t.brand)&&(n=t,i=r[3]||"-1",t.versionAlias?i=t.versionAlias:t.versionTest&&(i=function(t,e){var n=a("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return n?n[3]:""}(t.versionTest.toLowerCase(),e)||i),i=u(i),!0)})),{preset:n,version:i}}function l(t,e){var n={brand:"",version:"-1"};return r(t,(function(t){var r=f(e,t);return!!r&&(n.brand=t.id,n.version=t.versionAlias||r.version,"-1"!==n.version)})),n}function f(t,e){return i(t,(function(t){var n=t.brand;return a(""+e.test,n.toLowerCase())}))}n.d(e,{ZP:function(){return za}});var d=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],p=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],v=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],h=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],g=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function m(t){return!!c(h,t).preset}function b(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),a=t&&t.fullVersionList,s=e.mobile||!1,c=n[0],b=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),x={name:c.brand,version:c.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!l(h,n).brand||m(o())},E={name:"unknown",version:"-1",majorVersion:-1};x.webkit=!x.chromium&&r(v,(function(t){return f(n,t)}));var y=l(p,n);if(x.chromium=!!y.brand,x.chromiumVersion=y.version,!x.chromium){var S=l(v,n);x.webkit=!!S.brand,x.webkitVersion=S.version}var w=i(g,(function(t){return new RegExp(""+t.test,"g").exec(b)}));if(E.name=w?w.id:"",t&&(E.version=t.platformVersion),a&&a.length){var C=l(d,a);x.name=C.brand||x.name,x.version=C.version||x.version}else{var M=l(d,n);x.name=M.brand||x.name,x.version=M.brand&&t?t.uaFullVersion:M.version}return x.webkit&&(E.name=s?"ios":"mac"),"ios"===E.name&&x.webview&&(x.version="-1"),E.version=u(E.version),x.version=u(x.version),E.majorVersion=parseInt(E.version,10),x.majorVersion=parseInt(x.version,10),{browser:x,os:E,isMobile:s,isHints:!0}}function x(t){return"undefined"===typeof t&&s()?b():function(t){var e=o(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:m(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=c(d,e),s=a.preset,u=a.version,l=c(g,e),f=l.preset,h=l.version,b=c(p,e);if(r.chromium=!!b.preset,r.chromiumVersion=b.version,!r.chromium){var x=c(v,e);r.webkit=!!x.preset,r.webkitVersion=x.version}return f&&(i.name=f.id,i.version=h,i.majorVersion=parseInt(h,10)),s&&(r.name=s.id,r.version=u,r.webview&&"ios"===i.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}(t)}var E=x;function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function S(t,e){return function(n){n&&(t[e]=n)}}function w(t,e,n){return function(r){r&&(t[e][n]=r)}}var C="undefined",M=typeof window!==C,D=(typeof document!==C&&document,[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}]),R=1e-7,O={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function P(t,e,n,r){return(t*r+e*n)/(n+r)}function T(t){return typeof t===C}function _(t){return t&&"object"===typeof t}function k(t){return Array.isArray(t)}function z(t){return"string"===typeof t}function G(t){return"number"===typeof t}function B(t){return"function"===typeof t}function F(t,e,n,r,i){return I(t,e,n)?n:function(t,e,n,r,i){for(var o,a=function(n){var a=e[n].trim();if(a===t.close&&!I(t,e,n))return{value:n};var s=n,u=W(i,(function(t){return t.open===a}));if(u&&(s=F(u,e,n,r,i)),-1===s)return o=n,"break";o=n=s},s=n;s<r;++s){var u=a(s);if(s=o,"object"===typeof u)return u.value;if("break"===u)break}return-1}(t,e,n+1,r,i)}function I(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function A(t,e){var n=z(e)?{separator:e}:e,r=n.separator,i=void 0===r?",":r,o=n.isSeparateFirst,a=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,u=void 0===s?a:s,c=n.openCloseCharacters,l=void 0===c?D:c,f=l.map((function(t){var e=t.open,n=t.close;return e===n?e:e+"|"+n})).join("|"),d=new RegExp("(\\s*"+i+"\\s*|"+f+"|\\s+)","g"),p=t.split(d).filter(Boolean),v=p.length,h=[],g=[];function m(){return!!g.length&&(h.push(g.join("")),g=[],!0)}for(var b,x=function(e){var n=p[e].trim(),r=e,s=W(l,(function(t){return t.open===n})),c=W(l,(function(t){return t.close===n}));if(s){if(-1!==(r=F(s,p,e,v,l))&&u)return m()&&o?(b=e,"break"):(h.push(p.slice(e,r+1).join("")),e=r,o?(b=e,"break"):(b=e,"continue"))}else{if(c&&!I(c,p,e)){var f=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(l);return f.splice(l.indexOf(c),1),{value:A(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:a,isSeparateOpenClose:u,openCloseCharacters:f})}}if(function(t,e){return(""===e||" "==e)&&(""===t||" "==t)||t===e}(n,i)&&!a)return m(),o?(b=e,"break"):(b=e,"continue")}-1===r&&(r=v-1),g.push(p.slice(e,r+1).join("")),b=e=r},E=0;E<v;++E){var y=x(E);if(E=b,"object"===typeof y)return y.value;if("break"===y)break}return g.length&&h.push(g.join("")),h}function N(t){return A(t,"")}function j(t){return A(t,",")}function Z(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Y(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function L(){return Date.now?Date.now():(new Date).getTime()}function X(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function W(t,e,n){var r=X(t,e);return r>-1?t[r]:n}var H=function(){var t=L(),e=M&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(e){var n=L();return setTimeout((function(){e(n-t)}),1e3/60)}}(),q=function(){var t=M&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(t){clearTimeout(t)}}();function V(t){return Object.keys(t)}function U(t,e){var n=Y(t),r=n.value,i=n.unit;if(_(e)){var o=e[i];if(o){if(B(o))return o(r);if(O[i])return O[i](r,o)}}else if("%"===i)return r*e/100;return O[i]?O[i](r):r}function K(t,e,n){return Math.max(e,Math.min(t,n))}function Q(t,e,n,r){return void 0===r&&(r=t[0]/t[1]),[[nt(e[0],R),nt(e[0]/r,R)],[nt(e[1]*r,R),nt(e[1],R)]].filter((function(t){return t.every((function(t,r){var i=e[r],o=nt(i,R);return n?t<=i||t<=o:t>=i||t>=o}))}))[0]||t}function $(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function J(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+2*Math.PI}function tt(t){var e=function(t){return[0,1].map((function(e){return $(t.map((function(t){return t[e]})))}))}(t),n=J(e,t[0]),r=J(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function et(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function nt(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function rt(t,e){return t.forEach((function(n,r){t[r]=nt(t[r],e)})),t}function it(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ot(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function at(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function st(t,e,n,r){t.addEventListener(e,n,r)}function ut(t,e,n,r){t.removeEventListener(e,n,r)}function ct(t,e,n,r,i,o){for(var a=0;a<i;++a){var s=n+a*i,u=r+a*i;t[s]+=t[u]*o,e[s]+=e[u]*o}}function lt(t,e,n,r,i){for(var o=0;o<i;++o){var a=n+o*i,s=r+o*i,u=t[a],c=e[a];t[a]=t[s],t[s]=u,e[a]=e[s],e[s]=c}}function ft(t,e,n,r,i){for(var o=0;o<r;++o){var a=n+o*r;t[a]/=i,e[a]/=i}}function dt(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function pt(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=_t(e),i=0;i<e;++i){var o=e*i+i;if(!nt(n[o],R))for(var a=i+1;a<e;++a)if(n[e*i+a]){lt(n,r,i,a,e);break}if(!nt(n[o],R))return[];ft(n,r,i,e,n[o]);for(a=0;a<e;++a){var s=a,u=n[a+i*e];nt(u,R)&&i!==a&&ct(n,r,s,i,e,-u)}}return r}function vt(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],i=0;i<e-1;++i)n[i]=t[e*(e-1)+i]/r;return n[e-1]=0,n}function ht(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function gt(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=_t(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function mt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=_t(t);return e.forEach((function(e){r=bt(r,e,t)})),r}function bt(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s){r[s*n+a]=0;for(var u=0;u<i;++u)r[s*n+a]+=t[u*n+a]*e[s*i+u]}return r}function xt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function Et(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function yt(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function St(t,e,n){void 0===n&&(n=e.length);var r=bt(t,e,n),i=r[n-1];return r.map((function(t){return t/i}))}function wt(t,e){return bt(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function Ct(t,e){return bt(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function Mt(t,e){return bt(t,Tt(e,4))}function Dt(t,e){var n=e[0],r=void 0===n?1:n,i=e[1],o=void 0===i?1:i,a=e[2];return bt(t,[r,0,0,0,0,o,0,0,0,0,void 0===a?1:a,0,0,0,0,1],4)}function Rt(t,e){return St(Tt(e,3),ht(t,3))}function Ot(t,e){var n=e[0],r=void 0===n?0:n,i=e[1],o=void 0===i?0:i,a=e[2];return bt(t,[1,0,0,0,0,1,0,0,0,0,1,0,r,o,void 0===a?0:a,1],4)}function Pt(t,e){return bt(t,e,4)}function Tt(t,e){var n=Math.cos(t),r=Math.sin(t),i=_t(e);return i[0]=n,i[1]=r,i[e]=-r,i[e+1]=n,i}function _t(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function kt(t,e){for(var n=_t(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function zt(t,e){for(var n=_t(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(e-1)+i]=t[i];return n}function Gt(t,e,n,r,i,o,a,s){var u=t[0],c=t[1],l=e[0],f=e[1],d=n[0],p=n[1],v=r[0],h=r[1],g=i[0],m=i[1],b=o[0],x=o[1],E=a[0],y=a[1],S=s[0],w=s[1],C=pt([u,0,l,0,d,0,v,0,c,0,f,0,p,0,h,0,1,0,1,0,1,0,1,0,0,u,0,l,0,d,0,v,0,c,0,f,0,p,0,h,0,1,0,1,0,1,0,1,-g*u,-m*u,-b*l,-x*l,-E*d,-y*d,-S*v,-w*v,-g*c,-m*c,-b*f,-x*f,-E*p,-y*p,-S*h,-w*h],8);if(!C.length)return[];var M=bt(C,[g,m,b,x,E,y,S,w],8);return M[8]=1,gt(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}(M),3,4)}function Bt(t){return Ft(It(t))}function Ft(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var n=t.matrixFunction,r=t.functionValue;n&&(e=n(e,r))})),e}function It(t){return(k(t)?t:N(t)).map((function(t){var e=Z(t),n=e.prefix,r=e.value,i=null,o=n,a="";if("translate"===n||"translateX"===n||"translate3d"===n){var s=j(r).map((function(t){return parseFloat(t)})),u=s[0],c=s[1],l=void 0===c?0:c,f=s[2];i=Ot,a=[u,l,void 0===f?0:f]}else if("translateY"===n){i=Ot,a=[0,l=parseFloat(r),0]}else if("translateZ"===n){i=Ot,a=[0,0,parseFloat(r)]}else if("scale"===n||"scale3d"===n){var d=j(r).map((function(t){return parseFloat(t)})),p=d[0],v=d[1],h=void 0===v?p:v,g=d[2];i=Dt,a=[p,h,void 0===g?1:g]}else if("scaleX"===n){i=Dt,a=[p=parseFloat(r),1,1]}else if("scaleY"===n){i=Dt,a=[1,h=parseFloat(r),1]}else if("scaleZ"===n){i=Dt,a=[1,1,parseFloat(r)]}else if("rotate"===n||"rotateZ"===n||"rotateX"===n||"rotateY"===n){var m=Y(r),b=m.unit,x=m.value;"rotate"===n||"rotateZ"===n?(o="rotateZ",i=Mt):"rotateX"===n?i=wt:"rotateY"===n&&(i=Ct),a="rad"===b?x:x*Math.PI/180}else if("matrix3d"===n)i=Pt,a=j(r).map((function(t){return parseFloat(t)}));else if("matrix"===n){var E=j(r).map((function(t){return parseFloat(t)}));i=Pt,a=[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}else o="";return{name:n,functionName:o,value:r,matrixFunction:i,functionValue:a}}))}var At=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),o=-1===i?n.length:i;n[o]=t,r[o]=e},t}(),Nt=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),jt="function"===typeof Map,Zt=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var Yt=function(){function t(t,e,n,r,i,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],r=[];return t.forEach((function(t){var e=t[0],i=t[1],o=new Zt;n[e]=o,r[i]=o})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var i=t[0],o=t[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],u=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[u,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,r){var i=t[0],o=t[1],a=e[r],s=a[0],u=a[1];if(i!==o)return n.push([s,u]),!0})),this.cachePureChanged=n},t}();function Lt(t,e,n){var r=jt?Map:n?Nt:At,i=n||function(t){return t},o=[],a=[],s=[],u=t.map(i),c=e.map(i),l=new r,f=new r,d=[],p=[],v={},h=[],g=0,m=0;return u.forEach((function(t,e){l.set(t,e)})),c.forEach((function(t,e){f.set(t,e)})),u.forEach((function(t,e){var n=f.get(t);"undefined"===typeof n?(++m,a.push(e)):v[n]=m})),c.forEach((function(t,e){var n=l.get(t);"undefined"===typeof n?(o.push(e),++g):(s.push([n,e]),m=v[e]||0,d.push([n-m,e-g]),p.push(e===n),n!==e&&h.push([n,e]))})),a.reverse(),new Yt(t,e,o,a,h,s,d,p)}var Xt=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=Lt(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),Wt=Xt,Ht=function(t,e){return Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ht(t,e)};var qt="function"===typeof Map?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}();var Vt=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,qt)||this}return function(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Wt);function Ut(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function Kt(t){return nt(t,R)}function Qt(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;n>=0;--n)e+=t[n];return e}(t.map((function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]}))))/2}function $t(t,e){var n=e.width,r=e.height,i=e.left,o=e.top,a=Jt(t),s=a.minX,u=a.minY,c=a.maxX,l=a.maxY,f=n/(c-s),d=r/(l-u);return t.map((function(t){return[i+(t[0]-s)*f,o+(t[1]-u)*d]}))}function Jt(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function te(t,e,n){var r=t[0],i=t[1],o=Jt(e),a=o.minX,s=o.maxX,u=[[a,i],[s,i]],c=ee(u[0],u[1]),l=ie(e),f=[];if(l.forEach((function(e){var n,r=ee(e[0],e[1]),o=e[0];(n=r,c.every((function(t,e){return 0===Kt(t-n[e])})))?f.push({pos:t,line:e,type:"line"}):re(ne(c,r),[u,e]).forEach((function(t){e.some((function(e){return r=t,!Kt((n=e)[0]-r[0])&&!Kt(n[1]-r[1]);var n,r}))?f.push({pos:t,line:e,type:"point"}):0!==Kt(o[1]-i)&&f.push({pos:t,line:e,type:"intersection"})}))})),!n&&W(f,(function(t){return t[0]===r})))return!0;var d=0,p={};return f.forEach((function(t){var e=t.pos,n=t.type,o=t.line;if(!(e[0]>r))if("intersection"===n)++d;else{if("line"===n)return;if("point"===n){var a=W(o,(function(t){return t[1]!==i})),s=p[e[0]],u=a[1]>i?1:-1;s?s!==u&&++d:p[e[0]]=u}}})),d%2===1}function ee(t,e){var n=t[0],r=t[1],i=e[0]-n,o=e[1]-r;Math.abs(i)<R&&(i=0),Math.abs(o)<R&&(o=0);var a=0,s=0,u=0;return i?o?(s=1,u=-(a=-o/i)*n-r):(s=1,u=-r):o&&(a=-1,u=n),[a,s,u]}function ne(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=0===n&&0===o,c=0===r&&0===a,l=[];if(u&&c)return[];if(u){var f=-i/r;return f!==-s/a?[]:[[-1/0,f],[1/0,f]]}if(c){var d=-i/n;return d!==-s/o?[]:[[d,-1/0],[d,1/0]]}if(0===n)l=[[p=-(a*(v=-i/r)+s)/o,v]];else if(0===o){l=[[p=-(r*(v=-s/a)+i)/n,v]]}else if(0===r){l=[[p=-i/n,v=-(o*p+s)/a]]}else if(0===a){l=[[p=-s/o,v=-(n*p+i)/r]]}else{var p,v;l=[[p=(r*s-a*i)/(a*n-r*o),v=-(n*p+i)/r]]}return l.map((function(t){return[t[0],t[1]]}))}function re(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))})),r=[];if(2===t.length){var i=t[0],o=i[0],a=i[1];if(Kt(o-t[1][0])){if(!Kt(a-t[1][1])){var s=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),u=Math.min.apply(Math,n.map((function(t){return t[0][1]})));if(Kt(s-u)>0)return[];r=[[s,a],[u,a]]}}else{var c=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),l=Math.min.apply(Math,n.map((function(t){return t[1][1]})));if(Kt(c-l)>0)return[];r=[[o,c],[o,l]]}}return r.length||(r=t.filter((function(t){var e=t[0],r=t[1];return n.every((function(t){return 0<=Kt(e-t[0][0])&&0<=Kt(t[0][1]-e)&&0<=Kt(r-t[1][0])&&0<=Kt(t[1][1]-r)}))}))),r.map((function(t){return[Kt(t[0]),Kt(t[1])]}))}function ie(t){return Ut(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}function oe(t,e){var n=t.slice(),r=e.slice();-1===tt(n)&&n.reverse(),-1===tt(r)&&r.reverse();var i=ie(n),o=ie(r),a=i.map((function(t){return ee(t[0],t[1])})),s=o.map((function(t){return ee(t[0],t[1])})),u=[];a.forEach((function(t,e){var n=i[e],a=[];s.forEach((function(r,i){var s=re(ne(t,r),[n,o[i]]);a.push.apply(a,s.map((function(t){return{index1:e,index2:i,pos:t,type:"intersection"}})))})),a.sort((function(t,e){return et(n[0],t.pos)-et(n[0],e.pos)})),u.push.apply(u,a),te(n[1],r)&&u.push({index1:e,index2:-1,pos:n[1],type:"inside"})})),o.forEach((function(t,e){if(te(t[1],n)){var r=!1,i=X(u,(function(t){return t.index2===e?(r=!0,!1):!!r}));-1===i&&(r=!1,i=X(u,(function(t){var n=t.index1,i=t.index2;return-1===n&&i+1===e?(r=!0,!1):!!r}))),-1===i?u.push({index1:-1,index2:e,pos:t[1],type:"inside"}):u.splice(i,0,{index1:-1,index2:e,pos:t[1],type:"inside"})}}));var c={};return u.filter((function(t){var e=t.pos,n=e[0]+"x"+e[1];return!c[n]&&(c[n]=!0,!0)}))}function ae(t,e){var n=function(t,e){return oe(t,e).map((function(t){return t.pos}))}(t,e);return Qt(n)}var se=function(){return se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},se.apply(this,arguments)};var ue=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(_(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(_(t))for(var n in t)this.off(n);else if(e){var r=this._events[t];if(r){var i=X(r,(function(t){return t.listener===e}));i>-1&&r.splice(i,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var r=this._events[t];if(!t||!r)return!0;var i=!1;return e.eventType=t,e.stop=function(){i=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(r).forEach((function(r){r.listener(e),r.once&&n.off(t,r.listener)})),!i},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var r=this._events;r[t]=r[t]||[],r[t].push(se({listener:e},n))},t}(),ce=ue,le=function(t,e){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},le(t,e)};var fe=function(){return fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},fe.apply(this,arguments)};function de(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function pe(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function ve(t){return t?z(t)?document.querySelector(t):B(t)?t():t instanceof Element?t:"current"in t?t.current:"value"in t?t.value:void 0:null}var he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startRect=null,e._startPos=[],e._prevTime=0,e._timer=0,e._prevScrollPos=[0,0],e._isWait=!1,e._flag=!1,e._currentOptions=null,e._lock=!1,e._unregister=null,e._onScroll=function(){var t=e._currentOptions;!e._lock&&t&&e.emit("scrollDrag",{next:function(n){e.checkScroll({container:t.container,inputEvent:n})}})},e}!function(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=ve(e.container);if(n){var r=0,i=0,o=0,a=0;if(n===document.body)o=window.innerWidth,a=window.innerHeight;else{var s=n.getBoundingClientRect();r=s.top,i=s.left,o=s.width,a=s.height}this._flag=!0,this._startPos=[t.clientX,t.clientY],this._startRect={top:r,left:i,width:o,height:a},this._prevScrollPos=this._getScrollPosition([0,0],e),this._currentOptions=e,this._registerScrollEvent(e)}else this._flag=!1},n.drag=function(t,e){if(clearTimeout(this._timer),this._flag){var n=t.clientX,r=t.clientY,i=e.threshold,o=void 0===i?0:i,a=this._startRect,s=this._startPos;this._currentOptions=e;var u=[0,0];return a.top>r-o?(s[1]>a.top||r<s[1])&&(u[1]=-1):a.top+a.height<r+o&&(s[1]<a.top+a.height||r>s[1])&&(u[1]=1),a.left>n-o?(s[0]>a.left||n<s[0])&&(u[0]=-1):a.left+a.width<n+o&&(s[0]<a.left+a.width||n>s[0])&&(u[0]=1),!(!u[0]&&!u[1])&&this._continueDrag(fe(fe({},e),{direction:u,inputEvent:t,isDrag:!0}))}},n.checkScroll=function(t){var e=this;if(this._isWait)return!1;var n=t.prevScrollPos,r=void 0===n?this._prevScrollPos:n,i=t.direction,o=t.throttleTime,a=void 0===o?0:o,s=t.inputEvent,u=t.isDrag,c=this._getScrollPosition(i||[0,0],t),l=c[0]-r[0],f=c[1]-r[1],d=i||[l?Math.abs(l)/l:0,f?Math.abs(f)/f:0];return this._prevScrollPos=c,this._lock=!1,!(!l&&!f)&&(this.emit("move",{offsetX:d[0]?l:0,offsetY:d[1]?f:0,inputEvent:s}),a&&u&&(clearTimeout(this._timer),this._timer=window.setTimeout((function(){e._continueDrag(t)}),a)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(t,e){var n=e.container,r=e.getScrollPosition;return(void 0===r?de:r)({container:ve(n),direction:t})},n._continueDrag=function(t){var e,n=this,r=t.container,i=t.direction,o=t.throttleTime,a=t.useScroll,s=t.isDrag,u=t.inputEvent;if(!(!this._flag||s&&this._isWait)){var c=L(),l=Math.max(o+this._prevTime-c,0);if(l>0)return clearTimeout(this._timer),this._timer=window.setTimeout((function(){n._continueDrag(t)}),l),!1;this._prevTime=c;var f=this._getScrollPosition(i,t);this._prevScrollPos=f,s&&(this._isWait=!0),a||(this._lock=!0);var d={container:ve(r),direction:i,inputEvent:u};return null===(e=t.requestScroll)||void 0===e||e.call(t,d),this.emit("scroll",d),this._isWait=!1,a||this.checkScroll(fe(fe({},t),{prevScrollPos:f,direction:i,inputEvent:u}))}},n._registerScrollEvent=function(t){this._unregisterScrollEvent();var e=t.checkScrollEvent;if(e){var n=!0===e?pe:e,r=ve(t.container);!0!==e||r!==document.body&&r!==document.documentElement?this._unregister=n(r,this._onScroll):this._unregister=pe(window,this._onScroll)}},n._unregisterScrollEvent=function(){var t;null===(t=this._unregister)||void 0===t||t.call(this),this._unregister=null},e}(ce),ge=he,me=n(2791),be=function(t,e){return be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},be(t,e)};var xe=function(){return xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xe.apply(this,arguments)};function Ee(t){return function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+2*Math.PI}([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function ye(t){return t?t.touches?function(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(Ce(t[r]));return n}(t.touches):[Ce(t)]:[]}function Se(t,e,n){var r=n.length,i=Me(t,r),o=i.clientX,a=i.clientY,s=i.originalClientX,u=i.originalClientY,c=Me(e,r),l=c.clientX,f=c.clientY,d=Me(n,r);return{clientX:s,clientY:u,deltaX:o-l,deltaY:a-f,distX:o-d.clientX,distY:a-d.clientY}}function we(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Ce(t){return{clientX:t.clientX,clientY:t.clientY}}function Me(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=0;r<e;++r){var i=t[r];n.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,n.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,n.clientX+=i.clientX,n.clientY+=i.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var De=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return t.prototype.getAngle=function(t){return void 0===t&&(t=this.prevClients),Ee(t)},t.prototype.getRotation=function(t){return void 0===t&&(t=this.prevClients),Ee(t)-Ee(this.startClients)},t.prototype.getPosition=function(t,e){void 0===t&&(t=this.prevClients);var n=Se(t||this.prevClients,this.prevClients,this.startClients),r=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(r*r+i*i),this.prevClients=t,n},t.prototype.getPositions=function(t){void 0===t&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map((function(n,r){return Se([t[r]],[e[r]],[n])}))},t.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=Me(t,this.length),r=Me(this.prevClients,this.length),i=n.clientX-r.clientX,o=n.clientY-r.clientY;return Math.sqrt(i*i+o*o)+e},t.prototype.getDistance=function(t){return void 0===t&&(t=this.prevClients),we(t)},t.prototype.getScale=function(t){return void 0===t&&(t=this.prevClients),we(t)/we(this.startClients)},t.prototype.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),Re=["textarea","input"],Oe=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;r.options={},r.flag=!1,r.pinchFlag=!1,r.data={},r.isDrag=!1,r.isPinch=!1,r.isMouse=!1,r.isTouch=!1,r.clientStores=[],r.targets=[],r.prevTime=0,r.doubleFlag=!1,r._dragFlag=!1,r._isTrusted=!1,r._isMouseEvent=!1,r._isSecondaryButton=!1,r._preventMouseEvent=!1,r._prevInputEvent=null,r.onDragStart=function(t,e){if(void 0===e&&(e=!0),r.flag||!1!==t.cancelable){var n=r.options,i=n.container,o=n.pinchOutside,a=n.preventWheelClick,s=n.preventRightClick,u=n.preventDefault,c=n.checkInput,l=n.preventClickEventOnDragStart,f=n.preventClickEventOnDrag,d=n.preventClickEventByCondition,p=r.isTouch,v=!r.flag;if(r._isSecondaryButton=3===t.which||2===t.button,a&&(2===t.which||1===t.button)||s&&(3===t.which||2===t.button))return r.stop(),!1;if(v){var h=document.activeElement,g=t.target;if(g){var m=g.tagName.toLowerCase(),b=Re.indexOf(m)>-1,x=g.isContentEditable;if(b||x){if(c||h===g)return!1;if(h&&x&&h.isContentEditable&&h.contains(g))return!1}else if((u||"touchstart"===t.type)&&h){var E=h.tagName.toLowerCase();(h.isContentEditable||Re.indexOf(E)>-1)&&h.blur()}(l||f||d)&&st(window,"click",r._onClick,!0)}r.clientStores=[new De(ye(t))],r.flag=!0,r.isDrag=!1,r._isTrusted=e,r._dragFlag=!0,r._prevInputEvent=t,r.data={},r.doubleFlag=L()-r.prevTime<200,r._isMouseEvent=function(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}(t),!r._isMouseEvent&&r._preventMouseEvent&&(r._preventMouseEvent=!1),!1===(r._preventMouseEvent||r.emit("dragStart",xe(xe({data:r.data,datas:r.data,inputEvent:t,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,isTrusted:e,isDouble:r.doubleFlag},r.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){r._dragFlag=!1}})))&&r.stop(),r._isMouseEvent&&r.flag&&u&&t.preventDefault()}if(!r.flag)return!1;var y=0;if(v?(r._attchDragEvent(),p&&o&&(y=setTimeout((function(){st(i,"touchstart",r.onDragStart,{passive:!1})})))):p&&o&&ut(i,"touchstart",r.onDragStart),r.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(y),v&&t.touches.length!==t.changedTouches.length)return;r.pinchFlag||r.onPinchStart(t)}}},r.onDrag=function(t,e){if(r.flag){var n=r.options.preventDefault;!r._isMouseEvent&&n&&t.preventDefault(),r._prevInputEvent=t;var i=ye(t),o=r.moveClients(i,t,!1);if(r._dragFlag){if(r.pinchFlag||o.deltaX||o.deltaY)if(!1===(r._preventMouseEvent||r.emit("drag",xe(xe({},o),{isScroll:!!e,inputEvent:t}))))return void r.stop();r.pinchFlag&&r.onPinch(t,i)}r.getCurrentStore().getPosition(i,!0)}},r.onDragEnd=function(t){if(r.flag){var e=r.options,n=e.pinchOutside,i=e.container,o=e.preventClickEventOnDrag,a=e.preventClickEventOnDragStart,s=e.preventClickEventByCondition,u=r.isDrag;(o||a||s)&&requestAnimationFrame((function(){r._allowClickEvent()})),s||a||!o||u||r._allowClickEvent(),r.isTouch&&n&&ut(i,"touchstart",r.onDragStart),r.pinchFlag&&r.onPinchEnd(t);var c=(null===t||void 0===t?void 0:t.touches)?ye(t):[];0!==c.length&&r.options.keepDragging?r._addStore(new De(c)):r.flag=!1;var l=r._getPosition(),f=L(),d=!u&&r.doubleFlag;r._prevInputEvent=null,r.prevTime=u||d?0:f,r.flag||(r._dettachDragEvent(),r._preventMouseEvent||r.emit("dragEnd",xe({data:r.data,datas:r.data,isDouble:d,isDrag:u,isClick:!u,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,inputEvent:t,isTrusted:r._isTrusted},l)),r.clientStores=[],r._isMouseEvent||(r._preventMouseEvent=!0,requestAnimationFrame((function(){requestAnimationFrame((function(){r._preventMouseEvent=!1}))}))))}},r.onBlur=function(){r.onDragEnd()},r._allowClickEvent=function(){ut(window,"click",r._onClick,!0)},r._onClick=function(t){r._allowClickEvent(),r._preventMouseEvent=!1;var e=r.options.preventClickEventByCondition;(null===e||void 0===e?void 0:e(t))||(t.stopPropagation(),t.preventDefault())},r._onContextMenu=function(t){r.options.preventRightClick?r.onDragEnd(t):t.preventDefault()},r._passCallback=function(){};var i=[].concat(e);r.options=xe({checkInput:!1,container:i.length>1?window:i[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var o=r.options,a=o.container,s=o.events,u=o.checkWindowBlur;if(r.isTouch=s.indexOf("touch")>-1,r.isMouse=s.indexOf("mouse")>-1,r.targets=i,r.isMouse&&(i.forEach((function(t){st(t,"mousedown",r.onDragStart),st(t,"mousemove",r._passCallback)})),st(a,"contextmenu",r._onContextMenu)),u&&st(window,"blur",r.onBlur),r.isTouch){var c={passive:!1};i.forEach((function(t){st(t,"touchstart",r.onDragStart,c),st(t,"touchmove",r._passCallback,c)}))}return r}return function(t,e){function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(t,e,n,r){void 0===r&&(r=!0),this.flag&&(this.clientStores[0].move(t,e),r&&this.onDrag(n,!0))},e.prototype.move=function(t,e){var n=t[0],r=t[1],i=this.getCurrentStore().prevClients;return this.moveClients(i.map((function(t){var e=t.clientX,i=t.clientY;return{clientX:e+n,clientY:i+r,originalClientX:e,originalClientY:i}})),e,!0)},e.prototype.triggerDragStart=function(t){this.onDragStart(t,!1)},e.prototype.setEventData=function(t){var e=this.data;for(var n in t)e[n]=t[n];return this},e.prototype.setEventDatas=function(t){return this.setEventData(t)},e.prototype.getCurrentEvent=function(t){return void 0===t&&(t=this._prevInputEvent),xe(xe({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),ut(window,"blur",this.onBlur),this.isMouse&&(e.forEach((function(e){ut(e,"mousedown",t.onDragStart)})),ut(n,"contextmenu",this._onContextMenu)),this.isTouch&&(e.forEach((function(e){ut(e,"touchstart",t.onDragStart)})),ut(n,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(t){var e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var n=new De(ye(t));this.pinchFlag=!0,this._addStore(n),!1===this.emit("pinchStart",xe(xe({data:this.data,datas:this.data,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition()),{inputEvent:t,isTrusted:this._isTrusted}))&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",xe(xe({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",xe(xe({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(t,e,n){var r=this._getPosition(t,n),i=this.isDrag;(r.deltaX||r.deltaY)&&(this.isDrag=!0);var o=!1;return!i&&this.isDrag&&(o=!0),xe(xe({data:this.data,datas:this.data},r),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:o})},e.prototype._addStore=function(t){this.clientStores.splice(0,0,t)},e.prototype._getPosition=function(t,e){var n=this.getCurrentStore().getPosition(t,e),r=this.clientStores.slice(1).reduce((function(t,e){var n=e.getPosition();return t.distX+=n.distX,t.distY+=n.distY,t}),n),i=r.distX,o=r.distY;return xe(xe({},n),{distX:i,distY:o})},e.prototype._attchDragEvent=function(){var t=this.options.container,e={passive:!1};this.isMouse&&(st(t,"mousemove",this.onDrag),st(t,"mouseup",this.onDragEnd)),this.isTouch&&(st(t,"touchmove",this.onDrag,e),st(t,"touchend",this.onDragEnd,e),st(t,"touchcancel",this.onDragEnd,e))},e.prototype._dettachDragEvent=function(){var t=this.options.container;this.isMouse&&(ut(t,"mousemove",this.onDrag),ut(t,"mouseup",this.onDragEnd)),this.isTouch&&(ut(t,"touchstart",this.onDragStart),ut(t,"touchmove",this.onDrag),ut(t,"touchend",this.onDragEnd),ut(t,"touchcancel",this.onDragEnd))},e}(ce);var Pe=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function Te(t,e,n,r){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.setAttribute("data-styled-id",t),n.nonce&&i.setAttribute("nonce",n.nonce),i.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var r=n.trim();return(r?j(r):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?""+n.replace(/\:host/g,"."+t):n?"."+t+" "+n:"."+t})).join(", ")+" {"}))}(t,e,n),(r||document.head||document.body).appendChild(i),i}var _e=function(t){var e,n="rCS"+Pe(t).toString(36),r=0;return{className:n,inject:function(i,o){void 0===o&&(o={});var a,s=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(i),u=0===r;return(s||u)&&(a=Te(n,t,o,s)),u&&(e=a),s||++r,{destroy:function(){s?(s.removeChild(a),a=null):(r>0&&--r,0===r&&e&&(e.parentNode.removeChild(e),e=null))}}}}},ke=function(t,e){return ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},ke(t,e)};function ze(t,e){function n(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ge=function(){return Ge=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ge.apply(this,arguments)};var Be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.injectResult=null,e.tag="div",e}ze(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=(t.cspNonce,t.portalContainer),i=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["className","cspNonce","portalContainer"]),o=this.injector.className,a=this.tag,s={};return(me.version||"").indexOf("simple")>-1&&r&&(s={portalContainer:r}),(0,me.createElement)(a,Ge({ref:S(this,"element"),"data-styled-id":o,className:n+" "+o},s,i))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(me.Component);var Fe=function(t,e){var n=_e(e);return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.injector=n,r.tag=t,r}return ze(r,e),r}(Be)},Ie=function(t,e){return Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ie(t,e)};function Ae(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ne=function(){return Ne=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ne.apply(this,arguments)};function je(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function Ze(t,e){var n;return Ne({events:{},props:(n={},n[t]=Boolean,n),name:t},e)}var Ye=E(),Le=Ye.browser.webkit,Xe=Le&&function(){var t="undefined"===typeof window?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return!!e&&parseFloat(e[1])<605}(),We="firefox"===Ye.browser.name,He=parseInt(Ye.browser.webkitVersion,10)>=612||parseInt(Ye.browser.version,10)>=15,qe="moveable-",Ve="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n    outline: 1px solid transparent;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n    position: absolute;\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.edge {\n    z-index: 1;\n    background: transparent;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n".concat([0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'.concat(t,'"], :global .view-control-rotation').concat(t," {\n\t").concat(function(t){var e=function(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}(1,t),n=45*Math.round(t/45)%180,r="ns-resize";return 135===n?r="nwse-resize":45===n?r="nesw-resize":90===n&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")}(t),"\n}\n")})).join("\n"),'\n\n.line.direction:before {\n    content: "";\n    position: absolute;\n    width: 100%;\n    height: calc(var(--moveable-line-padding, 0) * 1px);\n    bottom: 0;\n    left: 0;\n}\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n').concat(Xe?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"","\n"),Ue=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Ke=1e-4,Qe=1e-7,$e=1e-9,Je=Math.pow(10,10),tn=-Je,en=["n","w","s","e"],nn=["n","w","s","e","nw","ne","sw","se"],rn={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},on={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},an={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},sn=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag"];function un(t,e,n,r,i,o){var a,s;void 0===o&&(o="draggable");var u=null!==(s=null===(a=e.gestos[o])||void 0===a?void 0:a.move(n,t.inputEvent))&&void 0!==s?s:{},c=u.originalDatas||u.datas,l=c[o]||(c[o]={});return Ne(Ne({},i?Pr(e,u):u),{isPinch:!!r,parentEvent:!0,datas:l,originalDatas:t.originalDatas})}var cn=function(){function t(t){var e;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((e={})[t]={},e)}var e=t.prototype;return e.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),Ne(Ne({},this.move(t,e.inputEvent)),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r,i=!1;if(this.isFlag){var o=this.isDrag;n=this.prevX+t[0],r=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!o&&this.isDrag&&(i=!0)}else this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0;return this.prevX=n,this.prevY=r,{type:"drag",clientX:n,clientY:r,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function ln(t,e){var n=e.clientX,r=e.clientY,i=e.datas,o=t.state,a=o.moveableClientRect,s=o.rootMatrix,u=o.is3d,c=o.pos1,l=Et(Or(s,[n-a.left,r-a.top],u?4:3),c),f=mn({datas:i,distX:l[0],distY:l[1]});return[f[0],f[1]]}function fn(t,e){var n=e.datas,r=t.state,i=r.allMatrix,o=r.beforeMatrix,a=r.is3d,s=r.left,u=r.top,c=r.origin,l=r.offsetMatrix,f=r.targetMatrix,d=r.transformOrigin,p=a?4:3;n.is3d=a,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=o,n.offsetMatrix=l,n.transformOrigin=d,n.inverseMatrix=pt(i,p),n.inverseBeforeMatrix=pt(o,p),n.absoluteOrigin=ht(xt([s,u],c),p),n.startDragBeforeDist=St(n.inverseBeforeMatrix,n.absoluteOrigin,p),n.startDragDist=St(n.inverseMatrix,n.absoluteOrigin,p)}function dn(t,e){var n=t.datas,r=t.originalDatas.beforeRenderable,i=n.transformIndex,o=r.nextTransforms,a=o.length,s=r.nextTransformAppendedIndexes,u=0;-1===i?("translate"===e?u=0:"rotate"===e&&(u=X(o,(function(t){return t.match(/scale\(/g)}))),-1===u&&(u=o.length),n.transformIndex=u):u=W(s,(function(t){return t.index===i&&t.functionName===e}))?i:i+s.filter((function(t){return t.index<i})).length;var c=function(t,e){var n=t.slice(0,e<0?void 0:e),r=t.slice(0,e<0?void 0:e+1),i=t[e]||"",o=e<0?[]:t.slice(e),a=e<0?[]:t.slice(e+1),s=It(n),u=It(r),c=It([i]),l=It(o),f=It(a),d=Ft(s),p=Ft(u),v=Ft(l),h=Ft(f),g=bt(d,v,4);return{transforms:t,beforeFunctionMatrix:d,beforeFunctionMatrix2:p,targetFunctionMatrix:Ft(c),afterFunctionMatrix:v,afterFunctionMatrix2:h,allFunctionMatrix:g,beforeFunctions:s,beforeFunctions2:u,targetFunction:c[0],afterFunctions:l,afterFunctions2:f,beforeFunctionTexts:n,beforeFunctionTexts2:r,targetFunctionText:i,afterFunctionTexts:o,afterFunctionTexts2:a}}(o,u),l=c.targetFunction,f="rotate"===e?"rotateZ":e;n.beforeFunctionTexts=c.beforeFunctionTexts,n.afterFunctionTexts=c.afterFunctionTexts,n.beforeTransform=c.beforeFunctionMatrix,n.beforeTransform2=c.beforeFunctionMatrix2,n.targetTansform=c.targetFunctionMatrix,n.afterTransform=c.afterFunctionMatrix,n.afterTransform2=c.afterFunctionMatrix2,n.targetAllTransform=c.allFunctionMatrix,l.functionName===f?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):a>u&&(n.isAppendTransform=!0,r.nextTransformAppendedIndexes=je(je([],s,!0),[{functionName:e,index:u,isAppend:!0}],!1))}function pn(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function vn(t){var e=t.datas,n=gn({datas:e,distX:t.distX,distY:t.distY});return St(hn(e,function(t,e){for(var n=_t(e),r=0;r<e-1;++r)n[e*(e-1)+r]=t[r]||0;return n}([n[0],n[1]],4)),ht([0,0,0],4),4)}function hn(t,e,n){var r=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,u=n?bt(s,e,4):bt(e,s,4),c=bt(pt(n?o:r,4),u,4);return bt(c,pt(n?a:i,4),4)}function gn(t){var e=t.datas,n=t.distX,r=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,a=e.startDragBeforeDist,s=o?4:3;return Et(St(i,xt(e.absoluteOrigin,[n,r]),s),a)}function mn(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,u=n.startDragBeforeDist,c=n.startDragDist,l=s?4:3;return Et(St(e?o:a,xt(n.absoluteOrigin,[r,i]),l),e?u:c)}function bn(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function xn(t,e){var n=(e[0]+1)/2,r=(e[1]+1)/2,i=[P(t[0][0],t[1][0],n,1-n),P(t[0][1],t[1][1],n,1-n)],o=[P(t[2][0],t[3][0],n,1-n),P(t[2][1],t[3][1],n,1-n)];return[P(i[0],o[0],r,1-r),P(i[1],o[1],r,1-r)]}function En(t,e,n,r){return bt(t,An(e,r,n),r)}function yn(t){var e=Mn(t);return{setTransform:function(n,r){void 0===r&&(r=-1),e.startTransforms=k(n)?n:N(n),wn(t,r)},setTransformIndex:function(e){wn(t,e)}}}function Sn(t,e){wn(t,X(Mn(t).startTransforms,(function(t){return 0===t.indexOf("".concat(e,"("))})))}function wn(t,e){var n=Mn(t),r=t.datas;if(r.transformIndex=e,-1!==e){var i=n.startTransforms[e];if(i){var o=It([i]);r.startValue=o[0].functionValue}}}function Cn(t,e){Mn(t).nextTransforms=N(e)}function Mn(t){return t.originalDatas.beforeRenderable}function Dn(t){return t.originalDatas.beforeRenderable.nextTransforms}function Rn(t){return Dn(t).join(" ")}function On(t){return Mn(t).nextStyle}function Pn(t,e,n,r,i){Cn(i,e);var o=to.drag(t,un(i,t.state,n,r,!1)),a=o?o.transform:e;return Ne(Ne({transform:e,drag:o},gr({transform:a},i)),{afterTransform:a})}function Tn(t,e,n,r,i){var o=t.state,a=o.left,s=o.top,u=t.props.groupable,c=function(t,e,n){var r=t.transformOrigin,i=t.offsetMatrix,o=t.is3d,a=e.beforeTransform,s=e.afterTransform,u=o?4:3;return En(i,gt(bt(bt(a,Bt([n]),4),s,4),4,u),r,u)}(t.state,i,e),l=u?a:0,f=u?s:0,d=Et(r,kn(t,n,c));return Et(d,[l,f])}function _n(t,e,n){return[t[0]/(e/2)-1,t[1]/(n/2)-1]}function kn(t,e,n){void 0===n&&(n=t.state.allMatrix);var r=t.state,i=r.width,o=r.height,a=r.is3d?4:3;return Kn(n,[i/2*(1+e[0]),o/2*(1+e[1])],a)}function zn(t,e,n,r,i,o){var a=t.props.groupable,s=t.state,u=s.transformOrigin,c=s.offsetMatrix,l=s.is3d,f=s.width,d=s.height,p=s.left,v=s.top,h=o.fixedDirection,g=o.nextTargetMatrix||s.targetMatrix,m=l?4:3,b=function(t,e,n,r,i,o){return void 0===r&&(r=e),void 0===i&&(i=n),void 0===o&&(o=[0,0]),t?t.map((function(t,a){var s=Y(t),u=s.value,c=s.unit,l=a?i:r,f=a?n:e;return"%"===t||isNaN(u)?f*(l?o[a]/l:0):"%"!==c?u:f*u/100})):o}(i,e,n,f,d,u),x=a?p:0,E=a?v:0,y=function(t,e,n,r,i,o){var a=xn(Qn(e,n,r,i),o);return[t[0]-a[0],t[1]-a[1]]}(r,En(c,g,b,m),e,n,m,h);return Et(y,[x,E])}function Gn(t,e){return xn(vr(t.state),e)}function Bn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(void 0,je([qe],t,!1))}function Fn(t){t()}function In(t){return t&&"none"!==t?_(t)?t:Bt(t):[1,0,0,1,0,0]}function An(t,e,n){return mt(e,zt(n,e),t,zt(n.map((function(t){return-t})),e))}function Nn(t){return jn(Sr(t,":before")).map((function(e,n){var r=Y(e),i=r.value,o=r.unit;return i*function(t,e,n){return"%"===e?Vn(t.ownerSVGElement)[n?"width":"height"]/100:1}(t,o,0===n)}))}function jn(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function Zn(t,e){void 0===e&&(e=Sr(t));var n=e.transform;if(n&&"none"!==n)return e.transform;if("transform"in t){var r=t.transform.baseVal;if(!r)return"";var i=r.length;if(!i)return"";for(var o=[],a=function(t){var e=r[t].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map((function(t){return e[t]})).join(", "),")"))},s=0;s<i;++s)a(s);return o.join(" ")}return""}function Yn(t,e,n,r,i){var o,a,s,u,c,l=t&&t.ownerDocument?t.ownerDocument:document,f=l.documentElement||l.body,d=!1;if(!t||n)u=t;else{var p=null===(o=null===t||void 0===t?void 0:t.assignedSlot)||void 0===o?void 0:o.parentElement,v=t.parentElement;p?(d=!0,c=v,u=p):u=v}for(var h=!1,g=t===e||u===e,m="relative",b=1,x=parseFloat(null===(a=i)||void 0===a?void 0:a.zoom)||1,E=null===i||void 0===i?void 0:i.position;u&&u!==f;){e===u&&(g=!0);var y=Sr(u),S=u.tagName.toLowerCase(),w=Zn(u,y),C=y.willChange,M=parseFloat(y.zoom)||1;if(m=y.position,r&&1!==M){b=M;break}if(!n&&r&&1!==x&&E&&"absolute"!==E||"svg"===S||"static"!==m||w&&"none"!==w||"transform"===C)break;var D=null===(s=null===t||void 0===t?void 0:t.assignedSlot)||void 0===s?void 0:s.parentNode,R=u.parentNode;D&&(d=!0,c=R);var O=D||R;if(O&&11===O.nodeType){u=O.host,h=!0;break}u=O,m="relative"}return{offsetZoom:b,hasSlot:d,parentSlotElement:c,isCustomElement:h,isStatic:"static"===m,isEnd:g||!u||u===f,offsetParent:u||f}}function Ln(t,e,n){var r,i,o,a=t.tagName.toLowerCase(),s=t.offsetLeft,u=t.offsetTop,c=T(s),l=!c;return l||"svg"===a?o=(i=jn(n).map((function(t){return parseFloat(t)}))).slice():(o=(i=Xe?Nn(t):jn(n).map((function(t){return parseFloat(t)}))).slice(),l=!0,r=function(t,e,n){if(!t.getBBox||!n&&"g"===t.tagName.toLowerCase())return[0,0,0,0];var r=t.getBBox(),i=Vn(t.ownerSVGElement),o=r.x-i.x,a=r.y-i.y;return[o,a,e[0]-o,e[1]-a]}(t,i,t===e&&"g"===e.tagName.toLowerCase()),s=r[0],u=r[1],i[0]=r[2],i[1]=r[3]),{tagName:a,isSVG:c,hasOffset:l,offset:[s||0,u||0],origin:i,targetOrigin:o}}function Xn(t,e,n){void 0===n&&(n=Sr(t));var r=Sr(document.body),i=r.position;if(!e&&(!i||"static"===i))return[0,0];var o=parseInt(r.marginLeft,10),a=parseInt(r.marginTop,10);return"absolute"===n.position&&("auto"===n.top&&"auto"===n.bottom||(a=0),"auto"===n.left&&"auto"===n.right||(o=0)),[o,a]}function Wn(t){t.forEach((function(t){var e=t.matrix;e&&(t.matrix=gt(e,3,4))}))}function Hn(t){for(var e=t.parentElement,n=!1;e;){var r=Sr(e).transform;if(r&&"none"!==r){n=!0;break}if(e===document.body)break;e=e.parentElement}return{fixedContainer:e||document.body,hasTransform:n}}function qn(t,e){return void 0===e&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(yt(t,!e).join(","),")")}function Vn(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n,clientWidth:e,clientHeight:n}}function Un(t,e){var n=Vn(t),r=n.width,i=n.height,o=n.clientWidth,a=n.clientHeight,s=o/r,u=a/i,c=t.preserveAspectRatio.baseVal,l=c.align,f=c.meetOrSlice,d=[0,0],p=[s,u],v=[0,0];if(1!==l){var h=(l-2)%3,g=Math.floor((l-2)/3);d[0]=r*h/2,d[1]=i*g/2;var m=2===f?Math.max(u,s):Math.min(s,u);p[0]=m,p[1]=m,v[0]=(o-r)/2*h,v[1]=(a-i)/2*g}var b=kt(p,e);return b[e*(e-1)]=v[0],b[e*(e-1)+1]=v[1],An(b,e,d)}function Kn(t,e,n){return St(t,ht(e,n),n)}function Qn(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return Kn(t,e,r)}))}function $n(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{left:r,top:i,right:o,bottom:a,width:o-r,height:a-i}}function Jn(t,e,n,r){return $n(Qn(t,e,n,r))}function tr(t,e,n,r){var i=16===t.length?4:3,o=Qn(t,n,r,i),a=o[0],s=a[0],u=a[1],c=o[1],l=c[0],f=c[1],d=o[2],p=d[0],v=d[1],h=o[3],g=h[0],m=h[1],b=Kn(t,e,i),x=b[0],E=b[1],y=Math.min(s,l,p,g),S=Math.min(u,f,v,m),w=Math.max(s,l,p,g);return s=s-y||0,{left:y,top:S,right:w,bottom:Math.max(u,f,v,m),origin:[x=x-y||0,E=E-S||0],pos1:[s,u=u-S||0],pos2:[l=l-y||0,f=f-S||0],pos3:[p=p-y||0,v=v-S||0],pos4:[g=g-y||0,m=m-S||0],direction:tt(Qn(t,100,100,i))}}function er(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function nr(t,e){return er([e[0]-t[0],e[1]-t[1]])}function rr(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=J(t,e));var i=nr(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(i,"px")}}function ir(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,o=n.reduce((function(t,e){return t+e[0]}),0)/i,a=n.reduce((function(t,e){return t+e[1]}),0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function or(t,e){var n=t[e];return _(n)?Ne(Ne({},t),n):t}function ar(t,e){void 0===e&&(e=t?Sr(t):null);var n=t&&!T(t.offsetWidth),r=0,i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=0,d=0,p=0,v=0,h=1/0,g=1/0,m=1/0,b=1/0,x=0,E=0,y=!1;if(t)if(n||"svg"===t.tagName.toLowerCase()){var S=t.style,w="border-box"===e.boxSizing,C=parseFloat(e.borderLeftWidth)||0,M=parseFloat(e.borderRightWidth)||0,D=parseFloat(e.borderTopWidth)||0,R=parseFloat(e.borderBottomWidth)||0,O=(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0),P=(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0),_=O+(C+M),k=P+(D+R),z=e.position,G=0,B=0;if("clientLeft"in t){var F=null;if("absolute"===z)F=Yn(t,document.body).offsetParent;else F=t.parentElement;if(F){var I=Sr(F);G=parseFloat(I.width),B=parseFloat(I.height)}}f=Math.max(O,U(e.minWidth,G)||0),d=Math.max(P,U(e.minHeight,B)||0),h=U(e.maxWidth,G),g=U(e.maxHeight,B),isNaN(h)&&(h=1/0),isNaN(g)&&(g=1/0),x=U(S.width,0)||0,E=U(S.height,0)||0,s=parseFloat(e.width)||0,u=parseFloat(e.height)||0,r=c=Math.abs(s-x)<1?K(f,x||s,h):s,i=l=Math.abs(u-E)<1?K(d,E||u,g):u,o=c,a=l,w?(m=h,b=g,p=f,v=d,c=r-_,l=i-k):(m=h+_,b=g+k,p=f+_,v=d+k,r=c+_,i=l+k),o=c+O,a=l+P}else{var A=t.getBBox();y=!0,s=r=A.width,u=i=A.height,c=r,l=i,o=r,a=i}return{svg:y,offsetWidth:r,offsetHeight:i,clientWidth:o,clientHeight:a,contentWidth:c,contentHeight:l,inlineCSSWidth:x,inlineCSSHeight:E,cssWidth:s,cssHeight:u,minWidth:f,minHeight:d,maxWidth:h,maxHeight:g,minOffsetWidth:p,minOffsetHeight:v,maxOffsetWidth:m,maxOffsetHeight:b}}function sr(t,e){return J(e>0?t[0]:t[1],e>0?t[1]:t[0])}function ur(t,e){var n=t===document.body||t===document.documentElement,r={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return n&&(r.clientHeight=Math.max(e.height,r.clientHeight),r.scrollHeight=Math.max(e.height,r.scrollHeight)),r.overflow="visible"!==Sr(t).overflow,Ne(Ne({},e),r)}function cr(t,e,n,r){var i=t.left,o=t.right,a=t.top,s=t.bottom,u=e.top,c=e.left,l={left:c+i,top:u+a,right:c+o,bottom:u+s,width:o-i,height:s-a};return n&&r?ur(n,l):l}function lr(t,e){var n=0,r=0,i=0,o=0;if(t){var a=t.getBoundingClientRect();n=a.left,r=a.top,i=a.width,o=a.height}var s={left:n,top:r,width:i,height:o,right:n+i,bottom:r+o};return t&&e?ur(t,s):s}function fr(t,e,n,r){var i;if(t)i=t;else if(e)i=[0,0];else{i=dr(n.target,r)}return i}function dr(t,e){if(t){var n=t.getAttribute("data-rotation")||"",r=t.getAttribute("data-direction");if(e.deg=n,r){var i=[0,0];return r.indexOf("w")>-1&&(i[0]=-1),r.indexOf("e")>-1&&(i[0]=1),r.indexOf("n")>-1&&(i[1]=-1),r.indexOf("s")>-1&&(i[1]=1),i}}}function pr(t,e){return[xt(e,t[0]),xt(e,t[1]),xt(e,t[2]),xt(e,t[3])]}function vr(t){var e=t.left,n=t.top;return pr([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function hr(t,e){var n;null===(n=t[e])||void 0===n||n.unset(),t[e]=null}function gr(t,e){if(e){var n=Mn(e);n.nextStyle=Ne(Ne({},n.nextStyle),t)}return{style:t,cssText:V(t).map((function(e){return"".concat((n=e,r="-",void 0===r&&(r="-"),n.replace(/([a-z])([A-Z])/g,(function(t,e,n){return""+e+r+n.toLowerCase()}))),": ").concat(t[e],";");var n,r})).join("")}}function mr(t,e,n){var r=e.afterTransform||e.transform;return Ne(Ne({},gr(Ne(Ne(Ne({},t.style),e.style),{transform:r}),n)),{afterTransform:r,transform:t.transform})}function br(t,e,n,r){var i=e.datas;i.datas||(i.datas={});var o=Ne(Ne({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isFirstDrag:!!e.isFirstDrag,isTrusted:!1!==e.isTrusted,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var t;null===(t=e.stop)||void 0===t||t.call(e)}});return i.isStartEvent?r||(i.lastEvent=o):i.isStartEvent=!0,o}function xr(t,e,n){var r=e.datas,i="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),Ne(Ne({isDrag:i},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas,isFirstDrag:!!e.isFirstDrag})}function Er(t,e,n){t._emitter.on(e,n)}function yr(t,e,n,r){return t.triggerEvent(e,n,r)}function Sr(t,e){return window.getComputedStyle(t,e)}function wr(t,e,n){var r={},i={};return t.filter((function(t){var o=t.name;if(r[o]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return r[o]=!0,!0}))}function Cr(t,e){return t===e||null==t&&null==e}function Mr(t,e){var n=[],r=[];return t.forEach((function(i,o){var a=e(i,o,t),s=r.indexOf(a),u=n[s]||[];-1===s&&(r.push(a),n.push(u)),u.push(i)})),n}function Dr(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function Rr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(e)-Math.abs(t)})),t[0]}function Or(t,e,n){return St(pt(t,n),ht(e,n),n)}function Pr(t,e){var n,r=t.is3d?4:3;return n=Or(t.rootMatrix,[e.distX,e.distY],r),e.distX=n[0],e.distY=n[1],e}function Tr(t,e,n,r,i){return Et(Kn(t,xt(n,e),i),r)}function _r(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function kr(t){return Math.abs(t)<=Qe?0:t}function zr(t){return function(e){if(!e.isDragging(t))return"";var n=function(t,e){var n,r=t.targetGesto,i=t.controlGesto;return(null===r||void 0===r?void 0:r.isFlag())&&(n=r.getEventData()[e]),!n&&(null===i||void 0===i?void 0:i.isFlag())&&(n=i.getEventData()[e]),n||{}}(e,t),r=n.deg;return r?Bn("view-control-rotation".concat(r)):""}}function Gr(t,e){return void 0===e&&(e=[t]),function(n,r){if(r.isRequest)return!!e.some((function(t){return r.requestAble===t}))&&r.parentDirection;var i=r.inputEvent.target;return it(i,Bn("direction"))&&(!t||it(i,Bn(t)))}}function Br(t){var e={};for(var n in t)e[t[n]]=n;return e}function Fr(t,e){return t?t instanceof Element?t:z(t)?e?document.querySelector(t):t:B(t)?t():"current"in t?t.current:t:null}function Ir(t,e){return t?(!(n=t)||!_(n)||n instanceof Element||!k(n)&&!("length"in n)?[t]:[].slice.call(t)).reduce((function(t,n){return z(n)&&e?je(je([],t,!0),[].slice.call(document.querySelectorAll(n)),!0):(k(n)?t.push(Ir(n,e)):t.push(Fr(n,e)),t)}),[]):[];var n}function Ar(t,e){var n=t.rootMatrix,r=t.is3d,i=pt(n,r?4:3);return r||(i=gt(i,3,4)),i[12]=0,i[13]=0,i[14]=0,function(t,e){var n=St(t,[e[0],e[1]||0,e[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}(i,e)}function Nr(t,e,n,r,i){var o=t[0],a=t[1],s=0,u=0;if(i&&o&&a){var c=J([0,0],e),l=J([0,0],r),f=er(e),d=Math.cos(c-l)*f;if(r[0])if(r[1]){var p=2*r[0]*o,v=2*r[1]*a,h=er([p+e[0],v+e[1]])-er([p,v]),g=J([0,0],[n,1]);s=Math.cos(g)*h,u=Math.sin(g)*h}else u=(s=d)/n;else s=(u=d)*n}else s=r[0]*e[0],u=r[1]*e[1];return[s,u]}function jr(t,e,n,r){var i,o=n.ratio,a=n.startOffsetWidth,s=n.startOffsetHeight,u=0,c=0,l=r.distX,f=r.distY,d=r.parentDistance,p=r.parentDist,v=r.parentScale,h=n.fixedDirection,g=[0,1].map((function(e){return Math.abs(t[e]-h[e])})),m=[0,1].map((function(t){var e=g[t];return 0!==e&&(e=2/e),e}));if(p)u=p[0],c=p[1],e&&(u?c||(c=u/o):u=c*o);else if(v)u=(v[0]-1)*a,c=(v[1]-1)*s;else if(d){var b=a*g[0],x=s*g[1],E=er([b,x]);u=d/E*b*m[0],c=d/E*x*m[1]}else{var y=mn({datas:n,distX:l,distY:f});y=m.map((function(t,e){return y[e]*t})),u=(i=Nr([a,s],y,o,t,e))[0],c=i[1]}return{distWidth:u,distHeight:c}}function Zr(t,e){if(e){if("left"===t)return{x:"0%",y:"50%"};if("top"===t)return{x:"50%",y:"50%"};if("center"===t)return{x:"50%",y:"50%"};if("right"===t)return{x:"100%",y:"50%"};if("bottom"===t)return{x:"50%",y:"100%"};var n=t.split(" "),r=n[0],i=n[1],o=Zr(r||""),a=Zr(i||""),s=Ne(Ne({},o),a),u={x:"50%",y:"50%"};return s.x&&(u.x=s.x),s.y&&(u.y=s.y),s.value&&(s.x&&!s.y&&(u.y=s.value),!s.x&&s.y&&(u.x=s.value)),u}return"left"===t?{x:"0%"}:"right"===t?{x:"100%"}:"top"===t?{y:"0%"}:"bottom"===t?{y:"100%"}:t?"center"===t?{value:"50%"}:{value:t}:{}}function Yr(t,e,n){var r=Zr(t,!0),i=r.x,o=r.y;return[U(i,e)||0,U(o,n)||0]}function Lr(t,e){return t.length===e.length&&t.every((function(t,n){var r=e[n],i=k(t),o=k(r);return i&&o?Lr(t,r):!i&&!o&&t===r}))}var Xr=Ze("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,u=a.ables;if(!s)return!1;var c="onPinch".concat(r?"Group":"","Start"),l="drag".concat(r?"Group":"","ControlStart"),f=(!0===s?t.controlAbles:u.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[l]})),d=br(t,e,{});r&&(d.targets=r);var p=yr(t,c,d);n.isPinch=!1!==p,n.ables=f;var v=n.isPinch;return!!v&&(f.forEach((function(n){if(o[n.name]=o[n.name]||{},n[l]){var r=Ne(Ne({},e),{datas:o[n.name],parentRotate:i,isPinch:!0});n[l](t,r)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},v)},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,u=e.angle;if(n.isPinch){var c=i*(1-1/r),l=br(t,e,{});s&&(l.targets=s);var f="onPinch".concat(s?"Group":"");yr(t,f,l);var d=n.ables,p="drag".concat(s?"Group":"","Control");return d.forEach((function(n){n[p]&&n[p](t,Ne(Ne({},e),{datas:o[n.name],inputEvent:a,parentDistance:c,parentRotate:u,isPinch:!0}))})),l}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s="onPinch".concat(o?"Group":"","End"),u=xr(t,e,{isDrag:r});o&&(u.targets=o),yr(t,s,u);var c=n.ables,l="drag".concat(o?"Group":"","ControlEnd");return c.forEach((function(n){n[l]&&n[l](t,Ne(Ne({},e),{isDrag:r,datas:a[n.name],inputEvent:i,isPinch:!0}))})),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,Ne(Ne({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Ne(Ne({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Ne(Ne({},e),{targets:t.props.targets}))}});function Wr(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map((function(t,r){return o[r]=o[r]||{},o[r][e]=o[r][e]||{},Ne(Ne({},n),{datas:o[r][e],originalDatas:o[r]})}))}function Hr(t,e,n,r,i,o,a){var s=!!n.match(/Start$/g),u=!!n.match(/End$/g),c=i.isPinch,l=i.datas,f=Wr(t,e.name,i),d=t.moveables,p=f.map((function(t,i){var f=d[i],p=f.state,v=p.gestos,h=t;if(s)h=new cn(a).dragStart(r,t);else{if(v[a]||(v[a]=l.childGestos[i]),!v[a])return;h=un(t,p,r,c,o,a)}var g=e[n](f,Ne(Ne({},h),{parentFlag:!0}));return u&&(v[a]=null),g}));return s&&(l.childGestos=d.map((function(t){return t.state.gestos[a]}))),p}function qr(t,e,n,r,i,o){void 0===i&&(i=function(t,e){return e});var a=!!n.match(/End$/g),s=Wr(t,e.name,r),u=t.moveables;return s.map((function(t,r){var s,c=u[r];s=i(c,t);var l=e[n](c,Ne(Ne({},s),{parentFlag:!0}));return l&&o&&o(c,t,l,r),a&&(c.state.gestos={}),l}))}var Vr=["left","right","center"],Ur=["top","bottom","middle"],Kr={start:"left",end:"right",center:"center"},Qr={start:"top",end:"bottom",center:"middle"};function $r(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,u=n.snapGridWidth,c=n.snapGridHeight,l=t.state,f=l.guidelines,d=l.enableSnap;return!(!r||!d||e&&!0!==r&&r.indexOf(e)<0)&&!!(u||c||i||o||f&&f.length||a&&a.length||s&&s.length)}function Jr(t){return!1===t?{}:!0!==t&&t?t:{left:!0,right:!0,top:!0,bottom:!0}}function ti(t,e){var n=function(t,e){var n=Jr(t),r={};for(var i in n)i in e&&n[i]&&(r[i]=e[i]);return r}(t,e),r=Ur.filter((function(t){return t in n})),i=Vr.filter((function(t){return t in n}));return{horizontal:r.map((function(t){return n[t]})),vertical:i.map((function(t){return n[t]}))}}function ei(t,e,n,r){var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!T(i))return i}return t[n]}(r,t.props.snapThreshold,5);return ni(t.state.guidelines,e,n,i)}function ni(t,e,n,r){return{vertical:oi(t,"vertical",e,r),horizontal:oi(t,"horizontal",n,r)}}function ri(t,e,n){var r=ti(t.props.snapDirections,e);return ei(t,r.vertical,r.horizontal,n)}function ii(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,o=r.dist,a=r.guideline;return{isSnap:e,offset:i,dist:o,pos:n.pos,guideline:a}}function oi(t,e,n,r){if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var i="vertical"===e?0:1,o=n.map((function(n,o){var a=t.map((function(t){var e=t.pos,r=n-e[i];return{offset:r,dist:Math.abs(r),guideline:t}})).filter((function(t){var n=t.guideline,i=t.dist;return!(n.type!==e||i>r)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,index:o,guidelineInfos:a}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),a=o.length>0;return{isSnap:a,index:a?o[0].index:-1,posInfos:o}}function ai(t,e,n,r){void 0===r&&(r=1);var i=[];if(n[0]&&n[1])i=[n,[-n[0],n[1]],[n[0],-n[1]]].map((function(t){return xn(e,t)}));else if(n[0]||n[1])t.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],n].map((function(t){return xn(e,t)})):(i=function(t,e){return bn(e).map((function(e){return t[e]}))}(e,n),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));else for(var o=[e[0],e[1],e[3],e[2],e[0]],a=0;a<4;++a)i.push(o[a]),i.push([(o[a][0]+o[a+1][0])/2,(o[a][1]+o[a+1][1])/2]);return ei(t,i.map((function(t){return t[0]})),i.map((function(t){return t[1]})),r)}function si(t,e){var n=Math.abs(t.offset),r=Math.abs(e.offset);return t.isBound&&e.isBound?r-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?r-n:t.isSnap?-1:e.isSnap||n<Qe?1:r<Qe?-1:n-r}function ui(t,e){return t.slice().sort((function(t,n){var r=t.sign[e],i=n.sign[e],o=t.offset[e],a=n.offset[e];return r?i?si({isBound:t.isBound,isSnap:t.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:a}):-1:1}))[0]}function ci(t,e){var n=$([e[0][0],e[1][0]]),r=$([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function li(t,e){var n,r,i=e[0],o=e[1],a=o[0]-i[0],s=o[1]-i[1];if(Math.abs(a)<Qe&&(a=0),Math.abs(s)<Qe&&(s=0),a)if(s){n=s/a*(t[0]-i[0])+i[1],r=t[1]}else n=i[1],r=t[1];else n=i[0],r=t[0];return n-r}function fi(t,e,n,r){return void 0===r&&(r=Qe),t.every((function(t){var i=li(t,e);return i<=0===n||Math.abs(i)<=r}))}function di(t,e,n,r,i){return void 0===i&&(i=0),r&&e-i<=t||!r&&t<=n+i?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function pi(t,e,n,r,i,o){var a=e[0],s=e[1],u=t[0],c=n[0],l=n[1],f=kr(l[1]-c[1]),d=s,p=a,v=-a/s;if(!kr(l[0]-c[0])){if(o&&!p)return{isBound:!1,offset:0};if(d)return di(v*(c[0]-u[0])+u[1],c[1],l[1],r,i);var h=c[0]-u[0];return{isBound:g=Math.abs(h)<=(i||0),offset:g?h:0}}if(!f){if(o&&!d)return{isBound:!1,offset:0};if(p)return di((c[1]-u[1])/v+u[0],c[0],l[0],r,i);var g;h=c[1]-u[1];return{isBound:g=Math.abs(h)<=(i||0),offset:g?h:0}}return{isBound:!1,offset:0}}function vi(t,e,n){return e.map((function(e){var r=function(t,e){var n=e.line,r=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var u=s.left,c=s.top,l=s.width,f=s.height,d=[[u,c],[u,c+f]],p=[[u,c],[u+l,c]],v=[[u+l,c],[u+l,c+f]],h=[[u,c+f],[u+l,c+f]];if(fi([[u,c],[u+l,c],[u,c+f],[u+l,c+f]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=pi(n,a,p,i),m=pi(n,a,h,i),b=pi(n,a,d,o),x=pi(n,a,v,o),E=g.isBound&&m.isBound,y=g.isBound||m.isBound,S=b.isBound&&x.isBound,w=b.isBound||x.isBound,C=Rr(g.offset,m.offset),M=Rr(b.offset,x.offset),D=[0,0],R=!1,O=!1;return Math.abs(M)<Math.abs(C)?(D=[C,0],R=y,O=E):(D=[0,M],R=w,O=S),{isAllBound:O,isVerticalBound:y,isHorizontalBound:w,isBound:R,offset:D}}(t,e),i=r.isBound,o=r.offset,a=r.isVerticalBound,s=r.isHorizontalBound,u=e.multiple,c=mn({datas:n,distX:o[0],distY:o[1]}).map((function(t,e){return t*(u[e]?2/u[e]:0)}));return{sign:u,isBound:i,isVerticalBound:a,isHorizontalBound:s,isSnap:!1,offset:c}}))}function hi(t,e,n){var r,i=vi(t,gi(t,e,[0,0],!1).map((function(t){return Ne(Ne({},t),{multiple:t.multiple.map((function(t){return 2*Math.abs(t)}))})})),n),o=ui(i,0),a=ui(i,1),s=0,u=0,c=o.isVerticalBound||a.isVerticalBound,l=o.isHorizontalBound||a.isHorizontalBound;return(c||l)&&(r=function(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.beforeMatrix,a=n.matrix,s=n.is3d,u=n.startDragBeforeDist,c=n.startDragDist,l=n.absoluteOrigin,f=s?4:3;return Et(St(e?o:a,xt(e?u:c,[r,i]),f),l)}({datas:n,distX:-o.offset[0],distY:-a.offset[1]}),s=r[0],u=r[1]),{vertical:{isBound:c,offset:s},horizontal:{isBound:l,offset:u}}}function gi(t,e,n,r){var i=t.state,o=Qn(i.allMatrix,100,100,i.is3d?4:3),a=xn(o,[0,0]);return function(t,e){var n=[],r=t[0],i=t[1];return r&&i?n.push([[0,2*i],t,[-r,i]],[[2*r,0],t,[r,-i]]):r?(n.push([[2*r,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,2*i],[1,i],[-1,i]]),e&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(n,r).map((function(t){var n=t[0],r=t[1],i=t[2],s=[xn(o,r),xn(o,i)],u=function(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];Math.abs(r)<R&&(r=0),Math.abs(i)<R&&(i=0);var o=0,a=0,s=0;return r?i?(a=1,s=(o=-i/r)*e[0]-e[1]):(a=1,s=-e[1]):(o=-1,s=e[0]),[o,a,s].map((function(t){return nt(t,R)}))}(s),c=ci(a,s),l=c.vertical,f=c.horizontal;return{multiple:n,centerSign:li(a,s)<=0,verticalSign:l,horizontalSign:f,lineConstants:u,line:[xn(e,r),xn(e,i)]}}))}function mi(t,e,n,r){var i=r?t.map((function(t){return Rt(t,r)})):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t){var r=li(n,t)<=0;return!fi(e,t,r)}))}function bi(t,e,n,r,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,u=o.top,c=o.width,l=o.height,f=s-r[0],d=s+c-r[0],p=u-r[1],v=u+l-r[1],h=[[f,p],[d,p],[f,v],[d,v]],g=xn(n,[0,0]);if(!mi(n,h,g,0))return[];var m=[],b=h.map((function(t){return[er(t),J([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=J([0,0],function(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];if(!r)return[e[0],0];if(!i)return[0,e[1]];var o=i/r,a=-o*e[0]+e[1];return[-a/(o+1/o),a/(o*o+1)]}(t)),r=function(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];if(!r)return Math.abs(e[0]);if(!i)return Math.abs(e[1]);var o=i/r;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}(t);m.push.apply(m,b.filter((function(t){var e=t[0];return e&&r<=e})).map((function(t){var e=t[0],i=t[1],o=Math.acos(e?r/e:0);return[a+(i+o)-n,a+(i-o)-n]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!mi(e,h,g,t)})).map((function(t){return nt(180*t/Math.PI,Qe)})))})),m}function xi(t,e,n){var r=t||{},i=r.position,o=void 0===i?"client":i,a=r.left,s=void 0===a?-1/0:a,u=r.top,c=void 0===u?-1/0:u,l=r.right,f=void 0===l?1/0:l,d=r.bottom,p={position:o,left:s,top:c,right:f,bottom:void 0===d?1/0:d};return{vertical:yi(p,e,!0),horizontal:yi(p,n,!1)}}function Ei(t,e){var n=t.state,r=n.containerClientRect,i=r.clientHeight,o=r.clientWidth,a=r.clientLeft,s=r.clientTop,u=n.snapOffset,c=u.left,l=u.top,f=u.right,d=u.bottom,p=e||t.props.bounds||{},v="css"===(p.position||"client"),h=p.left,g=void 0===h?-1/0:h,m=p.top,b=void 0===m?-1/0:m,x=p.right,E=void 0===x?v?-1/0:1/0:x,y=p.bottom,S=void 0===y?v?-1/0:1/0:y;return v&&(E=o+f-c-E,S=i+d-l-S),{left:g+c-a,right:E+c-a,top:b+l-s,bottom:S+l-s}}function yi(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],o=Math.min.apply(Math,e),a=Math.max.apply(Math,e),s=[];return r+1>o&&s.push({isBound:!0,offset:o-r,pos:r}),i-1<a&&s.push({isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return Math.abs(e.offset)-Math.abs(t.offset)}))}function Si(t,e,n){return(n?t.map((function(t){return Rt(t,n)})):t).some((function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>.1||t[0]>e.right&&Math.abs(t[0]-e.right)>.1||t[1]<e.top&&Math.abs(t[1]-e.top)>.1||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>.1}))}function wi(t,e,n,r,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,a=Ei(t),s=a.left,u=a.top,c=a.right,l=a.bottom,f=s-r[0],d=c-r[0],p=u-r[1],v=l-r[1],h={left:f,top:p,right:d,bottom:v};if(!Si(n,h,0))return[];var g=[];return[[f,0],[d,0],[p,1],[v,1]].forEach((function(t){var r=t[0],i=t[1];n.forEach((function(t){var n=J([0,0],t);g.push.apply(g,function(t,e,n){var r=er(t),i=Math.sqrt(r*r-e*e)||0;return[i,-i].sort((function(e,r){return Math.abs(e-t[n?0:1])-Math.abs(r-t[n?0:1])})).map((function(t){return J([0,0],n?[t,e]:[e,t])}))}(t,r,i).map((function(t){return o+t-n})).filter((function(t){return!Si(e,h,t)})).map((function(t){return nt(180*t/Math.PI,Qe)})))}))})),g}function Ci(t,e){return function(t,e){var n,r=t.direction,i=t.classNames,o=t.size,a=t.pos,s=t.zoom,u=t.key,c="horizontal"===r,l=c?"Y":"X";return e.createElement("div",{key:u,className:i.join(" "),style:(n={},n[c?"width":"height"]="".concat(o),n.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(l,"(-50%) scale").concat(l,"(").concat(s,")"),n)})}(Ne(Ne({},t),{classNames:je([Bn("line","guideline",t.direction)],t.classNames,!0).filter((function(t){return t})),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map((function(t){return"".concat(nt(t,.1),"px")}))}),e)}function Mi(t,e,n,r,i,o,a,s){var u=t.props.zoom;return n.map((function(t,n){var c=t.type,l=t.pos,f=[0,0];return f[a]=r,f[a?0:1]=-i+l,Ci({key:"".concat(e,"TargetGuideline").concat(n),classNames:[Bn("target","bold",c)],posValue:f,sizeValue:o,zoom:u,direction:e},s)}))}function Di(t,e,n,r,i,o){var a=t.props,s=a.zoom,u=a.isDisplayInnerSnapDigit,c="horizontal"===e?Kr:Qr,l=i[c.start],f=i[c.end];return n.filter((function(t){var e=t.hide,n=t.elementRect;if(e)return!1;if(u&&n){var r=n.rect;if(r[c.start]<=l&&f<=r[c.end])return!1}return!0})).map((function(t,n){var i=t.pos,a=t.size,u=t.element,c=t.className,l=[-r[0]+i[0],-r[1]+i[1]];return Ci({key:"".concat(e,"-default-guideline-").concat(n),classNames:u?[Bn("bold"),c]:[Bn("normal"),c],direction:e,posValue:l,sizeValue:a,zoom:s},o)}))}function Ri(t,e,n,r,i,o,a,s){var u,c=t.props,l=c.snapDigit,f=void 0===l?0:l,d=c.isDisplaySnapDigit,p=void 0===d||d,v=c.snapDistFormat,h=void 0===v?function(t,e){return t}:v,g=c.zoom,m="horizontal"===e?"X":"Y",b="vertical"===e?"height":"width",x=Math.abs(i),E=p?parseFloat(x.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:Bn("guideline-group",e),style:(u={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},u[b]="".concat(x,"px"),u)},Ci({direction:e,classNames:[Bn(n),a],size:"100%",posValue:[0,0],sizeValue:x,zoom:g},s),s.createElement("div",{className:Bn("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},E>0?h(E,e):""))}function Oi(t,e,n,r,i){var o=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach((function(s){var u=e.filter((function(t){return t.type===s})),c="vertical"===s?1:0,l=c?0:1,f=function(t,e,n,r){var i="vertical"===t?0:1,o="vertical"===t?1:0,a=i?Kr:Qr,s=n[a.start],u=n[a.end];return Mr(e,(function(t){return t.pos[i]})).map((function(e){var n=[],c=[];return e.forEach((function(e){var l,f,d=e.element,p=e.elementRect.rect;if(p[a.end]<s)n.push(e);else if(u<p[a.start])c.push(e);else if(p[a.start]<=s&&u<=p[a.end]&&r){var v=e.pos,h={element:d,rect:Ne(Ne({},p),(l={},l[a.end]=p[a.start],l))},g={element:d,rect:Ne(Ne({},p),(f={},f[a.start]=p[a.end],f))},m=[0,0],b=[0,0];m[i]=v[i],m[o]=v[o],b[i]=v[i],b[o]=v[o]+e.size,n.push({type:t,pos:m,size:0,elementRect:h}),c.push({type:t,pos:b,size:0,elementRect:g})}})),n.sort((function(t,e){return e.pos[o]-t.pos[o]})),c.sort((function(t,e){return t.pos[o]-e.pos[o]})),{total:e,start:n,end:c,inner:[]}}))}(s,u,r,o),d=c?Qr:Kr,p=c?Kr:Qr,v=r[d.start],h=r[d.end];f.forEach((function(e){var o=e.total,u=e.start,f=e.end,g=e.inner,m=n[l]+o[0].pos[l]-r[p.start],b=r;u.forEach((function(e){var r=e.elementRect.rect,o=b[d.start]-r[d.end];if(o>0){var u=[0,0];u[c]=n[c]+b[d.start]-v-o,u[l]=m,a.push(Ri(t,s,"dashed",a.length,o,u,e.className,i))}b=r})),b=r,f.forEach((function(e){var r=e.elementRect.rect,o=r[d.start]-b[d.end];if(o>0){var u=[0,0];u[c]=n[c]+b[d.end]-v,u[l]=m,a.push(Ri(t,s,"dashed",a.length,o,u,e.className,i))}b=r})),g.forEach((function(e){var r=e.elementRect.rect,o=v-r[d.start],u=r[d.end]-h,f=[0,0],p=[0,0];f[c]=n[c]-o,f[l]=m,p[c]=n[c]+h-v,p[l]=m,a.push(Ri(t,s,"dashed",a.length,o,f,e.className,i)),a.push(Ri(t,s,"dashed",a.length,u,p,e.className,i))}))}))})),a}function Pi(t,e,n,r,i){var o=function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];if(Math.abs(i)<R&&(i=0),Math.abs(o)<R&&(o=0),!i)return r?[0,0]:[0,n];if(!o)return r?[n,0]:[0,0];var a=o/i,s=t[1]-a*t[0];return r?[n,a*(e[0]+n)+s-e[1]]:[(e[1]+n-s)/a-e[0],n]}(t,e,n,r);if(!o)return{isOutside:!1,offset:[0,0]};var a=et(t,e),s=et(o,t),u=et(o,e),c=s>a||u>a,l=mn({datas:i,distX:o[0],distY:o[1]});return{offset:[l[0],l[1]],isOutside:c}}function Ti(t,e){return t.isBound?t.offset:e.isSnap?ii(e).offset:0}function _i(t,e,n,r,i,o){if(!$r(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=pr(o.absolutePoses,[e,n]),s=$n(a),u=s.left,c=s.right,l=s.top,f=s.bottom,d={horizontal:a.map((function(t){return t[1]})),vertical:a.map((function(t){return t[0]}))},p=ki(t,i,ti(Jr(t.props.snapDirections),{left:u,right:c,top:l,bottom:f,center:(u+c)/2,middle:(l+f)/2}),d),v=p.vertical,h=p.horizontal,g=hi(t,a,o),m=g.vertical,b=g.horizontal,x=v.isSnap,E=h.isSnap,y=v.isBound||m.isBound,S=h.isBound||b.isBound,w=function(t,e,n,r,i){var o=e[0],a=e[1],s=n[0],u=n[1],c=r[0],l=r[1],f=i[0],d=i[1],p=-f,v=-d;if(t&&o&&a){p=0,v=0;var h=[];if(s&&u?h.push([0,d],[f,0]):s?h.push([f,0]):u?h.push([0,d]):c&&l?h.push([0,d],[f,0]):c?h.push([f,0]):l&&h.push([0,d]),h.length){h.sort((function(t,e){return er(Et([o,a],t))-er(Et([o,a],e))}));var g=h[0];if(g[0]&&Math.abs(o)>R)p=-g[0],v=a*Math.abs(o+p)/Math.abs(o)-a;else if(g[1]&&Math.abs(a)>R){var m=a;v=-g[1],p=o*Math.abs(a+v)/Math.abs(m)-o}if(t&&u&&s)if(Math.abs(p)>R&&Math.abs(p)<Math.abs(f))p*=b=Math.abs(f)/Math.abs(p),v*=b;else if(Math.abs(v)>R&&Math.abs(v)<Math.abs(d)){var b;p*=b=Math.abs(d)/Math.abs(v),v*=b}else p=Rr(-f,p),v=Rr(-d,v)}}else p=o||s?-f:0,v=a||u?-d:0;return[p,v]}(r,[e,n],[y,S],[x,E],[Rr(v.offset,m.offset),Rr(h.offset,b.offset)]);return[{isBound:y,isSnap:x,offset:w[0]},{isBound:S,isSnap:E,offset:w[1]}]}function ki(t,e,n,r){void 0===r&&(r=n);var i=xi(Ei(t),r.vertical,r.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:ei(t,n.vertical,n.horizontal),u=s.horizontal,c=s.vertical,l=Ti(o[0],u),f=Ti(a[0],c),d=Math.abs(l),p=Math.abs(f);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:l,dist:d,bounds:o,snap:u},vertical:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:f,dist:p,bounds:a,snap:c}}}function zi(t,e,n,r,i){var o=xi(e,n,r),a=o.horizontal,s=o.vertical,u=ni(t,n,r,i),c=u.horizontal,l=u.vertical,f=Ti(a[0],c),d=Ti(s[0],l),p=Math.abs(f),v=Math.abs(d);return{horizontal:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:f,dist:p,bounds:a,snap:c},vertical:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:d,dist:v,bounds:s,snap:l}}}function Gi(t,e,n,r,i,o){return n.map((function(n){var a=n[0],s=n[1],u=xn(e,a),c=xn(e,s),l=r?function(t,e,n,r){var i=function(t,e,n){var r=Ei(t),i=r.left,o=r.top,a=r.right,s=r.bottom,u=n[0],c=n[1],l=Et(n,e),f=l[0],d=l[1];Math.abs(f)<Qe&&(f=0),Math.abs(d)<Qe&&(d=0);var p=d>0,v=f>0,h={isBound:!1,offset:0,pos:0},g={isBound:!1,offset:0,pos:0};if(0===f&&0===d)return{vertical:h,horizontal:g};if(0===f)p?s<c&&(g.pos=s,g.offset=c-s):o>c&&(g.pos=o,g.offset=c-o);else if(0===d)v?a<u&&(h.pos=a,h.offset=u-a):i>u&&(h.pos=i,h.offset=u-i);else{var m=d/f,b=n[1]-m*u,x=0,E=0,y=!1;v&&a<=u?(x=m*a+b,E=a,y=!0):!v&&u<=i&&(x=m*i+b,E=i,y=!0),y&&(x<o||x>s)&&(y=!1),y||(p&&s<=c?(E=((x=s)-b)/m,y=!0):!p&&c<=o&&(E=((x=o)-b)/m,y=!0)),y&&(h.isBound=!0,h.pos=E,h.offset=u-E,g.isBound=!0,g.pos=x,g.offset=c-x)}return{vertical:h,horizontal:g}}(t,e,n),o=i.horizontal,a=i.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var r=n[0],i=n[1],o=e[0],a=e[1],s=Et(n,e),u=s[0],c=s[1],l=c>0,f=u>0;u=kr(u),c=kr(c);var d={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(0===u&&0===c)return{vertical:d,horizontal:p};var v=ei(t,u?[r]:[],c?[i]:[]),h=v.vertical,g=v.horizontal;h.posInfos.filter((function(t){var e=t.pos;return f?e>=o:e<=o})),g.posInfos.filter((function(t){var e=t.pos;return l?e>=a:e<=a})),h.isSnap=h.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=ii(h),b=m.isSnap,x=m.guideline,E=ii(g),y=E.isSnap,S=E.guideline,w=y?S.pos[1]:0,C=b?x.pos[0]:0;if(0===u)y&&(p.isSnap=!0,p.pos=S.pos[1],p.offset=i-p.pos);else if(0===c)b&&(d.isSnap=!0,d.pos=C,d.offset=r-C);else{var M=c/u,D=n[1]-M*r,R=0,O=0,P=!1;b?(R=M*(O=C)+D,P=!0):y&&(O=((R=w)-D)/M,P=!0),P&&(d.isSnap=!0,d.pos=O,d.offset=r-O,p.isSnap=!0,p.pos=R,p.offset=i-R)}return{vertical:d,horizontal:p}}(t,e,n),u=s.horizontal,c=s.vertical,l=Bi(o,u),f=Bi(a,c),d=Math.abs(l),p=Math.abs(f);return{horizontal:{isBound:o.isBound,isSnap:u.isSnap,offset:l,dist:d},vertical:{isBound:a.isBound,isSnap:c.isSnap,offset:f,dist:p}}}(t,u,c,i):ki(t,i,{vertical:[c[0]],horizontal:[c[1]]}),f=l.horizontal,d=f.offset,p=f.isBound,v=f.isSnap,h=l.vertical,g=h.offset,m=h.isBound,b=h.isSnap,x=Et(s,a);if(!g&&!d)return{isBound:m||p,isSnap:b||v,sign:x,offset:[0,0]};var E=function(t,e,n,r){var i=J(t,e)/Math.PI*180,o=n.vertical,a=o.isBound,s=o.isSnap,u=o.dist,c=n.horizontal,l=c.isBound,f=c.isSnap,d=i%180,p=d<3||d>177,v=d>87&&d<93;return c.dist<u&&(a||s&&!v&&(!r||!p))?"vertical":!l&&(!f||p||r&&v)?"":"horizontal"}(u,c,l,r);if(!E)return{sign:x,isBound:!1,isSnap:!1,offset:[0,0]};var y="vertical"===E,S=[0,0];return S=(S=r||1!==Math.abs(s[0])||1!==Math.abs(s[1])||a[0]===s[0]||a[1]===s[1]?Pi(u,c,-(y?g:d),y,o).offset:mn({datas:o,distX:-g,distY:-d})).map((function(t,e){return t*(x[e]?2/x[e]:0)})),{sign:x,isBound:y?m:p,isSnap:y?b:v,offset:S}}))}function Bi(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function Fi(t){var e=t.state,n=e.containerClientRect,r=e.hasFixed,i=n.overflow,o=n.scrollHeight,a=n.scrollWidth,s=n.clientHeight,u=n.clientWidth,c=n.clientLeft,l=n.clientTop,f=t.props,d=f.snapGap,p=void 0===d||d,v=f.verticalGuidelines,h=f.horizontalGuidelines,g=f.snapThreshold,m=void 0===g?5:g,b=f.snapGridWidth,x=void 0===b?0:b,E=f.snapGridHeight,y=void 0===E?0:E,S=f.maxSnapElementGuidelineDistance,w=void 0===S?1/0:S,C=$n(vr(t.state)),M=C.top,D=C.left,R=C.bottom,O=C.right,P={top:M,left:D,bottom:R,right:O,center:(D+O)/2,middle:(M+R)/2},T=function(t){var e=t.state,n=t.props.elementGuidelines,r=void 0===n?[]:n;if(!r.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter((function(t){return!t.refresh})),o=r.map((function(t){return _(t)&&"element"in t?Ne(Ne({},t),{element:Fr(t.element,!0)}):{element:Fr(t,!0)}})).filter((function(t){return t.element})),a=(l=i.map((function(t){return t.element})),f=o.map((function(t){return t.element})),Lt(l,f,qt)),s=a.maintained,u=a.added,c=[];var l,f;s.forEach((function(t){var e=t[0],n=t[1];c[n]=i[e]})),function(t,e){if(!e.length)return[];var n=t.state,r=n.containerClientRect,i=n.targetClientRect,o=i.top,a=i.left,s=n.rootMatrix,u=n.is3d,c=u?4:3,l=function(t,e,n){var r=Kn(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}(s,r,c),f=l[0],d=l[1],p=vr(n),v=Jt(p),h=v.minX,g=v.minY,m=Et([h,g],Or(s,[a-f,o-d],c)).map((function(t){return e=t,Math.round(e%1===-.5?e-1:e);var e})),b=m[0],x=m[1];return e.map((function(t){var e=t.element.getBoundingClientRect(),n=e.left-f,r=e.top-d,i=r+e.height,o=n+e.width,a=Or(s,[n,r],c),u=a[0],l=a[1],p=Or(s,[o,i],c),v=p[0],h=p[1];return Ne(Ne({},t),{rect:{left:u+b,right:v+b,top:l+x,bottom:h+x,center:(u+v)/2+b,middle:(l+h)/2+x}})}))}(t,u.map((function(t){return o[t]}))).map((function(t,e){c[u[e]]=t})),e.elementRects=c;var d=Jr(t.props.elementSnapDirections),p=[];return c.forEach((function(t){var e=t.element,n=t.top,r=void 0===n?d.top:n,i=t.left,o=void 0===i?d.left:i,a=t.right,s=void 0===a?d.right:a,u=t.bottom,c=void 0===u?d.bottom:u,l=t.center,f=void 0===l?d.center:l,v=t.middle,h=void 0===v?d.middle:v,g=t.className,m=t.rect,b=ti({top:r,right:s,left:o,bottom:c,center:f,middle:h},m),x=b.horizontal,E=b.vertical,y=m.top,S=m.left,w=m.right-S,C=m.bottom-y,M=[w,C];E.forEach((function(n){p.push({type:"vertical",element:e,pos:[nt(n,.1),y],size:C,sizes:M,className:g,elementRect:t})})),x.forEach((function(n){p.push({type:"horizontal",element:e,pos:[S,nt(n,.1)],size:w,sizes:M,className:g,elementRect:t})}))})),p}(t),k=je([],T,!0);p&&k.push.apply(k,function(t,e,n){var r=t.props,i=r.maxSnapElementGuidelineDistance,o=void 0===i?1/0:i,a=r.maxSnapElementGapDistance,s=void 0===a?1/0:a,u=t.state.elementRects,c=[];return[["vertical",Kr,Qr],["horizontal",Qr,Kr]].forEach((function(t){var r=t[0],i=t[1],a=t[2],l=e[i.start],f=e[i.end],d=e[i.center],p=e[a.start],v=e[a.end];function h(t){var e=t.rect;return e[i.end]<l+n?l-e[i.end]:f-n<e[i.start]?e[i.start]-f:-1}var g=u.filter((function(t){var e=t.rect;return!(e[a.start]>v||e[a.end]<p)&&h(t)>0})).sort((function(t,e){return h(t)-h(e)})),m=[];g.forEach((function(t){g.forEach((function(e){if(t!==e){var n=t.rect,r=e.rect,i=n[a.start],o=n[a.end],s=r[a.start];i>r[a.end]||s>o||m.push([t,e])}}))})),m.forEach((function(t){var a=t[0],u=t[1],p=a.rect,v=u.rect,h=p[i.start],g=p[i.end],m=v[i.start],b=v[i.end],x=0,E=0,y=!1,S=!1,w=!1;if(g<=l&&f<=m){if(S=!0,E=g+(x=(m-g-(f-l))/2)+(f-l)/2,Math.abs(E-d)>n)return}else if(g<m&&b<l+n){if(y=!0,E=b+(x=m-g),Math.abs(E-l)>n)return}else{if(!(g<m&&f-n<h))return;if(w=!0,E=h-(x=m-g),Math.abs(E-f)>n)return}x&&Ii(e,v,r,o)&&(x>s||c.push({type:r,pos:"vertical"===r?[E,0]:[0,E],element:u.element,size:0,className:u.className,isStart:y,isCenter:S,isEnd:w,gap:x,hide:!0,gapRects:[a,u]}))}))})),c}(t,P,m)),k.push.apply(k,function(t,e,n,r,i,o){void 0===i&&(i=0);void 0===o&&(o=0);var a=[];if(e)for(var s=0;s<=r;s+=e)a.push({type:"horizontal",pos:[0,nt(s-o,.1)],size:n,hide:!0});if(t)for(s=0;s<=n;s+=t)a.push({type:"vertical",pos:[nt(s-i,.1),0],size:r,hide:!0});return a}(x,y,i?a:u,i?o:s,c,l));var z=Ne({},e.snapOffset||{left:0,top:0,bottom:0,right:0});if(r){var G=n.left,B=n.top;z.left+=G,z.top+=B,z.right+=G,z.bottom+=B}return k.push.apply(k,Ai(h||!1,v||!1,i?a:u,i?o:s,c,l,z)),k=k.filter((function(t){var e=t.element,n=t.elementRect,r=t.type;if(!e||!n)return!0;var i=n.rect;return Ii(P,i,r,w)})),k}function Ii(t,e,n,r){return"horizontal"===n?Math.abs(t.right-e.left)<=r||Math.abs(t.left-e.right)<=r||t.left<=e.right&&e.left<=t.right:"vertical"!==n||(Math.abs(t.bottom-e.top)<=r||Math.abs(t.top-e.bottom)<=r||t.top<=e.bottom&&e.top<=t.bottom)}function Ai(t,e,n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var s=[],u=a.left,c=a.top,l=a.bottom,f=n+a.right-u,d=r+l-c;return t&&t.forEach((function(t){var e=_(t)?t:{pos:t};s.push({type:"horizontal",pos:[u,nt(e.pos-o+c,.1)],size:f,className:e.className})})),e&&e.forEach((function(t){var e=_(t)?t:{pos:t};s.push({type:"vertical",pos:[nt(e.pos-i+u,.1),c],size:d,className:e.className})})),s}function Ni(t){var e=t.state,n=e.container,r=t.props.snapContainer||n;if(e.snapContainer===r&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(n!==r){var a=Fr(r,!0);if(a){var s=lr(a),u=Ar(e,[s.left-i.left,s.top-i.top]),c=Ar(e,[s.right-i.right,s.bottom-i.bottom]);o.left=nt(u[0],1e-5),o.top=nt(u[1],1e-5),o.right=nt(c[0],1e-5),o.bottom=nt(c[1],1e-5)}}return e.snapContainer=r,e.snapOffset=o,e.guidelines=Fi(t),e.enableSnap=!0,!0}function ji(t,e,n,r,i,o){var a=Qn(t,e,n,o?4:3);return pr(a,Et(i,xn(a,r)))}function Zi(t,e,n,r,i,o){var a=function(t,e,n){var r=[];if(n)1!==Math.abs(e[0])||1!==Math.abs(e[1])?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach((function(t){[1,-1].forEach((function(n){var o=[t*i[0],n*i[1]];e[0]===o[0]&&e[1]===o[1]||r.push([e,o])}))}))}else t[0]?(1===Math.abs(e[0])?[1]:[1,-1]).forEach((function(n){r.push([[e[0],-1],[n*t[0],-1]],[[e[0],0],[n*t[0],0]],[[e[0],1],[n*t[0],1]])})):t[1]&&(1===Math.abs(e[1])?[1]:[1,-1]).forEach((function(n){r.push([[-1,e[1]],[-1,n*t[1]]],[[0,e[1]],[0,n*t[1]]],[[1,e[1]],[1,n*t[1]]])}));return r}(n,o.fixedDirection,r),s=gi(t,e,n,r),u=je(je([],Gi(t,e,a,r,i,o),!0),vi(t,s,o),!0),c=ui(u,0),l=ui(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:l.isBound,offset:l.offset[1]}}}function Yi(t,e,n,r,i,o,a,s){for(var u=vr(t.state),c=t.props.keepRatio,l=0,f=0,d=0;d<2;++d){var p=Zi(t,e(l,f),i,c,a,s),v=p.width,h=p.height,g=v.isBound,m=h.isBound,b=v.offset,x=h.offset;if(1===d&&(g||(b=0),m||(x=0)),0===d&&a&&!g&&!m)return[0,0];if(c){var E=Math.abs(b)*(n?1/n:1),y=Math.abs(x)*(r?1/r:1);(g&&m?E<y:m||!g&&E<y)?b=n*x/r:x=r*b/n}l+=b,f+=x}if(i[0]&&i[1]){var S=function(t,e,n,r,i){var o=[-n[0],-n[1]],a=t.state,s=a.width,u=a.height,c=t.props.bounds,l=1/0,f=1/0;if(c){var d=[[n[0],-n[1]],[-n[0],n[1]]],p=c.left,v=void 0===p?-1/0:p,h=c.top,g=void 0===h?-1/0:h,m=c.right,b=void 0===m?1/0:m,x=c.bottom,E=void 0===x?1/0:x;d.forEach((function(t){var n=t[0]!==o[0],a=t[1]!==o[1],c=xn(e,t),d=360*J(r,c)/Math.PI;if(a){var p=c.slice();(Math.abs(d-360)<2||Math.abs(d-180)<2)&&(p[1]=r[1]);var h=Pi(r,p,(r[1]<c[1]?E:g)-c[1],!1,i),m=h.offset[1],x=h.isOutside;isNaN(m)||(f=u+(x?1:-1)*Math.abs(m))}if(n){p=c.slice(),(Math.abs(d-90)<2||Math.abs(d-270)<2)&&(p[0]=r[0]);var y=Pi(r,p,(r[0]<c[0]?b:v)-c[0],!0,i),S=y.offset[0],w=y.isOutside;isNaN(S)||(l=s+(w?1:-1)*Math.abs(S))}}))}return{maxWidth:l,maxHeight:f}}(t,u,i,o,s),w=S.maxWidth,C=S.maxHeight,M=function(t,e,n,r,i,o,a,s,u){var c=xn(e,a),l=ki(t,s,{vertical:[c[0]],horizontal:[c[1]]}),f=l.horizontal.offset,d=l.vertical.offset;if(nt(d,Ke)||nt(f,Ke)){var p=mn({datas:u,distX:-d,distY:-f}),v=p[0],h=p[1];return[Math.min(i||1/0,n+a[0]*v)-n,Math.min(o||1/0,r+a[1]*h)-r]}return[0,0]}(t,e(l,f).map((function(t){return t.map((function(t){return nt(t,Ke)}))})),n+l,r+f,w,C,i,a,s);l+=b=M[0],f+=x=M[1]}return[l,f]}function Li(t,e,n,r,i){if(!$r(t,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,s=i.fixedPosition,u=i.fixedDirection,c=i.is3d,l=Yi(t,(function(t,n){return ji(function(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d?4:3;return En(r,bt(t.targetMatrix,kt(e,i),i),n,i)}(i,xt(e,[t/o,n/a])),o,a,u,s,c)}),o,a,n,s,r,i);return[l[0]/o,l[1]/a]}function Xi(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var n=t.guideline;e.indexOf(n)>-1||e.push(n)}))})),e}function Wi(t,e,n,r,i,o){var a=xi(Ei(t,o),e,n),s=a.vertical,u=a.horizontal;s.forEach((function(t){t.isBound&&r.push({type:"bounds",pos:t.pos})})),u.forEach((function(t){t.isBound&&i.push({type:"bounds",pos:t.pos})}));var c=function(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),r=[n.pos1,n.pos2,n.pos3,n.pos4],i=xn(r,[0,0]),o=e.left,a=e.top,s=e.width,u=e.height,c=[[o,a],[o,a+u]],l=[[o,a],[o+s,a]],f=[[o+s,a],[o+s,a+u]],d=[[o,a+u],[o+s,a+u]],p=gi(t,r,[0,0],!1),v=[],h=[],g={top:!1,bottom:!1,left:!1,right:!1};return p.forEach((function(t){var e=t.line,n=t.lineConstants,r=ci(i,e),p=r.horizontal,m=r.vertical,b=pi(e,n,l,m,1,!0),x=pi(e,n,d,m,1,!0),E=pi(e,n,c,p,1,!0),y=pi(e,n,f,p,1,!0);b.isBound&&!g.top&&(v.push(a),g.top=!0),x.isBound&&!g.bottom&&(v.push(a+u),g.bottom=!0),E.isBound&&!g.left&&(h.push(o),g.left=!0),y.isBound&&!g.right&&(h.push(o+s),g.right=!0)})),{horizontal:v,vertical:h}}(t),l=c.vertical,f=c.horizontal;l.forEach((function(t){X(r,(function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t}))>=0||r.push({type:"bounds",pos:t})})),f.forEach((function(t){X(i,(function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t}))>=0||i.push({type:"bounds",pos:t})}))}var Hi=Gr("",["resizable","scalable"]),qi={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,snapRenderThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,maxSnapElementGuidelineDistance:Number,maxSnapElementGapDistance:Number},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(t,e){var n=t.state,r=n.top,i=n.left,o=n.pos1,a=n.pos2,s=n.pos3,u=n.pos4,c=n.snapRenderInfo,l=t.props.snapRenderThreshold,f=void 0===l?1:l;if(!c||!c.render||!$r(t,""))return[];n.guidelines=Fi(t);var d=Math.min(o[0],a[0],s[0],u[0]),p=Math.min(o[1],a[1],s[1],u[1]),v=c.externalPoses||[],h=vr(t.state),g=[],m=[],b=[],x=[],E=[],y=$n(h),S=y.width,w=y.height,C=y.top,M=y.left,D=y.bottom,R=y.right,O={left:M,right:R,top:C,bottom:D,center:(M+R)/2,middle:(C+D)/2},P=v.length>0,T=P?$n(v):{};if(!c.request){if(c.direction&&E.push(ai(t,h,c.direction,f)),c.snap){var _=$n(h);c.center&&(_.middle=(_.top+_.bottom)/2,_.center=(_.left+_.right)/2),E.push(ri(t,_,f))}P&&(c.center&&(T.middle=(T.top+T.bottom)/2,T.center=(T.left+T.right)/2),E.push(ri(t,T,f))),E.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;g.push.apply(g,e.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),m.push.apply(m,n.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),b.push.apply(b,Xi(e)),x.push.apply(x,Xi(n))}))}Wi(t,[M,R],[C,D],g,m),P&&Wi(t,[T.left,T.right],[T.top,T.bottom],g,m,c.externalBounds);var k=je(je([],b,!0),x,!0),z=k.filter((function(t){return t.element&&!t.gapRects})),G=k.filter((function(t){return t.gapRects})).sort((function(t,e){return t.gap-e.gap}));return yr(t,"onSnap",{guidelines:k.filter((function(t){return!t.element})),elements:z,gaps:G},!0),je(je(je(je(je(je([],Oi(t,z,[d,p],O,e),!0),function(t,e,n,r,i){var o=[];return["horizontal","vertical"].forEach((function(a){var s=e.filter((function(t){return t.type===a})).slice(0,1),u="vertical"===a?0:1,c=u?0:1,l=u?Qr:Kr,f=u?Kr:Qr,d=r[l.start],p=r[l.end],v=r[f.start],h=r[f.end];s.forEach((function(e){var r=e.gap,a=e.gapRects,s=Math.max.apply(Math,je([v],a.map((function(t){return t.rect[f.start]})),!1)),g=Math.min.apply(Math,je([h],a.map((function(t){return t.rect[f.end]})),!1)),m=(s+g)/2;s!==g&&m!==(v+h)/2&&a.forEach((function(e){var a=e.rect,s=e.className,f=[n[0],n[1]];if(a[l.end]<d)f[u]+=a[l.end]-d;else{if(!(p<a[l.start]))return;f[u]+=a[l.start]-d-r}f[c]+=m-v,o.push(Ri(t,u?"vertical":"horizontal","gap",o.length,r,f,s,i))}))}))})),o}(t,G,[d,p],O,e),!0),Di(t,"horizontal",x,[i,r],O,e),!0),Di(t,"vertical",b,[i,r],O,e),!0),Mi(t,"horizontal",m,d,r,S,0,e),!0),Mi(t,"vertical",g,p,i,w,1,e),!0)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Ni(t)},drag:function(t){var e=t.state;Ni(t)||(e.guidelines=Fi(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){return!(!Hi(t,e)&&!uo(t,e))||(!e.isRequest&&e.inputEvent?it(e.inputEvent.target,Bn("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,Ni(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Ni(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function Vi(t,e,n,r){var i=t.getState(),o=i.renderPoses,a=i.rotation,s=i.direction,u=or(t.props,e).zoom,c=s>0?1:-1,l=a/Math.PI*180,f={},d=t.renderState;d.renderDirectionMap||(d.renderDirectionMap={});var p=d.renderDirectionMap;return n.forEach((function(t){var e=t.dir;f[e]=!0})),n.map((function(t){var n=t.data,i=t.classNames,s=t.dir,d=on[s];if(!d||!f[s])return null;p[s]=!0;var v=(nt(l,15)+c*an[s]+720)%180,h={};return V(n).forEach((function(t){h["data-".concat(t)]=n[t]})),r.createElement("div",Ne({className:Bn.apply(void 0,je(["control","direction",s,e],i,!1)),"data-rotation":v,"data-direction":s},h,{key:"direction-".concat(s),style:ir.apply(void 0,je([a,u],d.map((function(t){return o[t]})),!1))}))}))}function Ui(t,e,n,r){var i=or(t.props,n).renderDirections,o=void 0===i?e:i;return o?Vi(t,n,(!0===o?nn:o).map((function(t){return{data:{},classNames:[],dir:t}})),r):[]}function Ki(t,e,n,r,i,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var u=J(n,r),c=e?nt(u/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:Bn.apply(void 0,je(["line","direction",e?"edge":"",e],a,!1)),"data-rotation":c,"data-line-key":o,"data-direction":e,style:rr(n,r,i,u)})}function Qi(t,e,n,r,i){return(!0===n?en:n).map((function(n,o){var a=on[n],s=a[0],u=a[1];if(null!=u)return Ki(t,n,r[s],r[u],i,"".concat(e,"Edge").concat(o),e)})).filter(Boolean)}function $i(t){return function(e,n){var r=or(e.props,t).edge;return r&&(!0===r||r.length)?je(je([],Qi(n,t,r,e.getState().renderPoses,e.props.zoom),!0),function(t,e,n){return Ui(t,["nw","ne","sw","se"],e,n)}(e,t,n),!0):Ji(e,t,n)}}function Ji(t,e,n){return Ui(t,nn,e,n)}var to={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},requestStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var n=t.props,r=n.throttleDragRotate,i=n.zoom,o=t.getState(),a=o.dragInfo,s=o.beforeOrigin;if(!r||!a)return[];var u=a.dist;if(!u[0]&&!u[1])return[];var c=er(u),l=J(u,[0,0]);return[e.createElement("div",{className:Bn("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(c,"px"),transform:"translate(".concat(s[0],"px, ").concat(s[1],"px) rotate(").concat(l,"rad) scaleY(").concat(i,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentGesto,o=t.state,a=o.gestos,s=o.style;if(a.draggable)return!1;a.draggable=i||t.targetGesto,n.datas={},n.left=parseFloat(s.left||"")||0,n.top=parseFloat(s.top||"")||0,n.bottom=parseFloat(s.bottom||"")||0,n.right=parseFloat(s.right||"")||0,n.startValue=[0,0],fn(t,e),Sn(e,"translate"),function(t,e){e.absolutePoses=vr(t.state)}(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var u=br(t,e,Ne({set:function(t){n.startValue=t}},yn(e)));return!1!==(r||yr(t,"onDragStart",u))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,n.isPinch=!1),!!n.isDrag&&u},drag:function(t,e){if(e){dn(e,"translate");var n=e.datas,r=e.parentEvent,i=e.parentFlag,o=e.isPinch,a=e.isRequest,s=e.deltaOffset,u=e.distX,c=e.distY,l=n.isDrag,f=n.prevDist,d=n.prevBeforeDist,p=n.startValue;if(l){s&&(u+=s[0],c+=s[1]);var v=t.props,h=v.parentMoveable,g=r?0:v.throttleDrag||0,m=r?0:v.throttleDragRotate||0,b=0,x=!1,E=!1,y=!1,S=!1;if(!r&&m>0&&(u||c)){var w=v.startDragRotate||0,C=nt(w+180*J([0,0],[u,c])/Math.PI,m)-w,M=c*Math.abs(Math.cos((C-90)/180*Math.PI)),D=er([u*Math.abs(Math.cos(C/180*Math.PI)),M]);b=C*Math.PI/180,u=D*Math.cos(b),c=D*Math.sin(b)}if(!o&&!r&&!i){var R=_i(t,u,c,m,a||s,n),O=R[0],P=R[1];x=O.isSnap,E=O.isBound,y=P.isSnap,S=P.isBound,u+=O.offset,c+=P.offset}var T=xt(gn({datas:n,distX:u,distY:c}),p),_=xt(vn({datas:n,distX:u,distY:c}),p);rt(_,Qe),rt(T,Qe),m||(x||E||(_[0]=nt(_[0],g),T[0]=nt(T[0],g)),y||S||(_[1]=nt(_[1],g),T[1]=nt(T[1],g)));var k=Et(T,p),z=Et(_,p),G=Et(z,f),B=Et(k,d);n.prevDist=z,n.prevBeforeDist=k,n.passDelta=G,n.passDist=z;var F=n.left+k[0],I=n.top+k[1],A=n.right-k[0],N=n.bottom-k[1],j=pn(n,"translate(".concat(_[0],"px, ").concat(_[1],"px)"),"translate(".concat(z[0],"px, ").concat(z[1],"px)"));if(Cn(e,j),t.state.dragInfo.dist=r?[0,0]:z,r||h||!G.every((function(t){return!t}))||!B.some((function(t){return!t}))){var Z=t.state,Y=Z.width,L=Z.height,X=br(t,e,Ne({transform:j,dist:z,delta:G,translate:_,beforeDist:k,beforeDelta:B,beforeTranslate:T,left:F,top:I,right:A,bottom:N,width:Y,height:L,isPinch:o},gr({transform:j},e)));return!r&&yr(t,"onDrag",X),X}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return!(!r[0]&&!r[1])&&(n.deltaOffset=[0,0],this.drag(t,Ne(Ne({},e),{deltaOffset:r})))},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.dragInfo=null,r.isDrag){r.isDrag=!1;var i=xr(t,e,{});return!n&&yr(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var a=Hr(t,this,"dragStart",[r||0,i||0],e,!1,"draggable"),s=yr(t,"onDragGroupStart",Ne(Ne({},o),{targets:t.props.targets,events:a}));return n.isDrag=!1!==s,!!n.isDrag&&o},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,e),r=Hr(t,this,"drag",e.datas.passDelta,e,!1,"draggable");if(n){var i=Ne({targets:t.props.targets,events:r},n);return yr(t,"onDragGroup",i),i}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag){this.dragEnd(t,e);var r=Hr(t,this,"dragEnd",[0,0],e,!1,"draggable");return yr(t,"onDragGroupEnd",xr(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=t.getRect(),r=0,i=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(t){return"x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:r,distY:i}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}},eo=Gr("resizable"),no={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function,keepRatioFinally:Boolean,edge:Boolean,checkResizableError:Boolean},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:$i("resizable"),dragControlCondition:eo,viewClassName:zr("resizable"),dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,o=e.isGroup,a=e.parentDirection,s=e.parentGesto,u=e.datas,c=e.parentFixedDirection,l=e.parentEvent,f=fr(a,i,r,u),d=t.state,p=d.target,v=d.width,h=d.height,g=d.gestos;if(!f||!p)return!1;if(g.resizable)return!1;g.resizable=s||t.controlGesto,!i&&fn(t,e),u.datas={},u.direction=f,u.startOffsetWidth=v,u.startOffsetHeight=h,u.prevWidth=0,u.prevHeight=0,u.minSize=[0,0],u.startWidth=d.inlineCSSWidth||d.cssWidth,u.startHeight=d.inlineCSSHeight||d.cssHeight,u.maxSize=[1/0,1/0],o||(u.minSize=[d.minOffsetWidth,d.minOffsetHeight],u.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";function b(t){u.ratio=t&&isFinite(t)?t:0}function x(t){u.fixedDirection=t,u.fixedPosition=xn(u.startPositions,t)}function E(e){var n=t.state,r=n.width,i=n.height;u.fixedPosition=e,u.fixedDirection=_n(e,r,i)}function y(t){u.minSize=[U("".concat(t[0]),0)||0,U("".concat(t[1]),0)||0]}function S(t){var e=[t[0]||1/0,t[1]||1/0];G(e[0])&&!isFinite(e[0])||(e[0]=U("".concat(e[0]),0)||1/0),G(e[1])&&!isFinite(e[1])||(e[1]=U("".concat(e[1]),0)||1/0),u.maxSize=e}u.transformOrigin=m&&z(m)?m.split(" "):m,u.startOffsetMatrix=d.offsetMatrix,u.startTransformOrigin=d.transformOrigin,u.isWidth=null!==(n=null===e||void 0===e?void 0:e.parentIsWidth)&&void 0!==n?n:!f[0]&&!f[1]||f[0]||!f[1],u.startPositions=vr(t.state),b(v/h),x(c||[-f[0],-f[1]]),u.setFixedDirection=x,u.setFixedPosition=E,u.setMin=y,u.setMax=S;var w=br(t,e,{direction:f,startRatio:u.ratio,set:function(t){var e=t[0],n=t[1];u.startWidth=e,u.startHeight=n},setMin:y,setMax:S,setRatio:b,setFixedDirection:x,setFixedPosition:E,setOrigin:function(t){u.transformOrigin=t},dragStart:to.dragStart(t,(new cn).dragStart([0,0],e))}),C=l||yr(t,"onResizeStart",w);return u.startFixedDirection=u.fixedDirection,u.startFixedPosition=u.fixedPosition,!1!==C&&(u.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),!!u.isResize&&w},dragControl:function(t,e){var n,r=e.datas,i=e.parentFlag,o=e.isPinch,a=e.parentKeepRatio,s=e.dragClient,u=e.parentDist,c=e.isRequest,l=e.isGroup,f=e.parentEvent,d=e.resolveMatrix,p=r.isResize,v=r.transformOrigin,h=r.startWidth,g=r.startHeight,m=r.prevWidth,b=r.prevHeight,x=r.minSize,E=r.maxSize,y=r.ratio,S=r.startOffsetWidth,w=r.startOffsetHeight,C=r.isWidth;if(p){if(d){var M=t.state.is3d,D=r.startOffsetMatrix,R=r.startTransformOrigin,O=M?4:3,P=Bt(Dn(e)),T=Math.sqrt(P.length);O!==T&&(P=gt(P,T,O));var _=En(D,P,R,O),k=Qn(_,S,w,O);r.startPositions=k,r.nextTargetMatrix=P,r.nextAllMatrix=_}var z=or(t.props,"resizable"),G=z.resizeFormat,B=z.throttleResize,F=void 0===B?i?0:1:B,I=z.parentMoveable,A=z.keepRatioFinally,N=r.direction,j=N,Z=0,Y=0;N[0]||N[1]||(j=[1,1]);var L=y&&(null!=a?a:z.keepRatio)||!1,X=at(),W=X[0],H=X[1];f||(r.setFixedDirection(r.fixedDirection),yr(t,"onBeforeResize",br(t,e,{startFixedDirection:r.startFixedDirection,startFixedPosition:r.startFixedPosition,setFixedDirection:function(t){var e;return r.setFixedDirection(t),e=at(),W=e[0],H=e[1],[W,H]},setFixedPosition:function(t){var e;return r.setFixedPosition(t),e=at(),W=e[0],H=e[1],[W,H]},boundingWidth:W,boundingHeight:H,setSize:function(t){W=t[0],H=t[1]}},!0)));var q=s;s||(q=!i&&o?Gn(t,[0,0]):r.fixedPosition);var V=[0,0];if(o||(V=function(t,e,n,r,i,o,a){if(!$r(t,"resizable"))return[0,0];var s=a.fixedDirection,u=a.nextAllMatrix,c=t.state,l=c.allMatrix,f=c.is3d;return Yi(t,(function(t,r){return ji(u||l,e+t,n+r,s,i,f)}),e,n,r,i,o,a)}(t,W,H,N,q,c,r)),u&&(!u[0]&&(V[0]=0),!u[1]&&(V[1]=0)),L){j[0]&&j[1]&&V[0]&&V[1]&&(Math.abs(V[0])>Math.abs(V[1])?V[1]=0:V[0]=0);var U=!V[0]&&!V[1];U&&st(),j[0]&&!j[1]||V[0]&&!V[1]||U&&C?(W+=V[0],H=W/y):(!j[0]&&j[1]||!V[0]&&V[1]||U&&!C)&&(H+=V[1],W=H*y)}else W+=V[0],H+=V[1],W=Math.max(0,W),H=Math.max(0,H);n=function(t,e,n,r){if(!r)return t.map((function(t,r){return K(t,e[r],n[r])}));var i=t[0],o=t[1],a=!0===r?i/o:r,s=Q(t,e,!1,a),u=s[0],c=s[1],l=Q(t,n,!0,a),f=l[0],d=l[1];return i<u||o<c?(i=u,o=c):(i>f||o>d)&&(i=f,o=d),[i,o]}([W,H],x,E,!!L&&y),W=n[0],H=n[1],st(),L&&(l||A)&&(C?H=W/y:W=H*y);var $=[(Z=W-S)-m,(Y=H-w)-b];r.prevWidth=Z,r.prevHeight=Y;var J=zn(t,W,H,q,v,r);if(I||!$.every((function(t){return!t}))||!J.every((function(t){return!t}))){var tt=to.drag(t,un(e,t.state,J,!!o,!1,"draggable")),et=tt.transform,rt=h+Z,it=g+Y,ot=br(t,e,Ne({width:rt,height:it,offsetWidth:Math.round(W),offsetHeight:Math.round(H),startRatio:y,boundingWidth:W,boundingHeight:H,direction:N,dist:[Z,Y],delta:$,isPinch:!!o,drag:tt},mr({style:{width:"".concat(rt,"px"),height:"".concat(it,"px")},transform:et},tt,e)));return!f&&yr(t,"onResize",ot),ot}}function at(){var t=r.fixedDirection,n=jr(j,L,r,e);Z=n.distWidth,Y=n.distHeight;var i=j[0]-t[0]||L?Math.max(S+Z,Qe):S,o=j[1]-t[1]||L?Math.max(w+Y,Qe):w;return L&&S&&w&&(C?o=i/y:i=o*y),[i,o]}function st(){var t;G&&(t=G([W,H]),W=t[0],H=t[1]),W=nt(W,F),H=nt(H,F)}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,a=n.prevWidth,s=n.prevHeight;if(r&&!1!==t.props.checkResizableError){var u=t.state,c=u.width-(i+a),l=u.height-(o+s),f=Math.abs(c)>3,d=Math.abs(l)>3;return f&&(n.startWidth+=c,n.startOffsetWidth+=c,n.prevWidth+=c),d&&(n.startHeight+=l,n.startOffsetHeight+=l,n.prevHeight+=l),f||d?this.dragControl(t,e):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.parentEvent;if(n.isResize){n.isResize=!1;var i=xr(t,e,{});return!r&&yr(t,"onResizeEnd",i),i}},dragGroupControlCondition:eo,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,Ne(Ne({},e),{isGroup:!0}));if(!r)return!1;var i=Wr(t,"resizable",e);function o(e,r){var i=n.fixedDirection,o=n.fixedPosition,a=xn(r.datas.startPositions||vr(e.state),i),s=St(Tt(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),u=s[0],c=s[1];return r.datas.originalX=u,r.datas.originalY=c,r}var a=n.startOffsetWidth,s=n.startOffsetHeight;function u(){var t=n.minSize;i.forEach((function(e){var n=e.datas,r=n.minSize,i=n.startOffsetWidth,o=n.startOffsetHeight,u=a*(i?r[0]/i:0),c=s*(o?r[1]/o:0);t[0]=Math.max(t[0],u),t[1]=Math.max(t[1],c)}))}function c(){var t=n.maxSize;i.forEach((function(e){var n=e.datas,r=n.maxSize,i=n.startOffsetWidth,o=n.startOffsetHeight,u=a*(i?r[0]/i:0),c=s*(o?r[1]/o:0);t[0]=Math.min(t[0],u),t[1]=Math.min(t[1],c)}))}var l=qr(t,this,"dragControlStart",e,(function(t,e){return o(t,e)}));u(),c();var f=function(t){r.setFixedDirection(t),l.forEach((function(e,n){e.setFixedDirection(t),o(e.moveable,i[n])}))};n.setFixedDirection=f;var d=Ne(Ne({},r),{targets:t.props.targets,events:l.map((function(t){return Ne(Ne({},t),{setMin:function(e){t.setMin(e),u()},setMax:function(e){t.setMax(e),c()}})})),setFixedDirection:f,setMin:function(t){r.setMin(t),u()},setMax:function(t){r.setMax(t),c()}}),p=yr(t,"onResizeGroupStart",d);return n.isResize=!1!==p,!!n.isResize&&r},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var r=or(t.props,"resizable");Er(t,"onBeforeResize",(function(n){yr(t,"onBeforeResizeGroup",br(t,e,Ne(Ne({},n),{targets:r.targets}),!0))}));var i=this.dragControl(t,Ne(Ne({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,a=i.boundingHeight,s=i.dist,u=r.keepRatio,c=[o/(o-s[0]),a/(a-s[1])],l=n.fixedPosition,f=qr(t,this,"dragControl",e,(function(e,n){var r=St(Tt(t.rotation/180*Math.PI,3),[n.datas.originalX*c[0],n.datas.originalY*c[1],1],3),i=r[0],o=r[1];return Ne(Ne({},n),{parentDist:null,parentScale:c,dragClient:xt(l,[i,o]),parentKeepRatio:u})})),d=Ne({targets:r.targets,events:f},i);return yr(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize){this.dragControlEnd(t,e);var r=qr(t,this,"dragControlEnd",e);return yr(t,"onResizeGroupEnd",xr(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=0,r=0,i=t.getRect();return{isControl:!0,requestStart:function(t){var n;return{datas:e,parentDirection:t.direction||[1,1],parentIsWidth:null===(n=null===t||void 0===t?void 0:t.horizontal)||void 0===n||n}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-i.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?r=t.offsetHeight-i.offsetHeight:"deltaHeight"in t&&(r+=t.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:t.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.resizable=null}};function ro(t,e,n,r,i){var o=t.props.groupable,a=t.state,s=a.is3d?4:3,u=e.origin,c=Kn(t.state.rootMatrix,Et([u[0],u[1]],o?[0,0]:[a.left,a.top]),s),l=xt([i.left,i.top],c);e.startAbsoluteOrigin=l,e.prevDeg=J(l,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=et(l,[n,r])}function io(t,e,n){var r=n.defaultDeg,i=n.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(360*a+t-r);return n.prevDeg=r+s,s}function oo(t,e,n,r){return io(J(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function ao(t,e,n,r,i,o){var a=t.props.throttleRotate,s=void 0===a?0:a,u=n.prevSnapDeg,c=0,l=!1;if(o){var f=function(t,e,n){if(!$r(t,"rotatable"))return{isSnap:!1,rotation:n};var r=e.pos1,i=e.pos2,o=e.pos3,a=e.pos4,s=e.origin,u=n*Math.PI/180,c=[r,i,o,a].map((function(t){return Et(t,s)})),l=c.map((function(t){return Rt(t,u)})),f=je(je([],wi(t,c,l,s,n),!0),bi(t,c,l,s,n),!0);f.sort((function(t,e){return Math.abs(t-n)-Math.abs(e-n)}));var d=f.length>0;return{isSnap:d,rotation:d?f[0]:n}}(t,e,r);l=f.isSnap,c=i+f.rotation}l||(c=nt(i+r,s));var d=c-i;return n.prevSnapDeg=d,[d-u,d,c]}function so(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];if("none"===t)return[];if(k(t))return t.map((function(t){return so(t,[r,i,o,a],n)[0]}));var s=(t||"top").split("-"),u=s[0],c=s[1],l=[r,i];"left"===u?l=[o,r]:"right"===u?l=[i,a]:"bottom"===u&&(l=[a,o]);var f=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2],d=sr(l,n);if(c){var p="top"===c||"left"===c,v="bottom"===u||"left"===u;f=l[p&&!v||!p&&v?0:1]}return[[f,d]]}function uo(t,e){if(e.isRequest)return"rotatable"===e.requestAble;var n=e.inputEvent.target;if(it(n,Bn("rotation-control"))||it(n,Bn("around-control"))||it(n,Bn("control"))&&it(n,Bn("rotatable")))return!0;var r=t.props.rotationTarget;return!!r&&Ir(r,!0).some((function(t){return!!t&&(n===t||n.contains(t))}))}var co=nn.map((function(t){var e="",n="",r="center",i="center";return t.indexOf("n")>-1&&(e="top: -20px;",i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(n="left: -20px;",r="right"),t.indexOf("e")>-1&&(n="left: 0px;",r="left"),'.around-control[data-direction*="'.concat(t,'"] {\n        ').concat(n).concat(e,"\n        transform-origin: ").concat(r," ").concat(i,";\n    }")})).join("\n"),lo=".rotation {\n    position: absolute;\n    height: 40px;\n    width: 1px;\n    transform-origin: 50% 100%;\n    height: calc(40px * var(--zoom));\n    top: auto;\n    left: 0;\n    bottom: 100%;\n    will-change: transform;\n}\n.rotation .rotation-line {\n    display: block;\n    width: 100%;\n    height: 100%;\n    transform-origin: 50% 50%;\n}\n.rotation .rotation-control {\n    border-color: #4af;\n    border-color: var(--moveable-color);\n    background:#fff;\n    cursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\n    cursor: alias;\n}\n.around-control {\n    position: absolute;\n    will-change: transform;\n    width: 20px;\n    height: 20px;\n    left: -10px;\n    top: -10px;\n    box-sizing: border-box;\n    background: transparent;\n    z-index: 8;\n    cursor: alias;\n    transform-origin: center center;\n}\n.rotatable.direction.control.move {\n    cursor: move;\n}\n".concat(co,"\n"),fo={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object,rotateAroundControls:Boolean,edge:Boolean,resolveAblesWithRotatable:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[lo],viewClassName:function(t){return t.isDragging("rotatable")?Bn("view-rotation-dragging"):""},render:function(t,e){var n=or(t.props,"rotatable"),r=n.rotatable,i=n.rotationPosition,o=n.zoom,a=n.renderDirections,s=n.rotateAroundControls,u=n.resolveAblesWithRotatable,c=t.getState(),l=c.renderPoses,f=c.direction;if(!r)return null;var d=so(i,l,f),p=[];if(d.forEach((function(t,n){var r=t[0],i=t[1];p.push(e.createElement("div",{key:"rotation".concat(n),className:Bn("rotation"),style:{transform:"translate(-50%) translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(i,"rad)")}},e.createElement("div",{className:Bn("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:Bn("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))})),a){var v=V(u||{}),h={};v.forEach((function(t){u[t].forEach((function(e){h[e]=t}))}));var g=[];k(a)&&(g=a.map((function(t){var e=h[t];return{data:e?{resolve:e}:{},classNames:e?["move"]:[],dir:t}}))),p.push.apply(p,Vi(t,"rotatable",g,e))}return s&&p.push.apply(p,function(t,e){var n=t.renderState;n.renderDirectionMap||(n.renderDirectionMap={});var r=t.getState(),i=r.renderPoses,o=r.rotation,a=r.direction,s=n.renderDirectionMap,u=t.props.zoom,c=a>0?1:-1,l=o/Math.PI*180;return V(s).map((function(t){var n=on[t];if(!n)return null;var r=(nt(l,15)+c*an[t]+720)%180;return e.createElement("div",{className:Bn("around-control"),"data-rotation":r,"data-direction":t,key:"direction-around-".concat(t),style:ir.apply(void 0,je([o,u],n.map((function(t){return i[t]})),!1))})}))}(t,e)),p},dragControlCondition:uo,dragControlStart:function(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=e.parentRotate,u=e.parentFlag,c=e.isPinch,l=e.isRequest,f=t.state,d=f.target,p=f.left,v=f.top,h=f.direction,g=f.beforeDirection,m=f.targetTransform,b=f.moveableClientRect,x=f.offsetMatrix,E=f.targetMatrix,y=f.allMatrix,S=f.width,w=f.height;if(!l&&!d)return!1;var C=t.getRect();i.rect=C,i.transform=m,i.left=p,i.top=v;var M=function(e){var n=t.state,r=n.allMatrix,o=n.is3d,a=_n(e,n.width,n.height);i.fixedDirection=a,i.fixedPosition=Kn(r,e,o?4:3),I&&I.setFixedPosition(e)},D=function(e){i.fixedDirection=e,i.fixedPosition=kn(t,e),I&&I.setFixedDirection(e)},R=o,O=a;if(l||c||u){var P=s||0;i.beforeInfo={origin:C.beforeOrigin,prevDeg:P,defaultDeg:P,prevSnapDeg:0,startDist:0},i.afterInfo=Ne(Ne({},i.beforeInfo),{origin:C.origin}),i.absoluteInfo=Ne(Ne({},i.beforeInfo),{origin:C.origin,startValue:P})}else{var T=null===(r=e.inputEvent)||void 0===r?void 0:r.target;if(T){var _=T.getAttribute("data-direction")||"",k=rn[_];if(k){i.isControl=!0,i.isAroundControl=it(T,Bn("around-control")),i.controlDirection=k;var z=T.getAttribute("data-resolve");z&&(i.resolveAble=z);var G=function(t,e,n){var r=16===t.length?4:3,i=e.map((function(e){return Kn(t,e,r)})),o=n.left,a=n.top;return i.map((function(t){return[t[0]+o,t[1]+a]}))}(f.rootMatrix,f.renderPoses,b);n=xn(G,k),R=n[0],O=n[1]}}i.beforeInfo={origin:C.beforeOrigin},i.afterInfo={origin:C.origin},i.absoluteInfo={origin:C.origin,startValue:C.rotation};var B=M;M=function(e){var n=f.is3d?4:3,r=xt(vt(E,n),e),o=r[0],a=r[1],s=St(x,ht([o,a],n)),u=St(y,ht([e[0],e[1]],n));B(e);var c=f.posDelta;i.beforeInfo.origin=Et(s,c),i.afterInfo.origin=Et(u,c),i.absoluteInfo.origin=Et(u,c),ro(t,i.beforeInfo,R,O,b),ro(t,i.afterInfo,R,O,b),ro(t,i.absoluteInfo,R,O,b)},D=function(t){var e=xn([[0,0],[S,0],[0,w],[S,w]],t);M(e)}}i.startClientX=R,i.startClientY=O,i.direction=h,i.beforeDirection=g,i.startValue=0,i.datas={},Sn(e,"rotate");var F=!1,I=!1;i.isControl&&i.resolveAble&&("resizable"===i.resolveAble&&(I=no.dragControlStart(t,Ne(Ne({},new cn("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition}))));I||(F=to.dragStart(t,(new cn).dragStart([0,0],e))),M(f.transformOrigin);var A=br(t,e,Ne(Ne({set:function(t){i.startValue=t*Math.PI/180},setFixedDirection:D,setFixedPosition:M},yn(e)),{dragStart:F,resizeStart:I})),N=yr(t,"onRotateStart",A);return i.isRotate=!1!==N,f.snapRenderInfo={request:e.isRequest},!!i.isRotate&&A},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.clientDistX,s=e.clientDistY,u=e.parentRotate,c=e.parentFlag,l=e.isPinch,f=e.groupDelta,d=o.beforeDirection,p=o.beforeInfo,v=o.afterInfo,h=o.absoluteInfo,g=o.isRotate,m=o.startValue,b=o.rect,x=o.startClientX,E=o.startClientY;if(g){dn(e,"rotate");var y,S,w,C,M,D,R,O,P,T=function(t){return tr(t.datas.beforeTransform,[50,50],100,100).direction}(e),_=d*T,k=t.props.parentMoveable,z=180/Math.PI*m,G=h.startValue,B=!1,F=x+a,I=E+s;if(!c&&"parentDist"in e){var A=e.parentDist;S=A,M=A,O=A}else l||c?(S=io(u,d,p),M=io(u,_,v),O=io(u,_,h)):(S=oo(F,I,d,p),M=oo(F,I,_,v),O=oo(F,I,_,h),B=!0);if(yr(t,"onBeforeRotate",br(t,e,{beforeRotation:w=z+S,rotation:D=z+M,absoluteRotation:P=G+O,setRotation:function(t){S=M=t-z,O=M}},!0)),y=(n=ao(t,b,p,S,z,B))[0],S=n[1],w=n[2],C=(r=ao(t,b,v,M,z,B))[0],M=r[1],D=r[2],R=(i=ao(t,b,h,O,G,B))[0],O=i[1],P=i[2],R||C||y||k){var N=pn(o,"rotate(".concat(D,"deg)"),"rotate(".concat(M,"deg)")),j=function(t,e,n){var r=n.fixedDirection,i=n.fixedPosition;return Tn(t,"rotate(".concat(e,"deg)"),r,i,n)}(t,M,o),Z=Et(xt(f||[0,0],j),o.prevInverseDist||[0,0]);o.prevInverseDist=j,o.requestValue=null;var Y=Pn(t,N,Z,l,e),L=Y,X=et([F,I],h.startAbsoluteOrigin)-h.startDist,W=void 0;if("resizable"===o.resolveAble){var H=no.dragControl(t,Ne(Ne({},un(e,t.state,[e.deltaX,e.deltaY],!!l,!1,"resizable")),{resolveMatrix:!0,parentDistance:X}));H&&(W=H,L=mr(L,H,e))}var q=br(t,e,Ne(Ne({delta:C,dist:M,rotate:D,rotation:D,beforeDist:S,beforeDelta:y,beforeRotate:w,beforeRotation:w,absoluteDist:O,absoluteDelta:R,absoluteRotate:P,absoluteRotation:P,isPinch:!!l,resize:W},Y),L));return yr(t,"onRotate",q),q}}},dragControlEnd:function(t,e){var n=e.datas;if(n.isRotate){n.isRotate=!1;var r=xr(t,e,{});return yr(t,"onRotateEnd",r),r}},dragGroupControlCondition:uo,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,i=r.left,o=r.top,a=r.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var u=qr(t,this,"dragControlStart",e,(function(t,e){var n=t.state,r=n.left,s=n.top,u=n.beforeOrigin,c=xt(Et([r,s],[i,o]),Et(u,a));return e.datas.startGroupClient=c,e.datas.groupClient=c,Ne(Ne({},e),{parentRotate:0})})),c=yr(t,"onRotateGroupStart",Ne(Ne({},s),{targets:t.props.targets,events:u}));return n.isRotate=!1!==c,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){Er(t,"onBeforeRotate",(function(n){yr(t,"onBeforeRotateGroup",br(t,e,Ne(Ne({},n),{targets:t.props.targets}),!0))}));var r=this.dragControl(t,e);if(r){var i=n.beforeDirection,o=r.beforeDist,a=o/180*Math.PI,s=qr(t,this,"dragControl",e,(function(t,e){var n=e.datas.startGroupClient,r=e.datas.groupClient,s=r[0],u=r[1],c=Rt(n,a*i),l=c[0],f=c[1],d=[l-s,f-u];return e.datas.groupClient=[l,f],Ne(Ne({},e),{parentRotate:o,groupDelta:d})}));t.rotation=i*r.beforeRotation;var u=Ne({targets:t.props.targets,events:s,set:function(e){t.rotation=e},setGroupRotation:function(e){t.rotation=e}},r);return yr(t,"onRotateGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate){this.dragControlEnd(t,e);var r=qr(t,this,"dragControlEnd",e);return yr(t,"onRotateGroupEnd",xr(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},po=Gr("scalable"),vo={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean,edge:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:$i("scalable"),dragControlCondition:po,viewClassName:zr("scalable"),dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=fr(e.parentDirection,r,i,n),a=t.state,s=a.width,u=a.height,c=a.targetTransform,l=a.target,f=a.pos1,d=a.pos2,p=a.pos4;if(!o||!l)return!1;r||fn(t,e),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=o,n.startOffsetWidth=s,n.startOffsetHeight=u,n.startValue=[1,1];var v=et(f,d),h=et(d,p),g=!o[0]&&!o[1]||o[0]||!o[1];function m(t){n.ratio=t&&isFinite(t)?t:0}function b(t){n.fixedDirection=t,n.fixedPosition=xn(n.startPositions,t)}n.scaleWidth=v,n.scaleHeight=h,n.scaleXRatio=v/s,n.scaleYRatio=h/u,Sn(e,"scale"),n.isWidth=g,n.startPositions=vr(t.state),n.setFixedDirection=b,m(et(f,d)/et(d,p)),b([-o[0],-o[1]]);var x=br(t,e,Ne(Ne({direction:o,set:function(t){n.startValue=t},setRatio:m,setFixedDirection:b},yn(e)),{dragStart:to.dragStart(t,(new cn).dragStart([0,0],e))})),E=yr(t,"onScaleStart",x);return n.startFixedDirection=n.fixedDirection,!1!==E&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),!!n.isScale&&x},dragControl:function(t,e){dn(e,"scale");var n=e.datas,r=e.parentKeepRatio,i=e.parentFlag,o=e.isPinch,a=e.dragClient,s=e.isRequest,u=n.prevDist,c=n.direction,l=n.startOffsetWidth,f=n.startOffsetHeight,d=n.isScale,p=n.startValue,v=n.isWidth,h=n.ratio;if(!d)return!1;var g=t.props,m=g.throttleScale,b=g.parentMoveable,x=c;c[0]||c[1]||(x=[1,1]);var E=h&&(null!=r?r:g.keepRatio)||!1,y=t.state;function S(){var t=jr(x,E,n,e),r=t.distWidth,i=t.distHeight,o=l?(l+r)/l:1,a=f?(f+i)/f:1;return o=x[0]||E?o*p[0]:p[0],a=x[1]||E?a*p[1]:p[1],0===o&&(o=(u[0]>0?1:-1)*$e),0===a&&(a=(u[1]>0?1:-1)*$e),[o,a]}var w=S();if(!o&&t.props.groupable){var C=(y.snapRenderInfo||{}).direction;k(C)&&(C[0]||C[1])&&(y.snapRenderInfo={direction:c,request:e.isRequest})}yr(t,"onBeforeScale",br(t,e,{scale:w,setFixedDirection:function(t){return n.setFixedDirection(t),w=S()},startFixedDirection:n.startFixedDirection,setScale:function(t){w=t}},!0));var M=[w[0]/p[0],w[1]/p[1]],D=a,R=[0,0];if(a||(D=!i&&o?Gn(t,[0,0]):n.fixedPosition),o||(R=Li(t,M,c,s,n)),E){x[0]&&x[1]&&R[0]&&R[1]&&(Math.abs(R[0]*l)>Math.abs(R[1]*f)?R[1]=0:R[0]=0);var O=!R[0]&&!R[1];if(O&&(v?M[0]=nt(M[0]*p[0],m)/p[0]:M[1]=nt(M[1]*p[1],m)/p[1]),x[0]&&!x[1]||R[0]&&!R[1]||O&&v){M[0]+=R[0];var P=l*M[0]*p[0]/h;M[1]=P/f/p[1]}else if(!x[0]&&x[1]||!R[0]&&R[1]||O&&!v){M[1]+=R[1];var T=f*M[1]*p[1]*h;M[0]=T/l/p[0]}}else M[0]+=R[0],M[1]+=R[1],R[0]||(M[0]=nt(M[0]*p[0],m)/p[0]),R[1]||(M[1]=nt(M[1]*p[1],m)/p[1]);0===M[0]&&(M[0]=(u[0]>0?1:-1)*$e),0===M[1]&&(M[1]=(u[1]>0?1:-1)*$e);var _,z,G=[M[0]/u[0],M[1]/u[1]];z=p,w=[(_=M)[0]*z[0],_[1]*z[1]];var B=function(t,e,n,r,i){return Tn(t,"scale(".concat(e.join(", "),")"),n,r,i)}(t,M,n.fixedDirection,D,n),F=Et(B,n.prevInverseDist||[0,0]);if(n.prevDist=M,n.prevInverseDist=B,w[0]===u[0]&&w[1]===u[1]&&F.every((function(t){return!t}))&&!b)return!1;var I=pn(n,"scale(".concat(w.join(", "),")"),"scale(".concat(M.join(", "),")")),A=br(t,e,Ne({offsetWidth:l,offsetHeight:f,direction:c,scale:w,dist:M,delta:G,isPinch:!!o},Pn(t,I,F,o,e)));return yr(t,"onScale",A),A},dragControlEnd:function(t,e){var n=e.datas;if(!n.isScale)return!1;n.isScale=!1;var r=xr(t,e,{});return yr(t,"onScaleEnd",r),r},dragGroupControlCondition:po,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=Wr(t,"resizable",e);function o(e,r){var i=n.fixedDirection,o=n.fixedPosition,a=xn(r.datas.startPositions||vr(e.state),i),s=St(Tt(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),u=s[0],c=s[1];return r.datas.originalX=u,r.datas.originalY=c,r}n.moveableScale=t.scale;var a=qr(t,this,"dragControlStart",e,(function(t,e){return o(t,e)})),s=function(t){r.setFixedDirection(t),a.forEach((function(e,n){e.setFixedDirection(t),o(e.moveable,i[n])}))};n.setFixedDirection=s;var u=Ne(Ne({},r),{targets:t.props.targets,events:a,setFixedDirection:s}),c=yr(t,"onScaleGroupStart",u);return n.isScale=!1!==c,!!n.isScale&&u},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){Er(t,"onBeforeScale",(function(n){yr(t,"onBeforeScaleGroup",br(t,e,Ne(Ne({},n),{targets:t.props.targets}),!0))}));var r=this.dragControl(t,e);if(r){var i=n.moveableScale;t.scale=[r.scale[0]*i[0],r.scale[1]*i[1]];var o=t.props.keepRatio,a=r.dist,s=r.scale,u=n.fixedPosition,c=qr(t,this,"dragControl",e,(function(e,n){var r=St(Tt(t.rotation/180*Math.PI,3),[n.datas.originalX*a[0],n.datas.originalY*a[1],1],3),i=r[0],c=r[1];return Ne(Ne({},n),{parentDist:null,parentScale:s,parentKeepRatio:o,dragClient:xt(u,[i,c])})})),l=Ne({targets:t.props.targets,events:c},r);return yr(t,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale){this.dragControlEnd(t,e);var r=qr(t,this,"dragControlEnd",e);return yr(t,"onScaleGroupEnd",xr(t,e,{targets:t.props.targets,events:r})),n}},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(r){return e+=r.deltaWidth,n+=r.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:r.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function ho(t,e){return t.map((function(t,n){return P(t,e[n],1,2)}))}function go(t,e,n){var r=J(t,e),i=J(t,n)-r;return i>=0?i:i+2*Math.PI}var mo={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array,edge:Boolean},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},viewClassName:zr("warpable"),render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable,a=n.zoom;if(r||i||!o)return[];var s=t.state,u=s.pos1,c=s.pos2,l=s.pos3,f=s.pos4,d=ho(u,c),p=ho(c,u),v=ho(u,l),h=ho(l,u),g=ho(l,f),m=ho(f,l),b=ho(c,f),x=ho(f,c);return je([e.createElement("div",{className:Bn("line"),key:"middeLine1",style:rr(d,g,a)}),e.createElement("div",{className:Bn("line"),key:"middeLine2",style:rr(p,m,a)}),e.createElement("div",{className:Bn("line"),key:"middeLine3",style:rr(v,b,a)}),e.createElement("div",{className:Bn("line"),key:"middeLine4",style:rr(h,x,a)})],Ji(t,"warpable",e),!0)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var n=e.inputEvent.target;return it(n,Bn("direction"))&&it(n,Bn("warpable"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,o=dr(r.target,n);if(!o||!i)return!1;var a=t.state,s=a.transformOrigin,u=a.is3d,c=a.targetTransform,l=a.targetMatrix,f=a.width,d=a.height,p=a.left,v=a.top;return n.datas={},n.targetTransform=c,n.warpTargetMatrix=u?l:gt(l,3,4),n.targetInverseMatrix=dt(pt(n.warpTargetMatrix,4),3,4),n.direction=o,n.left=p,n.top=v,n.poses=[[0,0],[f,0],[0,d],[f,d]].map((function(t){return Et(t,s)})),n.nextPoses=n.poses.map((function(t){var e=t[0],r=t[1];return St(n.warpTargetMatrix,[e,r,0,1],4)})),n.startValue=_t(4),n.prevMatrix=_t(4),n.absolutePoses=vr(a),n.posIndexes=bn(o),fn(t,e),Sn(e,"matrix3d"),a.snapRenderInfo={request:e.isRequest,direction:o},!1!==yr(t,"onWarpStart",br(t,e,Ne({set:function(t){n.startValue=t}},yn(e))))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,u=n.isWarp,c=n.startValue,l=n.poses,f=n.posIndexes,d=n.absolutePoses;if(!u)return!1;if(dn(e,"matrix3d"),$r(t,"warpable")){var p=f.map((function(t){return d[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var v=ki(t,r,{horizontal:p.map((function(t){return t[1]+o})),vertical:p.map((function(t){return t[0]+i}))}),h=v.horizontal,g=v.vertical;o-=h.offset,i-=g.offset}var m=mn({datas:n,distX:i,distY:o},!0),b=n.nextPoses.slice();if(f.forEach((function(t){b[t]=xt(b[t],m)})),!Ue.every((function(t){return function(t,e){var n=go(t[0],t[1],t[2]),r=go(e[0],e[1],e[2]),i=Math.PI;return!(n>=i&&r<=i||n<=i&&r>=i)}(t.map((function(t){return l[t]})),t.map((function(t){return b[t]})))})))return!1;var x=Gt(l[0],l[2],l[1],l[3],b[0],b[2],b[1],b[3]);if(!x.length)return!1;var E=hn(n,bt(a,x,4),!0),y=bt(pt(s,4),E,4);n.prevMatrix=E;var S=bt(c,E,4),w=pn(n,"matrix3d(".concat(S.join(", "),")"),"matrix3d(".concat(E.join(", "),")"));return Cn(e,w),yr(t,"onWarp",br(t,e,Ne({delta:y,matrix:S,dist:E,multiply:bt,transform:w},gr({transform:w},e)))),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,yr(t,"onWarpEnd",xr(t,e,{})),r)}},bo=Bn("area-pieces"),xo=Bn("area-piece"),Eo=Bn("avoid"),yo=Bn("view-dragging");function So(t){var e=t.areaElement;if(e){var n=t.state,r=n.width,i=n.height;at(e,Eo),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(i,"px")}}function wo(t){return t.createElement("div",{key:"area_pieces",className:bo},t.createElement("div",{className:xo}),t.createElement("div",{className:xo}),t.createElement("div",{className:xo}),t.createElement("div",{className:xo}))}var Co={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,o=n.groupable,a=n.passDragArea,s=t.getState(),u=s.width,c=s.height,l=s.renderPoses,f=a?Bn("area","pass"):Bn("area");if(o)return[e.createElement("div",{key:"area",ref:S(t,"areaElement"),className:f}),wo(e)];if(!r||!i)return[];var d=Gt([0,0],[u,0],[0,c],[u,c],l[0],l[1],l[2],l[3]),p=d.length?qn(d,!0):"none";return[e.createElement("div",{key:"area",ref:S(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(u,"px"),height:"".concat(c,"px"),transformOrigin:"0 0",transform:p}}),wo(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;n.isDragArea=!1;var o=t.areaElement,a=t.state,s=a.moveableClientRect,u=a.renderPoses,c=a.rootMatrix,l=a.is3d,f=s.left,d=s.top,p=$n(u),v=p.left,h=p.top,g=p.width,m=p.height,b=Or(c,[r-f,i-d],l?4:3),x=b[0],E=b[1],y=[{left:v,top:h,width:g,height:(E-=h)-10},{left:v,top:h,width:(x-=v)-10,height:m},{left:v,top:h+E+10,width:g,height:m-E-10},{left:v+x+10,top:h,width:g-x-10,height:m}],S=[].slice.call(o.nextElementSibling.children);y.forEach((function(t,e){S[e].style.cssText="left: ".concat(t.left,"px;top: ").concat(t.top,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px;")})),ot(o,Eo),a.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,So(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||So(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){So(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&H((function(){e.disableNativeEvent=!1}))}},Mo=Ze("origin",{render:function(t,e){var n=t.props.zoom,r=t.getState(),i=r.beforeOrigin,o=r.rotation;return[e.createElement("div",{className:Bn("control","origin"),style:ir(o,n,i),key:"beforeOrigin"})]}});function Do(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Ro={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,scrollThrottleTime:Number,getScrollPosition:Function,scrollOptions:Object},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=void 0===r?t.getContainer():r,o=n.scrollOptions,a=new ge,s=Fr(i,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var u=e.isControl?"controlGesto":"targetGesto",c=e.targets;a.on("scroll",(function(n){var r=n.container,i=n.direction,o=br(t,e,{scrollContainer:r,direction:i}),a=c?"onScrollGroup":"onScroll";c&&(o.targets=c),yr(t,a,o)})).on("move",(function(e){var n=e.offsetX,r=e.offsetY,i=e.inputEvent;t[u].scrollBy(n,r,i.inputEvent,!0)})).on("scrollDrag",(function(e){(0,e.next)(t[u].getCurrentEvent())})),a.dragStart(e,Ne({container:s},o))},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,o=void 0===i?t.getContainer():i,a=r.scrollThreshold,s=void 0===a?0:a,u=r.scrollThrottleTime,c=void 0===u?0:u,l=r.getScrollPosition,f=void 0===l?Do:l,d=r.scrollOptions;return n.drag(e,Ne({container:o,threshold:s,throttleTime:c,getScrollPosition:function(t){return f({scrollContainer:t.container,direction:t.direction})}},d)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,Ne(Ne({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,Ne(Ne({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,Ne(Ne({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,Ne(Ne({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,Ne(Ne({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,Ne(Ne({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,Ne(Ne({},e),{targets:t.props.targets}))},unset:function(t){var e,n=t.state;null===(e=n.dragScroll)||void 0===e||e.dragEnd(),n.dragScroll=null}},Oo={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Object,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function,stopPropagation:Boolean,preventClickEventOnDrag:Boolean,preventClickDefault:Boolean,viewContainer:Object,persistData:Object,useAccuratePosition:Boolean,firstRenderState:Object,linePadding:Boolean},events:{onChangeTargets:"changeTargets"}},Po=Ze("padding",{render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=n.padding||{},i=r.left,o=void 0===i?0:i,a=r.top,s=void 0===a?0:a,u=r.right,c=void 0===u?0:u,l=r.bottom,f=void 0===l?0:l,d=t.getState(),p=d.renderPoses,v=[d.pos1,d.pos2,d.pos3,d.pos4],h=[];return o>0&&h.push([0,2]),s>0&&h.push([0,1]),c>0&&h.push([1,3]),f>0&&h.push([2,3]),h.map((function(t,n){var r=t[0],i=t[1],o=Gt([0,0],[100,0],[0,100],[100,100],v[r],v[i],p[r],p[i]);if(o.length)return e.createElement("div",{key:"padding".concat(n),className:Bn("padding"),style:{transform:qn(o,!0)}})}))}}),To=["nw","ne","se","sw"];function _o(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var ko=[1,2,5,6],zo=[0,3,4,7],Go=[1,-1,-1,1],Bo=[1,1,-1,-1];function Fo(t,e,n,r,i,o,a,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=n),void 0===s&&(s=r);var u=[],c=!1,l=t.filter((function(t){return!t.virtual})),f=l.map((function(t){var l=t.horizontal,f=t.vertical,d=t.pos;if(f&&!c&&(c=!0,u.push("/")),c){var p=Math.max(0,1===f?d[1]-o:s-d[1]);return u.push(_r(p,r,e)),p}p=Math.max(0,1===l?d[0]-i:a-d[0]);return u.push(_r(p,n,e)),p}));return{radiusPoses:l,styles:u,raws:f}}function Io(t){for(var e=[0,0],n=[0,0],r=t.length,i=0;i<r;++i){var o=t[i];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,n[0]=i+1),o.vertical&&(0===n[1]&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function Ao(t,e,n,r,i,o,a){var s,u,c,l;void 0===o&&(o=[0,0]),void 0===a&&(a=!1);var f=t.indexOf("/"),d=(f>-1?t.slice(0,f):t).length,p=t.slice(0,d),v=t.slice(d+1),h=p.length,g=v.length,m=g>0,b=p[0],x=void 0===b?"0px":b,E=p[1],y=void 0===E?x:E,S=p[2],w=void 0===S?x:S,C=p[3],M=void 0===C?y:C,D=v[0],R=void 0===D?x:D,O=v[1],P=void 0===O?m?R:y:O,T=v[2],_=void 0===T?m?R:w:T,k=v[3],z=void 0===k?m?P:M:k,G=[x,y,w,M].map((function(t){return U(t,e)})),B=[R,P,_,z].map((function(t){return U(t,n)})),F=G.slice(),I=B.slice();s=_o([F[0],F[1]],e),F[0]=s[0],F[1]=s[1],u=_o([F[3],F[2]],e),F[3]=u[0],F[2]=u[1],c=_o([I[0],I[3]],n),I[0]=c[0],I[3]=c[1],l=_o([I[1],I[2]],n),I[1]=l[0],I[2]=l[1];var A=a?F:F.slice(0,Math.max(o[0],h)),N=a?I:I.slice(0,Math.max(o[1],g));return je(je([],A.map((function(t,e){var o=To[e];return{virtual:e>=h,horizontal:Go[e],vertical:0,pos:[r+t,i+(-1===Bo[e]?n:0)],sub:!0,raw:G[e],direction:o}})),!0),N.map((function(t,n){var o=To[n];return{virtual:n>=g,horizontal:0,vertical:Bo[n],pos:[r+(-1===Go[n]?e:0),i+t],sub:!0,raw:B[n],direction:o}})),!0)}var No=[[0,-1,"n"],[1,0,"e"]],jo=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Zo(t,e,n){var r=t.props.clipRelative,i=t.state,o=i.width,a=i.height,s=e,u=s.type,c=s.poses,l="rect"===u,f="circle"===u;if("polygon"===u)return n.map((function(t){return"".concat(_r(t[0],o,r)," ").concat(_r(t[1],a,r))}));if(l||"inset"===u){var d=n[1][1],p=n[3][0],v=n[7][0],h=n[5][1];if(l)return[d,p,h,v].map((function(t){return"".concat(t,"px")}));var g=[d,o-p,a-h,v].map((function(t,e){return _r(t,e%2?o:a,r)}));if(n.length>8){var m=Et(n[4],n[0]),b=m[0],x=m[1];g.push.apply(g,je(["round"],Fo(c.slice(8).map((function(t,e){return Ne(Ne({},t),{pos:n[e]})})),r,b,x,v,d,p,h).styles,!1))}return g}if(f||"ellipse"===u){var E=n[0],y=_r(Math.abs(n[1][1]-E[1]),f?Math.sqrt((o*o+a*a)/2):a,r);return(g=f?[y]:[_r(Math.abs(n[2][0]-E[0]),o,r),y]).push("at",_r(E[0],o,r),_r(E[1],a,r)),g}}function Yo(t,e,n,r){var i=[r,(r+e)/2,e],o=[t,(t+n)/2,n];return jo.map((function(t){var e=t[0],n=t[1],r=t[2],a=i[e+1],s=o[n+1];return{vertical:Math.abs(n),horizontal:Math.abs(e),direction:r,pos:[a,s]}}))}function Lo(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach((function(t){var r=t.pos;e[0]=Math.min(e[0],r[0]),e[1]=Math.max(e[1],r[0]),n[0]=Math.min(n[0],r[1]),n[1]=Math.max(n[1],r[1])})),[Math.abs(e[1]-e[0]),Math.abs(n[1]-n[0])]}function Xo(t,e,n,r,i){var o,a,s,u,c,l,f;if(t){var d=i;if(!d){var p=getComputedStyle(t),v=p.clipPath;d="none"!==v?v:p.clip}if(d&&"none"!==d&&"auto"!==d||(d=r)){var h=Z(d),g=h.prefix,m=void 0===g?d:g,b=h.value,x=void 0===b?"":b,E="circle"===m,y=" ";if("polygon"===m){y=",";var S=(O=j(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var r=t.split(" "),i=r[0],o=r[1];return{vertical:1,horizontal:1,pos:[U(i,e),U(o,n)]}})),w=Jt(S.map((function(t){return t.pos})));return{type:m,clipText:d,poses:S,splitter:y,left:w.minX,right:w.maxX,top:w.minY,bottom:w.maxY}}if(E||"ellipse"===m){var C="",M="",D=0,R=0,O=N(x);if(E){var P;P=void 0===(o=O[0])?"50%":o,C=void 0===(a=O[2])?"50%":a,M=void 0===(s=O[3])?"50%":s,D=U(P,Math.sqrt((e*e+n*n)/2)),R=D}else{var T,_;T=void 0===(u=O[0])?"50%":u,_=void 0===(c=O[1])?"50%":c,C=void 0===(l=O[3])?"50%":l,M=void 0===(f=O[4])?"50%":f,D=U(T,e),R=U(_,n)}var k=[U(C,e),U(M,n)];S=je([{vertical:1,horizontal:1,pos:k,direction:"nesw"}],No.slice(0,E?1:2).map((function(t){return{vertical:Math.abs(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[k[0]+t[0]*D,k[1]+t[1]*R]}})),!0);return{type:m,clipText:d,radiusX:D,radiusY:R,left:k[0]-D,top:k[1]-R,right:k[0]+D,bottom:k[1]+R,poses:S,splitter:y}}if("inset"===m){var z=(O=N(x||"0 0 0 0")).indexOf("round"),G=(z>-1?O.slice(0,z):O).length,B=O.slice(G+1),F=O.slice(0,G),I=F[0],A=F[1],L=void 0===A?I:A,X=F[2],W=void 0===X?I:X,H=F[3],q=void 0===H?L:H,V=[I,W].map((function(t){return U(t,n)})),K=V[0],Q=V[1],$=[q,L].map((function(t){return U(t,e)})),J=$[0],tt=$[1],et=e-tt,nt=n-Q,rt=Ao(B,et-J,nt-K,J,K);return{type:"inset",clipText:d,poses:S=je(je([],Yo(K,et,nt,J),!0),rt,!0),top:K,left:J,right:et,bottom:nt,radius:B,splitter:y}}if("rect"===m){y=",";var it=(O=j(x||"0px, ".concat(e,"px, ").concat(n,"px, 0px"))).map((function(t){return Y(t).value}));return{type:"rect",clipText:d,poses:S=Yo(K=it[0],tt=it[1],Q=it[2],J=it[3]),top:K,right:tt,bottom:Q,left:J,values:O,splitter:y}}}}}function Wo(t,e){var n=ln(t,e),r=n[0],i=n[1],o=e.datas,a=o.clipPath,s=o.clipIndex,u=a,c=u.type,l=u.poses,f=u.splitter,d=l.map((function(t){return t.pos}));if("polygon"===c)d.splice(s,0,[r,i]);else{if("inset"!==c)return;var p=ko.indexOf(s),v=zo.indexOf(s),h=l.length;if(function(t,e,n,r,i,o,a,s,u,c,l){void 0===c&&(c=0),void 0===l&&(l=0);var f=Io(t.slice(n)),d=f.horizontalRange,p=f.verticalRange;if(r>-1)for(var v=1===Go[r]?o-c:s-o,h=d[1];h<=r;++h){var g=1===Bo[h]?l:u,m=0;if(r===h?m=o:0===h?m=c+v:-1===Go[h]&&(m=s-(e[n][0]-c)),t.splice(n+h,0,{horizontal:Go[h],vertical:0,pos:[m,g]}),e.splice(n+h,0,[m,g]),0===h)break}else if(i>-1){var b=1===Bo[i]?a-l:u-a;if(0===d[1]&&0===p[1]){var x=[c+b,l];t.push({horizontal:Go[0],vertical:0,pos:x}),e.push(x)}var E=p[0];for(h=p[1];h<=i&&(m=1===Go[h]?c:s,g=0,i===h?g=a:0===h?g=l+b:1===Bo[h]?g=e[n+E][1]:-1===Bo[h]&&(g=u-(e[n+E][1]-l)),t.push({horizontal:0,vertical:Bo[h],pos:[m,g]}),e.push([m,g]),0!==h);++h);}}(l,d,8,p,v,r,i,d[4][0],d[4][1],d[0][0],d[0][1]),h===l.length)return}var g=Zo(t,a,d),m="".concat(c,"(").concat(g.join(f),")");yr(t,"onClip",br(t,e,Ne({clipEventType:"added",clipType:c,poses:d,clipStyles:g,clipStyle:m,distX:0,distY:0},gr({clipPath:m},e))))}function Ho(t,e){var n=e.datas,r=n.clipPath,i=n.clipIndex,o=r,a=o.type,s=o.poses,u=o.splitter,c=s.map((function(t){return t.pos})),l=c.length;if("polygon"===a)s.splice(i,1),c.splice(i,1);else{if("inset"!==a)return;if(i<8)return;if(function(t,e,n,r,i){void 0===i&&(i=e.length);var o=Io(t.slice(r)),a=o.horizontalRange,s=o.verticalRange,u=n-r,c=0;if(0===u)c=i;else if(u>0&&u<a[1])c=a[1]-u;else{if(!(u>=s[0]))return;c=s[0]+s[1]-u}t.splice(n,c),e.splice(n,c)}(s,c,i,8,l),l===s.length)return}var f=Zo(t,r,c),d="".concat(a,"(").concat(f.join(u),")");yr(t,"onClip",br(t,e,Ne({clipEventType:"removed",clipType:a,poses:c,clipStyles:f,clipStyle:d,distX:0,distY:0},gr({clipPath:d},e))))}var qo={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,r=n.customClipPath,i=n.defaultClipPath,o=n.clipArea,a=n.zoom,s=n.groupable,u=t.getState(),c=u.target,l=u.width,f=u.height,d=u.allMatrix,p=u.is3d,v=u.left,h=u.top,g=u.pos1,m=u.pos2,b=u.pos3,x=u.pos4,E=u.clipPathState,y=u.snapBoundInfos,S=u.rotation;if(!c||s)return[];var w=Xo(c,l,f,i||"inset",E||r);if(!w)return[];var C=p?4:3,M=w.type,D=w.poses.map((function(t){var e=Kn(d,t.pos,C);return[e[0]-v,e[1]-h]})),R=[],O=[],P="rect"===M,T="inset"===M,_="polygon"===M;if(P||T||_){var k=T?D.slice(0,8):D;O=k.map((function(t,n){var r=0===n?k[k.length-1]:k[n-1],i=J(r,t),o=nr(r,t);return e.createElement("div",{key:"clipLine".concat(n),className:Bn("line","clip-line","snap-control"),"data-clip-index":n,style:{width:"".concat(o,"px"),transform:"translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(i,"rad) scaleY(").concat(a,")")}})}))}if(R=D.map((function(t,n){return e.createElement("div",{key:"clipControl".concat(n),className:Bn("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})})),T&&R.push.apply(R,D.slice(8).map((function(t,n){return e.createElement("div",{key:"clipRadiusControl".concat(n),className:Bn("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})}))),"circle"===M||"ellipse"===M){var z=w.left,G=w.top,B=w.radiusX,F=w.radiusY,I=Et(Kn(d,[z,G],C),Kn(d,[0,0],C)),A=I[0],N=I[1],j="none";if(!o){for(var Z=Math.max(10,B/5,F/5),Y=[],L=0;L<=Z;++L){var X=2*Math.PI/Z*L;Y.push([B+(B-a)*Math.cos(X),F+(F-a)*Math.sin(X)])}Y.push([B,-2]),Y.push([-2,-2]),Y.push([-2,2*F+2]),Y.push([2*B+2,2*F+2]),Y.push([2*B+2,-2]),Y.push([B,-2]),j="polygon(".concat(Y.map((function(t){return"".concat(t[0],"px ").concat(t[1],"px")})).join(", "),")")}R.push(e.createElement("div",{key:"clipEllipse",className:Bn("clip-ellipse","snap-control"),style:{width:"".concat(2*B,"px"),height:"".concat(2*F,"px"),clipPath:j,transform:"translate(".concat(-v+A,"px, ").concat(-h+N,"px) ").concat(qn(d))}}))}if(o){var W=$n(je([g,m,b,x],D,!0)),H=W.width,q=W.height,V=W.left,U=W.top;if(_||P||T){Y=T?D.slice(0,8):D;R.push(e.createElement("div",{key:"clipArea",className:Bn("clip-area","snap-control"),style:{width:"".concat(H,"px"),height:"".concat(q,"px"),transform:"translate(".concat(V,"px, ").concat(U,"px)"),clipPath:"polygon(".concat(Y.map((function(t){return"".concat(t[0]-V,"px ").concat(t[1]-U,"px")})).join(", "),")")}}))}}return y&&["vertical","horizontal"].forEach((function(t){var n=y[t],r="horizontal"===t;n.isSnap&&O.push.apply(O,n.snap.posInfos.map((function(n,i){var o=n.pos,s=Et(Kn(d,r?[0,o]:[o,0],C),[v,h]),u=Et(Kn(d,r?[l,o]:[o,f],C),[v,h]);return Ki(e,"",s,u,a,"clip".concat(t,"snap").concat(i),"guideline")}))),n.isBound&&O.push.apply(O,n.bounds.map((function(n,i){var o=n.pos,s=Et(Kn(d,r?[0,o]:[o,0],C),[v,h]),u=Et(Kn(d,r?[l,o]:[o,f],C),[v,h]);return Ki(e,"",s,u,a,"clip".concat(t,"bounds").concat(i),"guideline","bounds","bold")})))})),je(je([],R,!0),O,!0)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,Ne(Ne({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,i=r.defaultClipPath,o=r.customClipPath,a=n.target,s=n.width,u=n.height,c=e.inputEvent?e.inputEvent.target:null,l=c&&c.getAttribute("class")||"",f=e.datas,d=Xo(a,s,u,i||"inset",o);if(!d)return!1;var p=d.clipText;return!1===yr(t,"onClipStart",br(t,e,{clipType:d.type,clipStyle:p,poses:d.poses.map((function(t){return t.pos}))}))?(f.isClipStart=!1,!1):(f.isControl=l&&l.indexOf("clip-control")>-1,f.isLine=l.indexOf("clip-line")>-1,f.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,f.clipIndex=c?parseInt(c.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,n.clipPathState=p,fn(t,e),!0)},dragControl:function(t,e){var n,r,i=e.datas,o=e.originalDatas,a=e.isDragTarget;if(!i.isClipStart)return!1;var s=i,u=s.isControl,c=s.isLine,l=s.isArea,f=s.clipIndex,d=s.clipPath;if(!d)return!1;var p=or(t.props,"clippable"),v=p.keepRatio,h=0,g=0,m=o.draggable,b=mn(e);a&&m?(n=m.prevBeforeDist,h=n[0],g=n[1]):(h=b[0],g=b[1]);var x=[h,g],E=t.state,y=E.width,S=E.height,w=!l&&!u&&!c,C=d.type,M=d.poses,D=d.splitter,R=M.map((function(t){return t.pos}));w&&(h=-h,g=-g);var O=!u||"nesw"===M[f].direction,P="inset"===C||"rect"===C,T=M.map((function(){return[0,0]}));if(u&&!O){var _=M[f],k=_.horizontal,z=_.vertical,G=[h*Math.abs(k),g*Math.abs(z)];T=function(t,e,n,r,i){var o=t[e],a=o.direction,s=o.sub,u=t.map((function(){return[0,0]})),c=a?a.split(""):[];if(r&&e<8){var l=c.filter((function(t){return"w"===t||"e"===t})),f=c.filter((function(t){return"n"===t||"s"===t})),d=l[0],p=f[0];u[e]=n;var v=Lo(t),h=v[0],g=v[1],m=h&&g?h/g:0;if(m&&i){var b=t[(e+4)%8].pos,x=[0,0];a.indexOf("w")>-1?x[0]=-1:a.indexOf("e")>-1&&(x[0]=1),a.indexOf("n")>-1?x[1]=-1:a.indexOf("s")>-1&&(x[1]=1);var E=Nr([h,g],n,m,x,!0),y=h+E[0],S=g+E[1],w=b[1],C=b[1],M=b[0],D=b[0];-1===x[0]?M=D-y:1===x[0]?D=M+y:(M-=y/2,D+=y/2),-1===x[1]?w=C-S:C=1===x[1]?w+S:(w=C-S/2)+S;var R=Yo(w,D,C,M);t.forEach((function(t,e){u[e][0]=R[e].pos[0]-t.pos[0],u[e][1]=R[e].pos[1]-t.pos[1]}))}else t.forEach((function(t,e){var r=t.direction;r&&(r.indexOf(d)>-1&&(u[e][0]=n[0]),r.indexOf(p)>-1&&(u[e][1]=n[1]))})),d&&(u[1][0]=n[0]/2,u[5][0]=n[0]/2),p&&(u[3][1]=n[1]/2,u[7][1]=n[1]/2)}else a&&!s?c.forEach((function(e){var r="n"===e||"s"===e;t.forEach((function(t,i){var o=t.direction,a=t.horizontal,s=t.vertical;o&&-1!==o.indexOf(e)&&(u[i]=[r||!a?0:n[0],r&&s?n[1]:0])}))})):u[e]=n;return u}(M,f,G,P,v)}else O&&(T=R.map((function(){return[h,g]})));var B=R.map((function(t,e){return xt(t,T[e])})),F=je([],B,!0);E.snapBoundInfos=null;var I="circle"===d.type,A="ellipse"===d.type;if(I||A){var N=$n(B),j=Math.abs(N.bottom-N.top),Z=Math.abs(A?N.right-N.left:j),Y=B[0][1]+j,L=B[0][0]-Z,X=B[0][0]+Z;I&&(F.push([X,N.bottom]),T.push([1,0])),F.push([N.left,Y]),T.push([0,1]),F.push([L,N.bottom]),T.push([1,0])}var W=Ai((p.clipHorizontalGuidelines||[]).map((function(t){return U("".concat(t),S)})),(p.clipVerticalGuidelines||[]).map((function(t){return U("".concat(t),y)})),y,S),H=[],q=[];if(I||A)H=[F[4][0],F[2][0]],q=[F[1][1],F[3][1]];else if(P){var V=[F[0],F[2],F[4],F[6]],K=[T[0],T[2],T[4],T[6]];H=V.filter((function(t,e){return K[e][0]})).map((function(t){return t[0]})),q=V.filter((function(t,e){return K[e][1]})).map((function(t){return t[1]}))}else H=F.filter((function(t,e){return T[e][0]})).map((function(t){return t[0]})),q=F.filter((function(t,e){return T[e][1]})).map((function(t){return t[1]}));var Q=[0,0],$=zi(W,p.clipTargetBounds&&{left:0,top:0,right:y,bottom:S},H,q,5),J=$.horizontal,tt=$.vertical,et=J.offset,nt=tt.offset;if(J.isBound&&(Q[1]+=et),tt.isBound&&(Q[0]+=nt),(A||I)&&0===T[0][0]&&0===T[0][1]){var rt=(N=$n(B)).bottom-N.top,it=A?N.right-N.left:rt;it-=tt.isBound?Math.abs(nt):0===tt.snapIndex?-nt:nt,rt-=J.isBound?Math.abs(et):0===J.snapIndex?-et:et,I&&(it=rt=si(tt,J)>0?rt:it);var ot=F[0];F[1][1]=ot[1]-rt,F[2][0]=ot[0]+it,F[3][1]=ot[1]+rt,F[4][0]=ot[0]-it}else if(P&&v&&u){var at=Lo(M),st=at[0],ut=at[1],ct=st&&ut?st/ut:0,lt=M[f].direction||"",ft=F[1][1];Y=F[5][1],L=F[7][0],X=F[3][0];et<=nt?et=nt/ct:nt=et*ct,lt.indexOf("w")>-1?L-=nt:lt.indexOf("e")>-1?X-=nt:(L+=nt/2,X-=nt/2),lt.indexOf("n")>-1?ft-=et:lt.indexOf("s")>-1?Y-=et:(ft+=et/2,Y-=et/2);var dt=Yo(ft,X,Y,L);F.forEach((function(t,e){var n;n=dt[e].pos,t[0]=n[0],t[1]=n[1]}))}else F.forEach((function(t,e){var n=T[e];n[0]&&(t[0]-=nt),n[1]&&(t[1]-=et)}));var pt=Zo(t,d,B),vt="".concat(C,"(").concat(pt.join(D),")");if(E.clipPathState=vt,I||A)H=[F[4][0],F[2][0]],q=[F[1][1],F[3][1]];else if(P){H=(V=[F[0],F[2],F[4],F[6]]).map((function(t){return t[0]})),q=V.map((function(t){return t[1]}))}else H=F.map((function(t){return t[0]})),q=F.map((function(t){return t[1]}));if(E.snapBoundInfos=zi(W,p.clipTargetBounds&&{left:0,top:0,right:y,bottom:S},H,q,1),m){var ht=E.is3d,gt=E.allMatrix,mt=ht?4:3,Et=Q;a&&(Et=[x[0]+Q[0]-b[0],x[1]+Q[1]-b[1]]),m.deltaOffset=bt(gt,[Et[0],Et[1],0,0],mt)}return yr(t,"onClip",br(t,e,Ne({clipEventType:"changed",clipType:C,poses:B,clipStyle:vt,clipStyles:pt,distX:h,distY:g},gr(((r={})["rect"===C?"clip":"clipPath"]=vt,r),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,i=e.isDouble,o=r.isLine,a=r.isClipStart,s=r.isControl;return!!a&&(yr(t,"onClipEnd",xr(t,e,{})),i&&(s?Ho(t,e):o&&Wo(t,e)),i||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},Vo={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(t,e){return e.isRequest?"originDraggable"===e.requestAble:it(e.inputEvent.target,Bn("origin"))},dragControlStart:function(t,e){var n=e.datas;fn(t,e);var r=br(t,e,{dragStart:to.dragStart(t,(new cn).dragStart([0,0],e))}),i=yr(t,"onDragOriginStart",r);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===i?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,i=e.isRequest;if(!n.isDragOrigin)return!1;var o=mn(e),a=o[0],s=o[1],u=t.state,c=u.width,l=u.height,f=u.offsetMatrix,d=u.targetMatrix,p=u.is3d,v=t.props.originRelative,h=void 0===v||v,g=p?4:3,m=[a,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var x=xt(n.startOrigin,m),E=xt(n.startTargetOrigin,m),y=Et(m,n.prevOrigin),S=En(f,d,x,g),w=t.getRect(),C=$n(Qn(S,c,l,g)),M=[w.left-C.left,w.top-C.top];n.prevOrigin=m;var D=[_r(E[0],c,h),_r(E[1],l,h)].join(" "),R=to.drag(t,un(e,t.state,M,!!r,!1)),O=br(t,e,Ne(Ne({width:c,height:l,origin:x,dist:m,delta:y,transformOrigin:D,drag:R},gr({transformOrigin:D,transform:R.transform},e)),{afterTransform:R.transform}));return yr(t,"onDragOrigin",O),O},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(yr(t,"onDragOriginEnd",xr(t,e,{})),!0)},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:r,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Uo(t,e,n,r,i){void 0===r&&(r=[0,0]);return Ao(t&&"0px"!==t?N(t):[],e,n,0,0,r,i)}function Ko(t,e,n,r,i){var o=t.state,a=o.width,s=o.height,u=Fo(i,t.props.roundRelative,a,s),c=u.raws,l=u.styles,f=function(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,n){return t.horizontal?e[n]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,n){return t.vertical?e[n]:null})).filter((function(t){return null!=t}))}}(u.radiusPoses,c),d=f.horizontals,p=f.verticals,v=l.join(" ");o.borderRadiusState=v;var h=br(t,e,Ne({horizontals:d,verticals:p,borderRadius:v,width:a,height:s,delta:r,dist:n},gr({borderRadius:v},e)));return yr(t,"onRound",h),h}function Qo(t){var e=t.getState().style,n=e.borderRadius||"";if(!n&&t.props.groupable){var r=t.getTargets()[0];r&&(n=getComputedStyle(r).borderRadius,e.borderRadius=n)}return n}var $o={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean,roundPadding:Number,isDisplayShadowRoundControls:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd",onRoundGroupStart:"roundGroupStart",onRoundGroup:"roundGroup",onRoundGroupEnd:"roundGroupEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n    z-index: 3;\n}",".control.border-radius.vertical {\n    background: #d6d;\n    z-index: 2;\n}",".control.border-radius.virtual {\n    opacity: 0.5;\n    z-index: 1;\n}",":host.round-line-clickable .line.direction {\n    cursor: pointer;\n}"],className:function(t){var e=t.props.roundClickable;return!0===e||"line"===e?Bn("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},render:function(t,e){var n=t.getState(),r=n.target,i=n.width,o=n.height,a=n.allMatrix,s=n.is3d,u=n.left,c=n.top,l=n.borderRadiusState,f=t.props,d=f.minRoundControls,p=void 0===d?[0,0]:d,v=f.maxRoundControls,h=void 0===v?[4,4]:v,g=f.zoom,m=f.roundPadding,b=void 0===m?0:m,x=f.isDisplayShadowRoundControls,E=f.groupable;if(!r)return null;var y=l||Qo(t),S=s?4:3,w=Uo(y,i,o,p,!0);if(!w)return null;var C=0,M=0,D=E?[0,0]:[u,c];return w.map((function(t,n){var r=t.horizontal,i=t.vertical,o=t.direction||"",s=je([],t.pos,!0);M+=Math.abs(r),C+=Math.abs(i),r&&o.indexOf("n")>-1&&(s[1]-=b),i&&o.indexOf("w")>-1&&(s[0]-=b),r&&o.indexOf("s")>-1&&(s[1]+=b),i&&o.indexOf("e")>-1&&(s[0]+=b);var u=Et(Kn(a,s,S),D),c=t.vertical?C<=h[1]&&(x||!t.virtual):M<=h[0]&&(x||!t.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(n),className:Bn("control","border-radius",t.vertical?"vertical":"",t.virtual?"virtual":""),"data-radius-index":n,style:{display:c?"block":"none",transform:"translate(".concat(u[0],"px, ").concat(u[1],"px) scale(").concat(g,")")}})}))},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,i=n.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,u=a?parseInt(i.getAttribute("data-radius-index"),10):-1,c=-1;if(s){var l=i.getAttribute("data-line-key")||"";l&&(c=parseInt(l.replace(/render-line-/g,""),10),isNaN(c)&&(c=-1))}if(!a&&!s)return!1;var f=br(t,e,{});if(!1===yr(t,"onRoundStart",f))return!1;r.lineIndex=c,r.controlIndex=u,r.isControl=a,r.isLine=s,fn(t,e);var d=t.props,p=d.roundRelative,v=d.minRoundControls,h=void 0===v?[0,0]:v,g=t.state,m=g.width,b=g.height;r.isRound=!0,r.prevDist=[0,0];var x=Uo(Qo(t)||"",m,b,h,!0)||[];return r.controlPoses=x,g.borderRadiusState=Fo(x,p,m,b).styles.join(" "),f},dragControl:function(t,e){var n=e.datas,r=n.controlPoses;if(!n.isRound||!n.isControl||!r.length)return!1;var i=n.controlIndex,o=mn(e),a=o[0],s=o[1],u=[a,s],c=Et(u,n.prevDist),l=t.props.maxRoundControls,f=void 0===l?[4,4]:l,d=t.state,p=d.width,v=d.height,h=r[i],g=h.vertical,m=h.horizontal,b=r.map((function(t){var e=t.horizontal,n=t.vertical,r=[e*m*u[0],n*g*u[1]];if(e){if(1===f[0])return r;if(f[0]<4&&e!==m)return r}else{if(0===f[1])return r[1]=n*m*u[0]/p*v,r;if(g){if(1===f[1])return r;if(f[1]<4&&n!==g)return r}}return[0,0]}));b[i]=u;var x=r.map((function(t,e){return Ne(Ne({},t),{pos:xt(t.pos,b[e])})}));return i<4?x.slice(0,i+1).forEach((function(t){t.virtual=!1})):x.slice(4,i+1).forEach((function(t){t.virtual=!1})),n.prevDist=[a,s],Ko(t,e,u,c,x)},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,i=e.isDouble;if(!r.isRound)return!1;var o=r.isControl,a=r.controlIndex,s=r.isLine,u=r.lineIndex,c=r.controlPoses,l=c.filter((function(t){return t.virtual})).length,f=t.props.roundClickable,d=void 0===f||f;if(i&&d){if(!o||!0!==d&&"control"!==d){if(s&&(!0===d||"line"===d)){var p=ln(t,e);!function(t,e,n,r){var i=t.filter((function(t){var e=t.virtual;return t.horizontal&&!e})).length,o=t.filter((function(t){var e=t.virtual;return t.vertical&&!e})).length,a=-1;if(0===e&&(0===i?a=0:1===i&&(a=1)),2===e&&(i<=2?a=2:i<=3&&(a=3)),3===e&&(0===o?a=4:o<4&&(a=7)),1===e&&(o<=1?a=5:o<=2&&(a=6)),-1!==a&&t[a].virtual){var s=t[a];!function(t,e){e<4?t.slice(0,e+1).forEach((function(t){t.virtual=!1})):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach((function(t){t.virtual=!1})))}(t,a),a<4?s.pos[0]=n:s.pos[1]=r}}(c,u,p[0],p[1])}}else!function(t,e){e<4?t.slice(e,4).forEach((function(t){t.virtual=!0})):t.slice(e).forEach((function(t){t.virtual=!0}))}(c,a);l!==c.filter((function(t){return t.virtual})).length&&Ko(t,e,[0,0],[0,0],c)}var v=xr(t,e,{});return yr(t,"onRoundEnd",v),n.borderRadiusState="",v},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=Wr(t,"roundable",e);return yr(t,"onRoundGroupStart",Ne({targets:t.props.targets,events:o.map((function(t,e){return Ne(Ne({},t),{target:i[e],moveable:r[e],currentTarget:r[e]})}))},n)),n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=Wr(t,"roundable",e),a=Ne({targets:t.props.targets,events:o.map((function(t,e){return Ne(Ne(Ne({},t),{target:i[e],moveable:r[e],currentTarget:r[e]}),gr({borderRadius:n.borderRadius},t))}))},n);return yr(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var n=t.moveables,r=t.props.targets,i=Wr(t,"roundable",e);Er(t,"onRound",(function(e){var o=Ne({targets:t.props.targets,events:i.map((function(t,i){return Ne(Ne(Ne({},t),{target:r[i],moveable:n[i],currentTarget:n[i]}),gr({borderRadius:e.borderRadius},t))}))},e);yr(t,"onRoundGroup",o)}));var o=this.dragControlEnd(t,e);if(!o)return!1;var a=Ne({targets:t.props.targets,events:i.map((function(t,e){var i;return Ne(Ne({},t),{target:r[e],moveable:n[e],currentTarget:n[e],lastEvent:null===(i=t.datas)||void 0===i?void 0:i.lastEvent})}))},o);return yr(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}};var Jo={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(t,e){var n=t.state,r=n.is3d,i=n.target,o=n.targetMatrix,a=null===i||void 0===i?void 0:i.style.transform,s=r?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(yt(o,!0),")"),u=a&&"none"!==a?a:s;e.datas.startTransforms=function(t,e){var n=_t(e?4:3);return t==="matrix".concat(e?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===t}(u,r)?[]:N(u)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return br(t,e,{setTransform:function(t){e.datas.startTransforms=k(t)?t:N(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return br(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),yr(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetStyle(e),yr(t,"onBeforeRender",br(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){yr(t,"onBeforeRenderEnd",br(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.setTransform(r,t),n.resetStyle(t),n.fillDragStartParams(r,t)}));yr(t,"onBeforeRenderGroupStart",br(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.resetStyle(t),n.fillDragParams(r,t)}));yr(t,"onBeforeRenderGroup",br(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),yr(t,"onBeforeRenderGroupEnd",br(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},ta={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(t,e){yr(t,"onRenderStart",br(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){yr(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){if(e.resultCount)return this.drag(t,e)},dragEnd:function(t,e){yr(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){yr(t,"onRenderGroupStart",br(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.fillDragParams(r,t)}));yr(t,"onRenderGroup",br(t,e,Ne(Ne({isPinch:!!e.isPinch,targets:t.props.targets,transform:Rn(e)},gr(On(e))),{events:o})))},dragGroupEnd:function(t,e){var n=this,r=Wr(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.fillDragEndParams(r,t)}));yr(t,"onRenderGroupEnd",br(t,e,Ne({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transform:Rn(e)},gr(On(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){return br(t,e,Ne({isPinch:!!e.isPinch,transform:Rn(e)},gr(On(e))))},fillDragEndParams:function(t,e){return br(t,e,Ne({isPinch:!!e.isPinch,isDrag:e.isDrag,transform:Rn(e)},gr(On(e))))}};function ea(t,e,n,r,i,o,a){var s="Start"===i,u=t.state.target,c=o.isRequest;if(!u||s&&r.indexOf("Control")>-1&&!c&&t.areaElement===o.inputEvent.target)return!1;var l="".concat(n).concat(r).concat(i),f="".concat(n).concat(r,"Condition"),d="End"===i,p="After"===i,v=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());v&&t.updateRect(i,!0,!1),o.clientDistX=o.distX,o.clientDistY=o.distY,""!==i||c||Pr(t.state,o);var h=je([],t[e],!0);if(c){var g=o.requestAble;h.some((function(t){return t.name===g}))||h.push.apply(h,t.props.ables.filter((function(t){return t.name===g})))}if(!h.length||h.every((function(t){return t.dragRelation})))return!1;var m=je(je([Jo],h,!0),[ta],!1).filter((function(t){return t[l]})),b=o.datas;v&&m.forEach((function(e){e.unset&&e.unset(t)}));var x,E=o.inputEvent;d&&E&&(x=document.elementFromPoint(o.clientX,o.clientY)||E.target);var y=0,S=!1,w=function(){var t;S=!0,null===(t=o.stop)||void 0===t||t.call(o)},C=m.filter((function(e){var n=e.name,r=b[n]||(b[n]={});if(s&&(r.isEventStart=!e[f]||e[f](t,o)),r.isEventStart){var i=e[l](t,Ne(Ne({},o),{stop:w,resultCount:y,datas:r,originalDatas:b,inputTarget:x}));return t._emitter.off(),s&&!1===i&&(r.isEventStart=!1),y+=i||r.isEventStart?1:0,i}return!1})).length,M=!1;if(S&&(M=!0),!M&&s&&m.length&&!C&&(M=m.filter((function(t){var e=t.name;return!!b[e].isEventStart&&"strong"!==t.dragRelation})).length),(d||M)&&(t.state.gestos={},t.moveables&&t.moveables.forEach((function(t){t.state.gestos={}})),m.forEach((function(e){e.unset&&e.unset(t)}))),s&&!M&&!c&&C&&(null===o||void 0===o||o.preventDefault()),t.isUnmounted||M)return!1;(!s&&C&&!a||d)&&(t.props.flushSync||Fn)((function(){t.updateRect(d?i:"",!0,!1),t.forceUpdate()}));return s||d||p||!C||a||ea(t,e,n,r,i+"After",o),!0}function na(t){return function(e){var n=t.props.dragTarget,r=e.inputEvent.target,i=t.areaElement;return n&&(r===n||n.contains(r))||r===i||!t.isMoveableElement(r)&&!t.controlBox.getElement().contains(r)||it(r,"moveable-area")||it(r,"moveable-padding")||it(r,"moveable-edgeDraggable")}}function ra(t,e,n){var r=t.controlBox.getElement(),i=[],o=t.props.dragTarget;return i.push(r),t.props.dragArea&&!o||i.push(e),ia(t,i,"targetAbles",n,{dragStart:na(t),pinchStart:na(t)})}function ia(t,e,n,r,i){void 0===i&&(i={});var o="targetAbles"===n,a=t.props,s=a.pinchOutside,u=a.pinchThreshold,c=a.preventClickEventOnDrag,l=a.preventClickDefault,f=a.checkInput,d={preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:u,pinchOutside:s,preventClickEventOnDrag:!!o&&c,preventClickEventOnDragStart:!!o&&l,preventClickEventByCondition:o?null:function(e){return t.controlBox.getElement().contains(e.target)},checkInput:!!o&&f},p=new Oe(e,d),v="Control"===r;return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){p.on("".concat(e).concat(o),(function(a){var s,u=a.eventType;!i[u]||i[u](a)?ea(t,n,e,r,o,a)?(t.props.stopPropagation||"Start"===o&&v)&&(null===(s=null===a||void 0===a?void 0:a.inputEvent)||void 0===s||s.stopPropagation()):a.stop():a.stop()}))}))})),p}var oa=function(){function t(t,e,n){var r=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(t){var e=r.eventName,n=r.moveable;n.state.disableNativeEvent||r.ables.forEach((function(r){r[e](n,{inputEvent:t})}))},t.addEventListener(n.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function aa(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function sa(t,e,n){for(var r,i,o,a,s,u=t,c=[],l=document.documentElement||document.body,f=!n&&t===e||t===l,d=f,p=!1,v=3,h=!1,g=Yn(e,e,!0).offsetParent,m=1;u&&!d;){d=f;var b=getComputedStyle(u),x=b.position,E=Zn(u,b),y=(a=In(E),void 0===(s=void 0)&&(s=6===a.length),s?[a[0],a[1],0,a[2],a[3],0,a[4],a[5],1]:a),S="fixed"===x,w={hasTransform:!1,fixedContainer:null};S&&(h=!0,g=(w=Hn(u)).fixedContainer);var C=y.length;p||16!==C||(p=!0,v=4,Wn(c),o&&(o=gt(o,3,4))),p&&9===C&&(y=gt(y,3,4));var M=Ln(u,t,b),D=M.tagName,R=M.hasOffset,O=M.isSVG,P=M.origin,T=M.targetOrigin,_=M.offset,k=_[0],z=_[1];"svg"===D&&o&&(c.push({type:"target",target:u,matrix:Un(u,v)}),c.push({type:"offset",target:u,matrix:_t(v)}));var G=void 0,B=!1,F=!1,I=parseFloat(b.zoom)||1;if(S)G=w.fixedContainer,B=!0;else{var A=Yn(u,e,!1,!0,b),N=A.offsetZoom;if(G=A.offsetParent,B=A.isEnd,F=A.isStatic,m*=N,1!==N&&F)k-=G.offsetLeft,z-=G.offsetTop;else if(We){if(A.parentSlotElement){for(var j=G,Z=0,Y=0;j&&aa(j);)Z+=j.offsetLeft,Y+=j.offsetTop,j=j.offsetParent;k-=Z,z-=Y}}}!Le||He||!R||O||!F||"relative"!==x&&"static"!==x||(k-=G.offsetLeft,z-=G.offsetTop,f=f||B);var L=0,X=0,W=0,H=0;if(S)R&&w.hasTransform&&(W=G.clientLeft,H=G.clientTop);else if(R&&g!==G&&(L=G.clientLeft,X=G.clientTop),R&&G===l){var q=Xn(u,!1,b);k+=q[0],z+=q[1]}if(c.push({type:"target",target:u,matrix:An(y,v,P)}),R){var V=u===t,U=V?0:u.scrollLeft,K=V?0:u.scrollTop;c.push({type:"offset",target:u,matrix:zt([k-U+L-W,z-K+X-H],v)})}else c.push({type:"offset",target:u,origin:P});if(1!==I&&c.push({type:"zoom",target:u,matrix:An(kt([I,I],v),v,[0,0])}),o||(o=y),r||(r=P),i||(i=T),d||S)break;u=G,f=B,n&&u!==l||(d=f)}return o||(o=_t(v)),r||(r=[0,0]),i||(i=[0,0]),{zoom:m,offsetContainer:g,matrixes:c,targetMatrix:o,transformOrigin:r,targetOrigin:i,is3d:p,hasFixed:h}}function ua(t,e,n,r){var i;void 0===n&&(n=e);var o=sa(t,e),a=o.matrixes,s=o.is3d,u=o.targetMatrix,c=o.transformOrigin,l=o.targetOrigin,f=o.offsetContainer,d=o.hasFixed,p=o.zoom,v=sa(f,n,!0),h=v.matrixes,g=v.is3d,m=v.offsetContainer,b=v.zoom,x=r||g||s,E=x?4:3,y="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,S=u,w=_t(E),C=_t(E),M=_t(E),D=_t(E),R=a.length;h.reverse(),a.reverse(),!s&&x&&(S=gt(S,3,4),Wn(a)),!g&&x&&Wn(h),h.forEach((function(t){C=bt(C,t.matrix,E)}));var O=n||document.body,P=(null===(i=h[0])||void 0===i?void 0:i.target)||Yn(O,O,!0).offsetParent,T=h.slice(1).reduce((function(t,e){return bt(t,e.matrix,E)}),_t(E));a.forEach((function(t,e){if(R-2===e&&(M=w.slice()),R-1===e&&(D=w.slice()),!t.matrix){var n=function(t,e,n,r,i){var o,a=t.target,s=t.origin,u=e.matrix,c=ar(a),l=c.offsetWidth,f=c.offsetHeight,d=n.getBoundingClientRect(),p=[0,0];n===document.body&&(p=Xn(a,!0));for(var v=a.getBoundingClientRect(),h=v.left-d.left+n.scrollLeft-(n.clientLeft||0)+p[0],g=v.top-d.top+n.scrollTop-(n.clientTop||0)+p[1],m=v.width,b=v.height,x=mt(r,i,u),E=Jn(x,l,f,r),y=E.left,S=E.top,w=E.width,C=E.height,M=Kn(x,s,r),D=Et(M,[y,S]),R=[h+D[0]*m/w,g+D[1]*b/C],O=[0,0],P=0;++P<10;){var T=pt(i,r);o=Et(Kn(T,R,r),Kn(T,M,r)),O[0]=o[0],O[1]=o[1];var _=Jn(mt(r,i,zt(O,r),u),l,f,r),k=_.left-h,z=_.top-g;if(Math.abs(k)<2&&Math.abs(z)<2)break;R[0]-=k,R[1]-=z}return O.map((function(t){return Math.round(t)}))}(t,a[e+1],P,E,bt(T,w,E));t.matrix=zt(n,E)}w=bt(w,t.matrix,E)}));var _=!y&&s;S||(S=_t(_?4:3));var k=qn(y&&16===S.length?gt(S,4,3):S,_),z=C;return{hasZoom:1!==p||1!==b,hasFixed:d,rootMatrix:C=dt(C,E,E),originalRootMatrix:z,beforeMatrix:M,offsetMatrix:D,allMatrix:w,targetMatrix:S,targetTransform:k,transformOrigin:c,targetOrigin:l,is3d:x,offsetContainer:f,offsetRootContainer:m}}function ca(t,e,n,r){void 0===n&&(n=e);var i=0,o=0,a=0,s={},u=ar(t);if(t&&(i=u.offsetWidth,o=u.offsetHeight),t){var c=ua(t,e,n,r),l=tr(c.allMatrix,c.transformOrigin,i,o);s=Ne(Ne({},c),l);var f=tr(c.allMatrix,[50,50],100,100);a=sr([f.pos1,f.pos2],f.direction)}var d=r?4:3;return Ne(Ne(Ne({hasZoom:!1,width:i,height:o,rotation:a},u),{originalRootMatrix:_t(d),rootMatrix:_t(d),beforeMatrix:_t(d),offsetMatrix:_t(d),allMatrix:_t(d),targetMatrix:_t(d),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),s)}function la(t,e,n,r,i,o){void 0===o&&(o=[]);var a=1,s=[0,0],u={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},f={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d=[0,0],p={},v=ca(e,n,i,!0);if(e){var h=getComputedStyle(e);o.forEach((function(t){p[t]=h[t]}));var g=v.is3d?4:3,m=tr(v.offsetMatrix,xt(v.transformOrigin,vt(v.targetMatrix,g)),v.width,v.height);a=m.direction,s=xt(m.origin,[m.left-v.left,m.top-v.top]),f=lr(v.offsetRootContainer);var b=Yn(r,r,!0).offsetParent||v.offsetRootContainer;if(v.hasZoom){var x=tr(bt(v.originalRootMatrix,v.allMatrix),v.transformOrigin,v.width,v.height),E=tr(v.originalRootMatrix,jn(getComputedStyle(b)).map((function(t){return parseFloat(t)})),b.offsetWidth,b.offsetHeight);if(u=cr(x,f),l=cr(E,f,b,!0),t){var y=x.left,S=x.top;c=cr({left:y,top:S,bottom:S,right:S},f)}}else{u=lr(e),l=lr(b,!0),t&&(c=lr(t));var w=l.left,C=l.top,M=l.clientLeft,D=l.clientTop,R=[u.left-w,u.top-C];d=Et(Or(v.rootMatrix,R,4),[M+v.left,D+v.top])}}return Ne({targetClientRect:u,containerClientRect:l,moveableClientRect:c,rootContainerClientRect:f,beforeDirection:a,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:d},v)}function fa(t){var e=t.pos1,n=t.pos2,r=t.pos3,i=t.pos4;if(!e||!n||!r||!i)return null;var o=Jt([e,n,r,i]),a=[o.minX,o.minY],s=Et(t.origin,a);return e=Et(e,a),n=Et(n,a),r=Et(r,a),i=Et(i,a),Ne(Ne({},t),{left:t.left,top:t.top,posDelta:a,pos1:e,pos2:n,pos3:r,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var da=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=Ne({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},la(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new ce,e._prevTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._observer=null,e._observerId=0,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e.checkUpdateRect=function(){if(!e.isDragging()){var t=e.props.parentMoveable;t?t.checkUpdateRect():(q(e._observerId),e._observerId=H((function(){e.isDragging()||e.updateRect()})))}},e._onPreventClick=function(t){t.stopPropagation(),t.preventDefault()},e}Ae(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=this.getState(),n=t.parentPosition,r=t.className,i=t.target,o=t.zoom,a=t.cspNonce,s=t.translateZ,u=t.cssStyled,c=t.portalContainer,l=t.groupable,f=t.linePadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var d=n||[0,0],p=d[0],v=d[1],h=e.left,g=e.top,m=e.target,b=e.direction,x=e.hasFixed,E=e.offsetDelta,y=t.targets,w=this.isDragging(),C={};this.getEnabledAbles().forEach((function(t){C["data-able-".concat(t.name.toLowerCase())]=!0}));var M=this._getAbleClassName(),D=y&&y.length&&(m||l)||i||!this._hasFirstTarget&&this.state.isPersisted,R=this.controlBox||this.props.firstRenderState||this.props.persistData,O=[h-p,g-v];!l&&t.useAccuratePosition&&(O[0]+=E[0],O[1]+=E[1]);var P={position:x?"fixed":"absolute",display:D?"block":"none",visibility:R?"visible":"hidden",transform:"translate3d(".concat(O[0],"px, ").concat(O[1],"px, ").concat(s,")"),"--zoom":o,"--zoompx":"".concat(o,"px")};return f&&(P["--moveable-line-padding"]=f),me.createElement(u,Ne({cspNonce:a,ref:S(this,"controlBox"),className:"".concat(Bn("control-box",-1===b?"reverse":"",w?"dragging":"")," ").concat(M," ").concat(r)},C,{onClick:this._onPreventClick,portalContainer:c,style:P}),this.renderAbles(),this._renderLines())},n.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1,this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container,r=t.wrapperMoveable;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),n||e||r||this.state.isPersisted||(this.updateRect("",!1,!1),this.forceUpdate())},n.componentDidUpdate=function(t){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(t)},n.componentWillUnmount=function(){this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),this._viewContainer&&this._changeAbleViewClassNames([]),hr(this,"targetGesto"),hr(this,"controlGesto");var t=this.events;for(var e in t){var n=t[e];n&&n.destroy()}},n.getTargets=function(){var t=this.props.target;return t?[t]:[]},n.getAble=function(t){return W(this.props.ables||[],(function(e){return e.name===t}))},n.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){var e;return t&&((null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"class"))||"").indexOf(qe)>-1},n.dragStart=function(t){var e=this.targetGesto,n=this.controlGesto;return e&&na(this)({inputEvent:t})?e.isFlag()||e.triggerDragStart(t):n&&this.isMoveableElement(t.target)&&(n.isFlag()||n.triggerDragStart(t)),this},n.hitTest=function(t){var e,n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,u=n.targetClientRect;if(!r)return 0;if(t instanceof Element){var c=t.getBoundingClientRect();e={left:c.left,top:c.top,width:c.width,height:c.height}}else e=Ne({width:0,height:0},t);var l=e.left,f=e.top,d=e.width,p=e.height,v=$t([i,o,s,a],u),h=ae(v,[[l,f],[l+d,f],[l+d,f+p],[l,f+p]]),g=Qt(v);return h&&g?Math.min(100,h/g*100):0},n.isInside=function(t,e){var n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,u=n.targetClientRect;return!!r&&te([t,e],$t([i,o,s,a],u))},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props,i=r.parentMoveable,o=this.state.target||this.props.target,a=this.getContainer(),s=i?i._rootContainer:this._rootContainer,u=la(this.controlBox&&this.controlBox.getElement(),o,a,a,s||a,this._getRequestStyles());if(!o&&this._hasFirstTarget&&r.persistData){var c=fa(r.persistData);for(var l in c)u[l]=c[l]}this.updateState(u,!i&&n)},n.isDragging=function(t){var e,n,r=this.targetGesto,i=this.controlGesto;return(null===r||void 0===r?void 0:r.isFlag())?!t||!!(null===(e=r.getEventData()[t])||void 0===e?void 0:e.isEventStart):!!(null===i||void 0===i?void 0:i.isFlag())&&(!t||!!(null===(n=i.getEventData()[t])||void 0===n?void 0:n.isEventStart))},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=vr(this.state),n=e[0],r=e[1],i=e[2],o=e[3],a=$n(e),s=t.width,u=t.height,c=a.width,l=a.height,f=a.left,d=a.top,p=[t.left,t.top],v=xt(p,t.origin);return{width:c,height:l,left:f,top:d,pos1:n,pos2:r,pos3:i,pos4:o,offsetWidth:s,offsetHeight:u,beforeOrigin:xt(p,t.beforeOrigin),origin:v,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},n.getManager=function(){return this},n.stopDrag=function(t){var e,n;t&&"target"!==t||null===(e=this.targetGesto)||void 0===e||e.stop(),t&&"control"!==t||null===(n=this.controlGesto)||void 0===n||n.stop()},n.getRotation=function(){var t=this.state;return function(t,e,n){var r=J(t,e)/Math.PI*180;return(r=n>=0?r:180-r)>=0?r:360+r}(t.pos1,t.pos2,t.direction)},n.request=function(t,e,n){void 0===e&&(e={});var r=this.props,i=r.ables,o=r.groupable,a=i.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!a||!a.request)return{request:function(){return this},requestEnd:function(){return this}};var s=this,u=a.request(this),c=n||e.isInstant,l=u.isControl?"controlAbles":"targetAbles",f="".concat(o?"Group":"").concat(u.isControl?"Control":""),d={request:function(e){return ea(s,l,"drag",f,"",Ne(Ne({},u.request(e)),{requestAble:t,isRequest:!0}),c),this},requestEnd:function(){return ea(s,l,"drag",f,"End",Ne(Ne({},u.requestEnd()),{requestAble:t,isRequest:!0}),c),this}};return ea(s,l,"drag",f,"Start",Ne(Ne({},u.requestStart(e)),{requestAble:t,isRequest:!0}),c),c?d.request(e).requestEnd():d},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var t=this.getState(),e=this.props,n=t.originalBeforeOrigin,r=t.transformOrigin,i=t.allMatrix,o=t.is3d,a=t.pos1,s=t.pos2,u=t.pos3,c=t.pos4,l=t.left,f=t.top,d=t.isPersisted,p=e.padding||{},v=p.left,h=void 0===v?0:v,g=p.top,m=void 0===g?0:g,b=p.bottom,x=void 0===b?0:b,E=p.right,y=void 0===E?0:E,S=o?4:3,w=[];w=d?r:this.controlBox&&e.groupable?n:xt(n,[l,f]),t.renderPoses=[xt(a,Tr(i,[-h,-m],r,w,S)),xt(s,Tr(i,[y,-m],r,w,S)),xt(u,Tr(i,[-h,x],r,w,S)),xt(c,Tr(i,[y,x],r,w,S))]},n.checkUpdate=function(){this._isPropTargetChanged=!1;var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,o=i.target,a=i.container;if(o||e){this.updateAbles();var s=!Cr(o,e);if(s||!Cr(a,n)){var u=n||this.controlBox;u&&this.unsetAbles(),this.updateState({target:e,container:n}),!r&&u&&this.updateRect("End",!1,!1),this._isPropTargetChanged=s}}},n.waitToChangeTarget=function(){return new Promise((function(){}))},n.triggerEvent=function(t,e){this._emitter.trigger(t,e);var n=this.props[t];return n&&n(e)},n.useCSS=function(t,e){var n=this.props.customStyledMap,r=t+e;return n[r]||(n[r]=Fe(t,e)),n[r]},n.getState=function(){var t,e=this.props;(e.target||(null===(t=e.targets)||void 0===t?void 0:t.length))&&(this._hasFirstTarget=!0);var n=this.controlBox,r=e.persistData,i=e.firstRenderState;if(i&&!n)return i;if(!this._hasFirstTarget&&r){var o=fa(r);if(o)return this.updateState(o,!1),this.state}return this.state.isPersisted=!1,this.state},n.updateSelectors=function(){},n.unsetAbles=function(){var t=this;this.targetAbles.forEach((function(e){e.unset&&e.unset(t)}))},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props.triggerAblesSimultaneously,r=this.getEnabledAbles(t),i="drag".concat(e,"Start"),o="pinch".concat(e,"Start"),a="drag".concat(e,"ControlStart"),s=wr(r,[i,o],n),u=wr(r,[a],n);this.enabledAbles=r,this.targetAbles=s,this.controlAbles=u},n.updateState=function(t,e){if(e){if(this.isUnmounted)return;this.setState(t)}else{var n=this.state;for(var r in t)n[r]=t[r]}},n.getEnabledAbles=function(t){void 0===t&&(t=this.props.ables);var e=this.props;return t.filter((function(t){return t&&(t.always&&!1!==e[t.name]||e[t.name])}))},n.renderAbles=function(){var t=this,e=this.props.triggerAblesSimultaneously,n={createElement:me.createElement};return this.renderState={},function(t,e){var n=[],r={};return t.forEach((function(i,o){var a=e(i,o,t),s=r[a];s||(s=[],r[a]=s,n.push(s)),s.push(i)})),n}(Dr(wr(this.getEnabledAbles(),["render"],e).map((function(e){return(0,e.render)(t,n)||[]}))).filter((function(t){return t})),(function(t){return t.key})).map((function(t){return t[0]}))},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},n._getRequestStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var n,r,i=null!==(r=null===(n=e.requestStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return je(je([],t,!0),i,!0)}),[])},n._updateObserver=function(t){var e,n=this.props,r=n.target;if(window.ResizeObserver&&r&&n.useResizeObserver){if(t.target!==r||!this._observer){var i=new ResizeObserver(this.checkUpdateRect);i.observe(r,{box:"border-box"}),this._observer=i}}else null===(e=this._observer)||void 0===e||e.disconnect()},n._updateEvents=function(){var t=this.controlBox.getElement(),e=this.targetAbles.length,n=this.controlAbles.length,r=this.props,i=r.dragTarget||r.target;(!e&&this.targetGesto||this._isTargetChanged(!0))&&(hr(this,"targetGesto"),this.updateState({gesto:null})),n||hr(this,"controlGesto"),i&&e&&!this.targetGesto&&(this.targetGesto=ra(this,i,"")),!this.controlGesto&&n&&(this.controlGesto=ia(this,t,"controlAbles","Control"))},n._updateTargets=function(){var t=this.props;this._prevTarget=t.dragTarget||t.target,this._prevDragArea=t.dragArea},n._renderLines=function(){var t=this.props,e=t.zoom,n=t.hideDefaultLines,r=t.hideChildMoveableDefaultLines,i=t.parentMoveable;if(n||i&&r)return[];var o=this.getState().renderPoses,a={createElement:me.createElement};return[[0,1],[1,3],[3,2],[2,0]].map((function(t,n){var r=t[0],i=t[1];return Ki(a,"",o[r],o[i],e,"render-line-".concat(n))}))},n._isTargetChanged=function(t){var e=this.props,n=e.dragTarget||e.target,r=this._prevTarget,i=this._prevDragArea,o=e.dragArea;return!o&&r!==n||(t||o)&&i!==o},n._updateNativeEvents=function(){var t=this,e=this.props.dragArea?this.areaElement:this.state.target,n=this.events,r=V(n);if(this._isTargetChanged())for(var i in n){var o=n[i];o&&o.destroy(),n[i]=null}if(e){var a=this.enabledAbles;r.forEach((function(r){var i=wr(a,[r]),o=i.length>0,s=n[r];o?(s||(s=new oa(e,t,r),n[r]=s),s.setAbles(i)):s&&(s.destroy(),n[r]=null)}))}},n._checkUpdateRootContainer=function(){var t=this.props.rootContainer;!this._rootContainer&&t&&(this._rootContainer=Fr(t,!0))},n._checkUpdateViewContainer=function(){var t=this.props.viewContainer;!this._viewContainer&&t&&(this._viewContainer=Fr(t,!0)),this._viewContainer&&this._changeAbleViewClassNames(je(je([],this._getAbleViewClassNames(),!0),[this.isDragging()?yo:""],!1))},n._changeAbleViewClassNames=function(t){var e=this._viewContainer,n=Mr(t.filter(Boolean),(function(t){return t})).map((function(t){return t[0]})),r=this._viewClassNames,i=Lt(r,n),o=i.removed,a=i.added;o.forEach((function(t){at(e,r[t])})),a.forEach((function(t){ot(e,n[t])})),this._viewClassNames=n},n._getAbleViewClassNames=function(){var t=this;return(this.getEnabledAbles().map((function(e){var n;return(null===(n=e.viewClassName)||void 0===n?void 0:n.call(e,t))||""})).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},n._getAbleClassName=function(t){var e=this;void 0===t&&(t="");var n=this.getEnabledAbles(),r=this.targetGesto,i=this.controlGesto,o=(null===r||void 0===r?void 0:r.isFlag())?r.getEventData():{},a=(null===i||void 0===i?void 0:i.isFlag())?i.getEventData():{};return n.map((function(n){var r,i,s,u=n.name,c=(null===(r=n.className)||void 0===r?void 0:r.call(n,e))||"";return((null===(i=o[u])||void 0===i?void 0:i.isEventStart)||(null===(s=a[u])||void 0===s?void 0:s.isEventStart))&&(c+=" ".concat(Bn("".concat(u).concat(t,"-dragging")))),c.trim()})).filter(Boolean).join(" ")},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,portalContainer:null,useResizeObserver:!1,linePadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Fn,firstRenderState:null,persistData:null,viewContainer:null,useAccuratePosition:!1},e}(me.PureComponent),pa={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean,groupableProps:Object,targetGroups:Object,hideChildMoveableDefaultLines:Boolean},events:{},render:function(t,e){var n,r=t.props,i=r.targets||[];t.moveables=[];var o=t.getState(),a=o.left,s=o.top,u=o.isPersisted,c=[a,s],l=r.zoom||1,f=t.renderGroupRects,d=(null===(n=r.persistData)||void 0===n?void 0:n.children)||[];return u?i=d.map((function(){return null})):d=[],je(je([],i.map((function(n,i){return e.createElement(da,{key:"moveable"+i,ref:w(t,"moveables",i),target:n,origin:!1,cssStyled:r.cssStyled,customStyledMap:r.customStyledMap,useResizeObserver:r.useResizeObserver,hideChildMoveableDefaultLines:r.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:c,persistData:d[i],zoom:l})})),!0),Dr(f.map((function(t,n){var r=[t.pos1,t.pos2,t.pos3,t.pos4];return[[0,1],[1,3],[3,2],[2,0]].map((function(t,i){var o=t[0],a=t[1];return Ki(e,"",Et(r[o],c),Et(r[a],c),l,"group-rect-".concat(n,"-").concat(i))}))}))),!0)}},va=Ze("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.props.target,r=e.inputEvent,i=e.inputTarget,o=!t.isMoveableElement(i)&&t.controlBox.getElement().contains(i);if(r&&i&&!e.isDrag&&!t.isMoveableElement(i)&&!o){var a=n.contains(i);yr(t,"onClick",br(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.inputTarget;if(n&&r&&!e.isDrag&&!t.isMoveableElement(r)&&e.datas.inputTarget!==r){var i=t.props.targets,o=i.indexOf(r),a=o>-1,s=!1;-1===o&&(s=(o=X(i,(function(t){return t.contains(r)})))>-1),yr(t,"onClickGroup",br(t,e,{isDouble:e.isDouble,targets:i,inputTarget:r,targetIndex:o,isTarget:a,containsTarget:s,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function ha(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),Ne(Ne({},t),{datas:e})}var ga=Ze("edgeDraggable",{css:[".edge.edgeDraggable.line {\n    cursor: move;\n}"],render:function(t,e){var n=t.props,r=n.edgeDraggable;return r?Qi(e,"edgeDraggable",r,t.getState().renderPoses,n.zoom):[]},dragCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!(!r.edgeDraggable||!i)&&(!r.draggable&&it(i,Bn("direction"))&&it(i,Bn("edge"))&&it(i,Bn("edgeDraggable")))},dragStart:function(t,e){return to.dragStart(t,ha(e))},drag:function(t,e){return to.drag(t,ha(e))},dragEnd:function(t,e){return to.dragEnd(t,ha(e))},dragGroupCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!(!r.edgeDraggable||!i)&&(!r.draggable&&it(i,Bn("direction"))&&it(i,Bn("line")))},dragGroupStart:function(t,e){return to.dragGroupStart(t,ha(e))},dragGroup:function(t,e){return to.dragGroup(t,ha(e))},dragGroupEnd:function(t,e){return to.dragGroupEnd(t,ha(e))},unset:function(t){return to.unset(t)}}),ma={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},ba=[Jo,Oo,qi,Xr,to,ga,no,vo,mo,fo,Ro,Po,Mo,Vo,qo,$o,pa,ma,va,Co,ta],xa=ba.reduce((function(t,e){return Ne(Ne({},t),"events"in e?e.events:{})}),{}),Ea=ba.reduce((function(t,e){return Ne(Ne({},t),e.props)}),{}),ya=Br(xa);Object.keys(ya),Object.keys(Ea);function Sa(t,e){var n=t[0],r=t[1],i=t[2];return(n*e[0]+r*e[1]+i)/Math.sqrt(n*n+r*r)}function wa(t,e){var n=t[0],r=t[1];return-n*e[0]-r*e[1]}function Ca(t,e){return Math.max.apply(Math,t.map((function(t){var n=t[0],r=t[1],i=t[2],o=t[3];return Math.max(n[e],r[e],i[e],o[e])})))}function Ma(t,e){return Math.min.apply(Math,t.map((function(t){var n=t[0],r=t[1],i=t[2],o=t[3];return Math.min(n[e],r[e],i[e],o[e])})))}function Da(t,e){var n=e.map((function(e){if(k(e)){var n=Da(t,e),r=n.length;return r>1?n:1===r?n[0]:null}var i=W(t,(function(t){return t.manager.props.target===e}));return i?(i.finded=!0,i.manager):null})).filter(Boolean);return 1===n.length&&k(n[0])?n[0]:n}var Ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new Vt,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}Ae(e,t);var n=e.prototype;return n.componentDidMount=function(){t.prototype.componentDidMount.call(this)},n.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},n.getTargets=function(){return this.props.targets},n.updateRect=function(t,e,n){var r;void 0===n&&(n=!0);var i=this.state;if(this.controlBox&&!i.isPersisted){this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var o=this.props,a=this.moveables,s=i.target||o.target,u=a.map((function(t){return{finded:!1,manager:t}})),c=this.props.targetGroups||[],l=Da(u,c);l.push.apply(l,u.filter((function(t){return!t.finded})).map((function(t){return t.manager})));var f=[],d=!e||""!==t&&o.updateGroup,p=o.defaultGroupRotate||0;if(!this._hasFirstTargets){var v=null===(r=this.props.persistData)||void 0===r?void 0:r.rotation;null!=v&&(p=v)}var h=function t(e,n,r){var i=e.map((function(e){if(k(e)){var r=t(e,n),i=[r.pos1,r.pos2,r.pos3,r.pos4];return f.push(r),{poses:i,rotation:r.rotation}}return{poses:vr(e.state),rotation:e.getRotation()}})),o=i.map((function(t){return t.rotation})),a=0,s=o[0],u=o.every((function(t){return Math.abs(s-t)<.1}));a=d?u?s:p:!r&&u?s:n;var c=i.map((function(t){return t.poses})),l=function(t,e){var n,r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=0,u=0;if(!t.length)return{pos1:r,pos2:i,pos3:o,pos4:a,minX:0,minY:0,maxX:0,maxY:0,width:s,height:u,rotation:e};var c=nt(e,Qe);if(c%90){var l=c/180*Math.PI,f=Math.tan(l),d=-1/f,p=[Je,tn],v=[[0,0],[0,0]],h=[Je,tn],g=[[0,0],[0,0]];t.forEach((function(t){t.forEach((function(t){var e=Sa([-f,1,0],t),n=Sa([-d,1,0],t);p[0]>e&&(v[0]=t,p[0]=e),p[1]<e&&(v[1]=t,p[1]=e),h[0]>n&&(g[0]=t,h[0]=n),h[1]<n&&(g[1]=t,h[1]=n)}))}));var m=v[0],b=v[1],x=g[0],E=g[1],y=[-f,1,wa([-f,1],m)],S=[-f,1,wa([-f,1],b)],w=[-d,1,wa([-d,1],x)],C=[-d,1,wa([-d,1],E)];r=(n=[[y,w],[y,C],[S,w],[S,C]].map((function(t){return ne(t[0],t[1])[0]})))[0],i=n[1],o=n[2],a=n[3],s=h[1]-h[0],u=p[1]-p[0]}else{var M,D=Ma(t,0),R=Ma(t,1),O=Ca(t,0),P=Ca(t,1);r=[D,R],i=[O,R],o=[D,P],a=[O,P],s=O-D,u=P-R,c%180&&(r=(M=[o,r,a,i])[0],i=M[1],o=M[2],a=M[3],s=P-R,u=O-D)}c%360>180&&(r=(M=[a,o,i,r])[0],i=M[1],o=M[2],a=M[3]);var T=Jt([r,i,o,a]);return{pos1:r,pos2:i,pos3:o,pos4:a,width:s,height:u,minX:T.minX,minY:T.minY,maxX:T.maxX,maxY:T.maxY,rotation:e}}(c,a);return l}(l,this.rotation,!0);d&&(this.rotation=h.rotation,this.transformOrigin=o.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=c,this.renderGroupRects=f;var g=this.transformOrigin,m=this.rotation,b=this.scale,x=h.width,E=h.height,y=h.minX,S=h.minY,w=function(t,e,n){var r=t.map((function(t){return Et(t,e)})),i=r.map((function(t){return Rt(t,n)}));return{prev:r,next:i,result:i.map((function(t){return xt(t,e)}))}}([[0,0],[x,0],[0,E],[x,E]],Yr(g,x,E),this.rotation/180*Math.PI),C=Jt(w.result),M=C.minX,D=C.minY,R=" rotate(".concat(m,"deg)")+" scale(".concat(b[0]>=0?1:-1,", ").concat(b[1]>=0?1:-1,")"),O="translate(".concat(-M,"px, ").concat(-D,"px)").concat(R);this.controlBox.getElement().style.transform="translate3d(".concat(y,"px, ").concat(S,"px, ").concat(this.props.translateZ||0,")"),s.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(g,";")+"width:".concat(x,"px;height:").concat(E,"px;")+"transform: ".concat(O),i.width=x,i.height=E;var P=this.getContainer(),T=la(this.controlBox.getElement(),s,this.controlBox.getElement(),this.getContainer(),this._rootContainer||P,[]),_=[T.left,T.top],z=vr(T),G=z[0],B=z[1],F=z[2],I=z[3],A=Jt([G,B,F,I]),N=[A.minX,A.minY],j=b[0]*b[1]>0?1:-1;T.pos1=Et(G,N),T.pos2=Et(B,N),T.pos3=Et(F,N),T.pos4=Et(I,N),T.left=y-T.left+N[0],T.top=S-T.top+N[1],T.origin=Et(xt(_,T.origin),N),T.beforeOrigin=Et(xt(_,T.beforeOrigin),N),T.originalBeforeOrigin=xt(_,T.originalBeforeOrigin),T.transformOrigin=Et(xt(_,T.transformOrigin),N),s.style.transform="translate(".concat(-M-N[0],"px, ").concat(-D-N[1],"px)")+R,this.updateState(Ne(Ne({},T),{posDelta:N,direction:j,beforeDirection:j}),n)}},n.getRect=function(){return Ne(Ne({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.triggerEvent=function(e,n,r){if(r||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},n.updateAbles=function(){t.prototype.updateAbles.call(this,je(je([],this.props.ables,!0),[pa],!1),"Group")},n._updateTargets=function(){t.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},n._updateEvents=function(){var t=this.state,e=this.props,n=this._prevTarget,r=e.dragTarget||this.areaElement;n!==r&&(hr(this,"targetGesto"),hr(this,"controlGesto"),t.target=null),t.target||(t.target=this.areaElement,this.controlBox.getElement().style.display="block"),t.target&&(this.targetGesto||(this.targetGesto=ra(this,r,"Group")),this.controlGesto||(this.controlGesto=ia(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var i=!Cr(t.container,e.container);i&&(t.container=e.container);var o=e.targets,a=this.differ.update(o),s=a.added,u=a.changed,c=a.removed,l=s.length||c.length;(i||l||this.transformOrigin!==(e.defaultGroupOrigin||"50% 50%")||u.length||o.length&&!Lr(this._targetGroups,e.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!l},n._updateObserver=function(){},e.defaultProps=Ne(Ne({},da.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(da),Oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}Ae(e,t);var n=e.prototype;return n.render=function(){var t,e=this,n=this.props,r=n.cspNonce,i=n.cssStyled,o=n.persistData,a=n.targets||[],s=a.length,u=this.isUnmounted||!s,c=null!==(t=null===o||void 0===o?void 0:o.children)&&void 0!==t?t:[];return u&&!s&&c.length?a=c.map((function(){return null})):u||(c=[]),me.createElement(i,{cspNonce:r,ref:S(this,"controlBox"),className:Bn("control-box")},a.map((function(t,n){return me.createElement(da,Ne({key:"moveable"+n,ref:w(e,"moveables",n)},e.props,{target:t,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:c[n]}))})))},n.componentDidUpdate=function(){},n.getTargets=function(){return this.props.targets},n.updateRect=function(t,e,n){void 0===n&&(n=!0),this.moveables.forEach((function(r){r.updateRect(t,e,n)}))},n.getRect=function(){return Ne(Ne({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},n._updateEvents=function(){},n._updateObserver=function(){},e}(da);function Pa(t,e){var n=[];return t.forEach((function(t){t&&(z(t)?e[t]&&n.push.apply(n,e[t]):k(t)?n.push.apply(n,Pa(t,e)):n.push(t))})),n}function Ta(t,e){var n=[];return t.forEach((function(t){t&&(z(t)?e[t]&&n.push.apply(n,e[t]):k(t)?n.push(Ta(t,e)):n.push(t))})),n}function _a(t,e){return t.length!==e.length||t.some((function(t,n){var r=e[n];return!(!t&&!r)&&(t!=r&&(!k(t)||!k(r)||_a(t,r)))}))}var ka=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new Vt,e._elementTargets=[],e._onChangeTargets=null,e}Ae(e,t);var n,r,i=e.prototype;return e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var n=e.css;n&&n.forEach((function(e){t[e]=!0}))}));var e=V(t).join("\n");this.defaultStyled=Fe("div",function(t,e){return e.replace(/([^}{]*){/gm,(function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}(qe,Ve+e))},e.getTotalAbles=function(){return je([Oo,pa,ma,Co],this.defaultAbles,!0)},i.render=function(){var t,e=this.constructor;e.defaultStyled||e.makeStyled();var n=this.props,r=n.ables,i=n.props,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(n,["ables","props"]),a=this._updateRefs(!0),s=Pa(a,this.selectorMap),u=s.length>1,c=je(je([],e.getTotalAbles(),!0),r||[],!0),l=Ne(Ne(Ne({},o),i||{}),{ables:c,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});this._elementTargets=s;var f=null,d=this.moveable,p=o.persistData;if((null===p||void 0===p?void 0:p.children)&&(u=!0),u){if(o.individualGroupable)return me.createElement(Oa,Ne({key:"individual-group",ref:S(this,"moveable")},l,{target:null,targets:s}));var v=Ta(a,this.selectorMap);if(d&&!d.props.groupable&&!d.props.individualGroupable){var h=d.props.target;h&&s.indexOf(h)>-1&&(f=Ne({},d.state))}return me.createElement(Ra,Ne({key:"group",ref:S(this,"moveable")},l,null!==(t=o.groupableProps)&&void 0!==t?t:{},{target:null,targets:s,targetGroups:v,firstRenderState:f}))}var g=s[0];if(d&&(d.props.groupable||d.props.individualGroupable)){var m=W(d.moveables||[],(function(t){return t.props.target===g}));m&&(f=Ne({},m.state))}return me.createElement(da,Ne({key:"single",ref:S(this,"moveable")},l,{target:g,firstRenderState:f}))},i.componentDidMount=function(){this._checkChangeTargets(),this._updateRefs()},i.componentDidUpdate=function(){this._checkChangeTargets()},i.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},i.getTargets=function(){var t,e;return null!==(e=null===(t=this.moveable)||void 0===t?void 0:t.getTargets())&&void 0!==e?e:[]},i.updateSelectors=function(){this.selectorMap={},this._updateRefs()},i.waitToChangeTarget=function(){var t,e=this;return this._onChangeTargets=function(){e._onChangeTargets=null,t()},new Promise((function(e){t=e}))},i.waitToChangeTargets=function(){return this.waitToChangeTarget()},i.getManager=function(){return this.moveable},i._updateRefs=function(t){var e=this.refTargets,n=Ir(this.props.target||this.props.targets),r="undefined"!==typeof document,i=_a(e,n),o=this.selectorMap,a={};return this.refTargets.forEach((function t(e){z(e)?o[e]?a[e]=o[e]:r&&(i=!0,a[e]=[].slice.call(document.querySelectorAll(e))):k(e)&&e.forEach(t)})),this.refTargets=n,this.selectorMap=a,!t&&i&&this.forceUpdate(),n},i._checkChangeTargets=function(){var t,e,n,r=this._differ.update(this._elementTargets),i=r.added,o=r.removed;(i.length||o.length)&&(null===(e=(t=this.props).onChangeTargets)||void 0===e||e.call(t,{moveable:this.moveable,targets:this._elementTargets}),null===(n=this._onChangeTargets)||void 0===n||n.call(this)),this._updateRefs()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([(n=sn,void 0===r&&(r={}),function(t,e){n.forEach((function(n){var i=r[n]||n;i in t||(t[i]=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(t=this[e])[n].apply(t,r);return o===this[e]?this:o})}))})],e.prototype,"moveable",void 0),e}(me.PureComponent),za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ae(e,t),e.defaultAbles=ba,e}(ka)},8170:function(){},5493:function(t,e,n){n.d(e,{v:function(){return dt}});var r,i=n(4925),o=n(9439),a=n(4942),s=n(3433),u=n(1413),c=n(2791),l=n(9904),f=n(5612),d=n(4190),p=n(5623),v=n(4705),h=n(4159),g=n(1511),m=n(3784),b=null!=(r=c.useId)?r:function(){var t=(0,g.H)(),e=c.useState(t?function(){return m.O.nextId()}:null),n=(0,o.Z)(e,2),r=n[0],i=n[1];return(0,v.e)((function(){null===r&&i(m.O.nextId())}),[r]),null!=r?""+r:void 0},x=function(t){return t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t}(x||{});var E,y=((E=y||{})[E.First=0]="First",E[E.Previous=1]="Previous",E[E.Next=2]="Next",E[E.Last=3]="Last",E[E.Specific=4]="Specific",E[E.Nothing=5]="Nothing",E);function S(t,e){var n=e.resolveItems();if(n.length<=0)return null;var r=e.resolveActiveIndex(),i=null!=r?r:-1,o=function(){switch(t.focus){case 0:return n.findIndex((function(t){return!e.resolveDisabled(t)}));case 1:var r=n.slice().reverse().findIndex((function(t,n,r){return!(-1!==i&&r.length-n-1>=i)&&!e.resolveDisabled(t)}));return-1===r?r:n.length-1-r;case 2:return n.findIndex((function(t,n){return!(n<=i)&&!e.resolveDisabled(t)}));case 3:var o=n.slice().reverse().findIndex((function(t){return!e.resolveDisabled(t)}));return-1===o?o:n.length-1-o;case 4:return n.findIndex((function(n){return e.resolveId(n)===t.id}));case 5:return null;default:!function(t){throw new Error("Unexpected object: "+t)}(t)}}();return-1===o?r:o}function w(t){for(var e=t.parentElement,n=null;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;var r=""===(null==e?void 0:e.getAttribute("disabled"));return(!r||!function(t){if(!t)return!1;for(var e=t.previousElementSibling;null!==e;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}(n))&&r}function C(t){return m.O.isServer?null:t instanceof Node?t.ownerDocument:null!=t&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}var M,D=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(t){return"".concat(t,":not([tabindex='-1'])")})).join(","),R=function(t){return t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t}(R||{}),O=function(t){return t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t}(O||{}),P=((M=P||{})[M.Previous=-1]="Previous",M[M.Next=1]="Next",M);function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==t?[]:Array.from(t.querySelectorAll(D)).sort((function(t,e){return Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER))}))}var _=function(t){return t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t}(_||{});function k(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t!==(null==(n=C(t))?void 0:n.body)&&(0,l.E)(r,(e={},(0,a.Z)(e,0,(function(){return t.matches(D)})),(0,a.Z)(e,1,(function(){for(var e=t;null!==e;){if(e.matches(D))return!0;e=e.parentElement}return!1})),e))}function z(t){var e=C(t);(0,d.k)().nextFrame((function(){e&&!k(e.activeElement,0)&&function(t){null==t||t.focus({preventScroll:!0})}(t)}))}var G=["textarea","input"].join(",");function B(t){var e,n;return null!=(n=null==(e=null==t?void 0:t.matches)?void 0:e.call(t,G))&&n}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return t.slice().sort((function(t,n){var r=e(t),i=e(n);if(null===r||null===i)return 0;var o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function I(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sorted,i=void 0===r||r,o=n.relativeTo,a=void 0===o?null:o,s=n.skipElements,u=void 0===s?[]:s,c=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,l=Array.isArray(t)?i?F(t):t:T(t);u.length>0&&l.length>1&&(l=l.filter((function(t){return!u.includes(t)}))),a=null!=a?a:c.activeElement;var f,d=function(){if(5&e)return 1;if(10&e)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),p=function(){if(1&e)return 0;if(2&e)return Math.max(0,l.indexOf(a))-1;if(4&e)return Math.max(0,l.indexOf(a))+1;if(8&e)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),v=32&e?{preventScroll:!0}:{},h=0,g=l.length;do{if(h>=g||h+g<=0)return 0;var m=p+h;if(16&e)m=(m+g)%g;else{if(m<0)return 3;if(m>=g)return 1}null==(f=l[m])||f.focus(v),h+=d}while(f!==c.activeElement);return 6&e&&B(f)&&f.select(),f.hasAttribute("tabindex")||f.setAttribute("tabindex","0"),2}(T(),e,{relativeTo:t})}var A=n(7762),N=n(2806);function j(t,e,n){var r=(0,N.E)(e);(0,c.useEffect)((function(){function e(t){r.current(t)}return document.addEventListener(t,e,n),function(){return document.removeEventListener(t,e,n)}}),[t,n])}function Z(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,c.useRef)(!1);function i(n,i){if(r.current&&!n.defaultPrevented){var o=function t(e){return"function"==typeof e?t(e()):Array.isArray(e)||e instanceof Set?e:[e]}(t),a=i(n);if(null!==a&&a.getRootNode().contains(a)){var s,u=(0,A.Z)(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(null!==c){var l=c instanceof HTMLElement?c:c.current;if(null!=l&&l.contains(a)||n.composed&&n.composedPath().includes(l))return}}}catch(f){u.e(f)}finally{u.f()}return!k(a,_.Loose)&&-1!==a.tabIndex&&n.preventDefault(),e(n,a)}}}(0,c.useEffect)((function(){requestAnimationFrame((function(){r.current=n}))}),[n]);var o=(0,c.useRef)(null);j("mousedown",(function(t){var e,n;r.current&&(o.current=(null==(n=null==(e=t.composedPath)?void 0:e.call(t))?void 0:n[0])||t.target)}),!0),j("click",(function(t){!o.current||(i(t,(function(){return o.current})),o.current=null)}),!0),j("blur",(function(t){return i(t,(function(){return window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null}))}),!0)}var Y=n(4510);function L(t){var e;if(t.type)return t.type;var n=null!=(e=t.as)?e:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function X(t,e){var n=(0,c.useState)((function(){return L(t)})),r=(0,o.Z)(n,2),i=r[0],a=r[1];return(0,v.e)((function(){a(L(t))}),[t.type,t.as]),(0,v.e)((function(){i||!e.current||e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&a("button")}),[i,e]),i}var W=n(3654);function H(t){return[t.screenX,t.screenY]}var q,V=["id"],U=["id"],K=["id","disabled"],Q=function(t){return t[t.Open=0]="Open",t[t.Closed=1]="Closed",t}(Q||{}),$=function(t){return t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t}($||{}),J=function(t){return t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t}(J||{});function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=null!==t.activeItemIndex?t.items[t.activeItemIndex]:null,r=F(e(t.items.slice()),(function(t){return t.dataRef.current.domRef.current})),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}var et=(q={},(0,a.Z)(q,1,(function(t){return 1===t.menuState?t:(0,u.Z)((0,u.Z)({},t),{},{activeItemIndex:null,menuState:1})})),(0,a.Z)(q,0,(function(t){return 0===t.menuState?t:(0,u.Z)((0,u.Z)({},t),{},{menuState:0})})),(0,a.Z)(q,2,(function(t,e){var n,r=tt(t),i=S(e,{resolveItems:function(){return r.items},resolveActiveIndex:function(){return r.activeItemIndex},resolveId:function(t){return t.id},resolveDisabled:function(t){return t.dataRef.current.disabled}});return(0,u.Z)((0,u.Z)((0,u.Z)({},t),r),{},{searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=e.trigger)?n:1})})),(0,a.Z)(q,3,(function(t,e){var n=""!==t.searchQuery?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(null!==t.activeItemIndex?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find((function(t){var e;return(null==(e=t.dataRef.current.textValue)?void 0:e.startsWith(r))&&!t.dataRef.current.disabled})),o=i?t.items.indexOf(i):-1;return-1===o||o===t.activeItemIndex?(0,u.Z)((0,u.Z)({},t),{},{searchQuery:r}):(0,u.Z)((0,u.Z)({},t),{},{searchQuery:r,activeItemIndex:o,activationTrigger:1})})),(0,a.Z)(q,4,(function(t){return""===t.searchQuery?t:(0,u.Z)((0,u.Z)({},t),{},{searchQuery:"",searchActiveItemIndex:null})})),(0,a.Z)(q,5,(function(t,e){var n=tt(t,(function(t){return[].concat((0,s.Z)(t),[{id:e.id,dataRef:e.dataRef}])}));return(0,u.Z)((0,u.Z)({},t),n)})),(0,a.Z)(q,6,(function(t,e){var n=tt(t,(function(t){var n=t.findIndex((function(t){return t.id===e.id}));return-1!==n&&t.splice(n,1),t}));return(0,u.Z)((0,u.Z)((0,u.Z)({},t),n),{},{activationTrigger:1})})),q),nt=(0,c.createContext)(null);function rt(t){var e=(0,c.useContext)(nt);if(null===e){var n=new Error("<".concat(t," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,rt),n}return e}function it(t,e){return(0,l.E)(e.type,et,t,e)}nt.displayName="MenuContext";var ot=c.Fragment,at=(0,f.yV)((function(t,e){var n,r=(0,c.useReducer)(it,{menuState:1,buttonRef:(0,c.createRef)(),itemsRef:(0,c.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),i=(0,o.Z)(r,2),s=i[0],u=s.menuState,d=s.itemsRef,p=s.buttonRef,v=i[1],g=(0,h.T)(e);Z([p,d],(function(t,e){var n;v({type:1}),k(e,_.Loose)||(t.preventDefault(),null==(n=p.current)||n.focus())}),0===u);var m=(0,W.z)((function(){v({type:1})})),b=(0,c.useMemo)((function(){return{open:0===u,close:m}}),[u,m]),x=t,E={ref:g};return c.createElement(nt.Provider,{value:r},c.createElement(Y.up,{value:(0,l.E)(u,(n={},(0,a.Z)(n,0,Y.ZM.Open),(0,a.Z)(n,1,Y.ZM.Closed),n))},(0,f.sY)({ourProps:E,theirProps:x,slot:b,defaultTag:ot,name:"Menu"})))})),st=(0,f.yV)((function(t,e){var n,r=b(),a=t.id,s=void 0===a?"headlessui-menu-button-".concat(r):a,u=(0,i.Z)(t,V),l=rt("Menu.Button"),d=(0,o.Z)(l,2),v=d[0],g=d[1],m=(0,h.T)(v.buttonRef,e),E=(0,p.G)(),S=(0,W.z)((function(t){switch(t.key){case x.Space:case x.Enter:case x.ArrowDown:t.preventDefault(),t.stopPropagation(),g({type:0}),E.nextFrame((function(){return g({type:2,focus:y.First})}));break;case x.ArrowUp:t.preventDefault(),t.stopPropagation(),g({type:0}),E.nextFrame((function(){return g({type:2,focus:y.Last})}))}})),C=(0,W.z)((function(t){if(t.key===x.Space)t.preventDefault()})),M=(0,W.z)((function(e){if(w(e.currentTarget))return e.preventDefault();t.disabled||(0===v.menuState?(g({type:1}),E.nextFrame((function(){var t;return null==(t=v.buttonRef.current)?void 0:t.focus({preventScroll:!0})}))):(e.preventDefault(),g({type:0})))})),D=(0,c.useMemo)((function(){return{open:0===v.menuState}}),[v]),R={ref:m,id:s,type:X(t,v.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=v.itemsRef.current)?void 0:n.id,"aria-expanded":t.disabled?void 0:0===v.menuState,onKeyDown:S,onKeyUp:C,onClick:M};return(0,f.sY)({ourProps:R,theirProps:u,slot:D,defaultTag:"button",name:"Menu.Button"})})),ut=f.AN.RenderStrategy|f.AN.Static,ct=(0,f.yV)((function(t,e){var n,r,a=b(),s=t.id,u=void 0===s?"headlessui-menu-items-".concat(a):s,l=(0,i.Z)(t,U),g=rt("Menu.Items"),m=(0,o.Z)(g,2),E=m[0],S=m[1],w=(0,h.T)(E.itemsRef,e),M=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,c.useMemo)((function(){return C.apply(void 0,e)}),[].concat(e))}(E.itemsRef),D=(0,p.G)(),O=(0,Y.oJ)(),P=null!==O?O===Y.ZM.Open:0===E.menuState;(0,c.useEffect)((function(){var t=E.itemsRef.current;!t||0===E.menuState&&t!==(null==M?void 0:M.activeElement)&&t.focus({preventScroll:!0})}),[E.menuState,E.itemsRef,M]),function(t){var e=t.container,n=t.accept,r=t.walk,i=t.enabled,o=void 0===i||i,a=(0,c.useRef)(n),s=(0,c.useRef)(r);(0,c.useEffect)((function(){a.current=n,s.current=r}),[n,r]),(0,v.e)((function(){if(e&&o){var t=C(e);if(t)for(var n=a.current,r=s.current,i=Object.assign((function(t){return n(t)}),{acceptNode:n}),u=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1);u.nextNode();)r(u.currentNode)}}),[e,o,a,s])}({container:E.itemsRef.current,enabled:0===E.menuState,accept:function(t){return"menuitem"===t.getAttribute("role")?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(t){t.setAttribute("role","none")}});var T=(0,W.z)((function(t){var e,n;switch(D.dispose(),t.key){case x.Space:if(""!==E.searchQuery)return t.preventDefault(),t.stopPropagation(),S({type:3,value:t.key});case x.Enter:if(t.preventDefault(),t.stopPropagation(),S({type:1}),null!==E.activeItemIndex)null==(n=null==(e=E.items[E.activeItemIndex].dataRef.current)?void 0:e.domRef.current)||n.click();z(E.buttonRef.current);break;case x.ArrowDown:return t.preventDefault(),t.stopPropagation(),S({type:2,focus:y.Next});case x.ArrowUp:return t.preventDefault(),t.stopPropagation(),S({type:2,focus:y.Previous});case x.Home:case x.PageUp:return t.preventDefault(),t.stopPropagation(),S({type:2,focus:y.First});case x.End:case x.PageDown:return t.preventDefault(),t.stopPropagation(),S({type:2,focus:y.Last});case x.Escape:t.preventDefault(),t.stopPropagation(),S({type:1}),(0,d.k)().nextFrame((function(){var t;return null==(t=E.buttonRef.current)?void 0:t.focus({preventScroll:!0})}));break;case x.Tab:t.preventDefault(),t.stopPropagation(),S({type:1}),(0,d.k)().nextFrame((function(){I(E.buttonRef.current,t.shiftKey?R.Previous:R.Next)}));break;default:1===t.key.length&&(S({type:3,value:t.key}),D.setTimeout((function(){return S({type:4})}),350))}})),_=(0,W.z)((function(t){if(t.key===x.Space)t.preventDefault()})),k=(0,c.useMemo)((function(){return{open:0===E.menuState}}),[E]),G={"aria-activedescendant":null===E.activeItemIndex||null==(n=E.items[E.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(r=E.buttonRef.current)?void 0:r.id,id:u,onKeyDown:T,onKeyUp:_,role:"menu",tabIndex:0,ref:w};return(0,f.sY)({ourProps:G,theirProps:l,slot:k,defaultTag:"div",features:ut,visible:P,name:"Menu.Items"})})),lt=c.Fragment,ft=(0,f.yV)((function(t,e){var n=b(),r=t.id,a=void 0===r?"headlessui-menu-item-".concat(n):r,s=t.disabled,u=void 0!==s&&s,l=(0,i.Z)(t,K),p=rt("Menu.Item"),g=(0,o.Z)(p,2),m=g[0],x=g[1],E=null!==m.activeItemIndex&&m.items[m.activeItemIndex].id===a,S=(0,c.useRef)(null),w=(0,h.T)(e,S);(0,v.e)((function(){if(0===m.menuState&&E&&0!==m.activationTrigger){var t=(0,d.k)();return t.requestAnimationFrame((function(){var t,e;null==(e=null==(t=S.current)?void 0:t.scrollIntoView)||e.call(t,{block:"nearest"})})),t.dispose}}),[S,E,m.menuState,m.activationTrigger,m.activeItemIndex]);var C=(0,c.useRef)({disabled:u,domRef:S});(0,v.e)((function(){C.current.disabled=u}),[C,u]),(0,v.e)((function(){var t,e;C.current.textValue=null==(e=null==(t=S.current)?void 0:t.textContent)?void 0:e.toLowerCase()}),[C,S]),(0,v.e)((function(){return x({type:5,id:a,dataRef:C}),function(){return x({type:6,id:a})}}),[C,a]);var M=(0,W.z)((function(){x({type:1})})),D=(0,W.z)((function(t){if(u)return t.preventDefault();x({type:1}),z(m.buttonRef.current)})),R=(0,W.z)((function(){if(u)return x({type:2,focus:y.Nothing});x({type:2,focus:y.Specific,id:a})})),O=function(){var t=(0,c.useRef)([-1,-1]);return{wasMoved:function(e){var n=H(e);return(t.current[0]!==n[0]||t.current[1]!==n[1])&&(t.current=n,!0)},update:function(e){t.current=H(e)}}}(),P=(0,W.z)((function(t){return O.update(t)})),T=(0,W.z)((function(t){!O.wasMoved(t)||u||E||x({type:2,focus:y.Specific,id:a,trigger:0})})),_=(0,W.z)((function(t){!O.wasMoved(t)||u||!E||x({type:2,focus:y.Nothing})})),k=(0,c.useMemo)((function(){return{active:E,disabled:u,close:M}}),[E,u,M]);return(0,f.sY)({ourProps:{id:a,ref:w,role:"menuitem",tabIndex:!0===u?void 0:-1,"aria-disabled":!0===u||void 0,disabled:void 0,onClick:D,onFocus:R,onPointerEnter:P,onMouseEnter:P,onPointerMove:T,onMouseMove:T,onPointerLeave:_,onMouseLeave:_},theirProps:l,slot:k,defaultTag:lt,name:"Menu.Item"})})),dt=Object.assign(at,{Button:st,Items:ct,Item:ft})},8556:function(t,e,n){n.d(e,{u:function(){return Y}});var r=n(3433),i=n(1413),o=n(4925),a=n(9439),s=n(4942),u=n(2791),c=n(5612),l=n(4510),f=n(9904),d=n(4705);function p(){var t=(0,u.useRef)(!1);return(0,d.e)((function(){return t.current=!0,function(){t.current=!1}}),[]),t}var v=n(2806),h=n(1511),g=n(4159);var m=n(4190);function b(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&r.length>0&&(e=t.classList).add.apply(e,r)}function x(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&r.length>0&&(e=t.classList).remove.apply(e,r)}function E(t,e,n,i){var o=n?"enter":"leave",s=(0,m.k)(),u=void 0!==i?function(t){var e={called:!1};return function(){if(!e.called)return e.called=!0,t.apply(void 0,arguments)}}(i):function(){};"enter"===o&&(t.removeAttribute("hidden"),t.style.display="");var c=(0,f.E)(o,{enter:function(){return e.enter},leave:function(){return e.leave}}),l=(0,f.E)(o,{enter:function(){return e.enterTo},leave:function(){return e.leaveTo}}),d=(0,f.E)(o,{enter:function(){return e.enterFrom},leave:function(){return e.leaveFrom}});return x.apply(void 0,[t].concat((0,r.Z)(e.enter),(0,r.Z)(e.enterTo),(0,r.Z)(e.enterFrom),(0,r.Z)(e.leave),(0,r.Z)(e.leaveFrom),(0,r.Z)(e.leaveTo),(0,r.Z)(e.entered))),b.apply(void 0,[t].concat((0,r.Z)(c),(0,r.Z)(d))),s.nextFrame((function(){x.apply(void 0,[t].concat((0,r.Z)(d))),b.apply(void 0,[t].concat((0,r.Z)(l))),function(t,e){var n=(0,m.k)();if(!t)return n.dispose;var r=getComputedStyle(t),i=[r.transitionDuration,r.transitionDelay].map((function(t){var e=t.split(",").filter(Boolean).map((function(t){return t.includes("ms")?parseFloat(t):1e3*parseFloat(t)})).sort((function(t,e){return e-t})),n=(0,a.Z)(e,1)[0];return void 0===n?0:n})),o=(0,a.Z)(i,2);if(o[0]+o[1]!==0)var s=n.addEventListener(t,"transitionend",(function(t){t.target===t.currentTarget&&(e(),s())}));else e();n.add((function(){return e()})),n.dispose}(t,(function(){return x.apply(void 0,[t].concat((0,r.Z)(c))),b.apply(void 0,[t].concat((0,r.Z)(e.entered))),u()}))})),s.dispose}var y=n(5623);function S(t){var e=t.container,n=t.direction,r=t.classes,i=t.onStart,o=t.onStop,a=p(),s=(0,y.G)(),u=(0,v.E)(n);(0,d.e)((function(){var t=(0,m.k)();s.add(t.dispose);var n=e.current;if(n&&"idle"!==u.current&&a.current)return t.dispose(),i.current(u.current),t.add(E(n,r.current,"enter"===u.current,(function(){t.dispose(),o.current(u.current)}))),t.dispose}),[n])}var w=n(3654),C=n(8210),M=n(3784),D=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],R=["show","appear","unmount"];function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(" ").filter((function(t){return t.trim().length>1}))}var P=(0,u.createContext)(null);P.displayName="TransitionContext";var T,_=((T=_||{}).Visible="visible",T.Hidden="hidden",T);var k=(0,u.createContext)(null);function z(t){return"children"in t?z(t.children):t.current.filter((function(t){return null!==t.el.current})).filter((function(t){return"visible"===t.state})).length>0}function G(t,e){var n=(0,v.E)(t),r=(0,u.useRef)([]),i=p(),o=(0,y.G)(),l=(0,w.z)((function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.l4.Hidden,u=r.current.findIndex((function(e){return e.el===t}));-1!==u&&((0,f.E)(a,(e={},(0,s.Z)(e,c.l4.Unmount,(function(){r.current.splice(u,1)})),(0,s.Z)(e,c.l4.Hidden,(function(){r.current[u].state="hidden"})),e)),o.microTask((function(){var t;!z(r)&&i.current&&(null==(t=n.current)||t.call(n))})))})),d=(0,w.z)((function(t){var e=r.current.find((function(e){return e.el===t}));return e?"visible"!==e.state&&(e.state="visible"):r.current.push({el:t,state:"visible"}),function(){return l(t,c.l4.Unmount)}})),h=(0,u.useRef)([]),g=(0,u.useRef)(Promise.resolve()),m=(0,u.useRef)({enter:[],leave:[],idle:[]}),b=(0,w.z)((function(t,n,r){h.current.splice(0),e&&(e.chains.current[n]=e.chains.current[n].filter((function(e){return(0,a.Z)(e,1)[0]!==t}))),null==e||e.chains.current[n].push([t,new Promise((function(t){h.current.push(t)}))]),null==e||e.chains.current[n].push([t,new Promise((function(t){Promise.all(m.current[n].map((function(t){var e=(0,a.Z)(t,2);e[0];return e[1]}))).then((function(){return t()}))}))]),"enter"===n?g.current=g.current.then((function(){return null==e?void 0:e.wait.current})).then((function(){return r(n)})):r(n)})),x=(0,w.z)((function(t,e,n){Promise.all(m.current[e].splice(0).map((function(t){var e=(0,a.Z)(t,2);e[0];return e[1]}))).then((function(){var t;null==(t=h.current.shift())||t()})).then((function(){return n(e)}))}));return(0,u.useMemo)((function(){return{children:r,register:d,unregister:l,onStart:b,onStop:x,wait:g,chains:m}}),[d,l,r,b,x,m,g])}function B(){}k.displayName="NestingContext";var F=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function I(t){for(var e,n={},r=0,i=F;r<i.length;r++){var o=i[r];n[o]=null!=(e=t[o])?e:B}return n}var A=c.AN.RenderStrategy,N=(0,c.yV)((function(t,e){var n,d=t.beforeEnter,p=t.afterEnter,m=t.beforeLeave,b=t.afterLeave,x=t.enter,E=t.enterFrom,y=t.enterTo,R=t.entered,T=t.leave,_=t.leaveFrom,B=t.leaveTo,F=(0,o.Z)(t,D),N=(0,u.useRef)(null),j=(0,g.T)(N,e),Z=F.unmount?c.l4.Unmount:c.l4.Hidden,Y=function(){var t=(0,u.useContext)(P);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),L=Y.show,X=Y.appear,W=Y.initial,H=(0,u.useState)(L?"visible":"hidden"),q=(0,a.Z)(H,2),V=q[0],U=q[1],K=function(){var t=(0,u.useContext)(k);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),Q=K.register,$=K.unregister,J=(0,u.useRef)(null);(0,u.useEffect)((function(){return Q(N)}),[Q,N]),(0,u.useEffect)((function(){var t;if(Z===c.l4.Hidden&&N.current)return L&&"visible"!==V?void U("visible"):(0,f.E)(V,(t={},(0,s.Z)(t,"hidden",(function(){return $(N)})),(0,s.Z)(t,"visible",(function(){return Q(N)})),t))}),[V,N,Q,$,L,Z]);var tt=(0,v.E)({enter:O(x),enterFrom:O(E),enterTo:O(y),entered:O(R),leave:O(T),leaveFrom:O(_),leaveTo:O(B)}),et=function(t){var e=(0,u.useRef)(I(t));return(0,u.useEffect)((function(){e.current=I(t)}),[t]),e}({beforeEnter:d,afterEnter:p,beforeLeave:m,afterLeave:b}),nt=(0,h.H)();(0,u.useEffect)((function(){if(nt&&"visible"===V&&null===N.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[N,V,nt]);var rt=W&&!X,it=!nt||rt||J.current===L?"idle":L?"enter":"leave",ot=(0,w.z)((function(t){return(0,f.E)(t,{enter:function(){return et.current.beforeEnter()},leave:function(){return et.current.beforeLeave()},idle:function(){}})})),at=(0,w.z)((function(t){return(0,f.E)(t,{enter:function(){return et.current.afterEnter()},leave:function(){return et.current.afterLeave()},idle:function(){}})})),st=G((function(){U("hidden"),$(N)}),K);S({container:N,classes:tt,direction:it,onStart:(0,v.E)((function(t){st.onStart(N,t,ot)})),onStop:(0,v.E)((function(t){st.onStop(N,t,at),"leave"===t&&!z(st)&&(U("hidden"),$(N))}))}),(0,u.useEffect)((function(){!rt||(Z===c.l4.Hidden?J.current=null:J.current=L)}),[L,rt,V]);var ut=F,ct={ref:j};return X&&L&&M.O.isServer&&(ut=(0,i.Z)((0,i.Z)({},ut),{},{className:C.A.apply(void 0,[F.className].concat((0,r.Z)(tt.current.enter),(0,r.Z)(tt.current.enterFrom)))})),u.createElement(k.Provider,{value:st},u.createElement(l.up,{value:(0,f.E)(V,(n={},(0,s.Z)(n,"visible",l.ZM.Open),(0,s.Z)(n,"hidden",l.ZM.Closed),n))},(0,c.sY)({ourProps:ct,theirProps:ut,defaultTag:"div",features:A,visible:"visible"===V,name:"Transition.Child"})))})),j=(0,c.yV)((function(t,e){var n,r=t.show,p=t.appear,v=void 0!==p&&p,m=t.unmount,b=(0,o.Z)(t,R),x=(0,u.useRef)(null),E=(0,g.T)(x,e);(0,h.H)();var y=(0,l.oJ)();if(void 0===r&&null!==y&&(r=(0,f.E)(y,(n={},(0,s.Z)(n,l.ZM.Open,!0),(0,s.Z)(n,l.ZM.Closed,!1),n))),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var S=(0,u.useState)(r?"visible":"hidden"),w=(0,a.Z)(S,2),C=w[0],M=w[1],D=G((function(){M("hidden")})),O=(0,u.useState)(!0),T=(0,a.Z)(O,2),_=T[0],B=T[1],F=(0,u.useRef)([r]);(0,d.e)((function(){!1!==_&&F.current[F.current.length-1]!==r&&(F.current.push(r),B(!1))}),[F,r]);var I=(0,u.useMemo)((function(){return{show:r,appear:v,initial:_}}),[r,v,_]);(0,u.useEffect)((function(){if(r)M("visible");else if(z(D)){var t=x.current;if(!t)return;var e=t.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&M("hidden")}else M("hidden")}),[r,D]);var j={unmount:m};return u.createElement(k.Provider,{value:D},u.createElement(P.Provider,{value:I},(0,c.sY)({ourProps:(0,i.Z)((0,i.Z)({},j),{},{as:u.Fragment,children:u.createElement(N,(0,i.Z)((0,i.Z)({ref:E},j),b))}),theirProps:{},defaultTag:u.Fragment,features:A,visible:"visible"===C,name:"Transition"})))})),Z=(0,c.yV)((function(t,e){var n=null!==(0,u.useContext)(P),r=null!==(0,l.oJ)();return u.createElement(u.Fragment,null,!n&&r?u.createElement(j,(0,i.Z)({ref:e},t)):u.createElement(N,(0,i.Z)({ref:e},t)))})),Y=Object.assign(j,{Child:Z,Root:j})},5623:function(t,e,n){n.d(e,{G:function(){return a}});var r=n(9439),i=n(2791),o=n(4190);function a(){var t=(0,i.useState)(o.k),e=(0,r.Z)(t,1)[0];return(0,i.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}},3654:function(t,e,n){n.d(e,{z:function(){return o}});var r=n(2791),i=n(2806),o=function(t){var e=(0,i.E)(t);return r.useCallback((function(){return e.current.apply(e,arguments)}),[e])}},4705:function(t,e,n){n.d(e,{e:function(){return o}});var r=n(2791),i=n(3784),o=function(t,e){i.O.isServer?(0,r.useEffect)(t,e):(0,r.useLayoutEffect)(t,e)}},2806:function(t,e,n){n.d(e,{E:function(){return o}});var r=n(2791),i=n(4705);function o(t){var e=(0,r.useRef)(t);return(0,i.e)((function(){e.current=t}),[t]),e}},1511:function(t,e,n){n.d(e,{H:function(){return a}});var r=n(9439),i=n(2791),o=n(3784);function a(){var t=(0,i.useState)(o.O.isHandoffComplete),e=(0,r.Z)(t,2),n=e[0],a=e[1];return n&&!1===o.O.isHandoffComplete&&a(!1),(0,i.useEffect)((function(){!0!==n&&a(!0)}),[n]),(0,i.useEffect)((function(){return o.O.handoff()}),[]),n}},4159:function(t,e,n){n.d(e,{T:function(){return s}});var r=n(7762),i=n(2791),o=n(3654),a=Symbol();function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=(0,i.useRef)(e);(0,i.useEffect)((function(){s.current=e}),[e]);var u=(0,o.z)((function(t){var e,n=(0,r.Z)(s.current);try{for(n.s();!(e=n.n()).done;){var i=e.value;null!=i&&("function"==typeof i?i(t):i.current=t)}}catch(o){n.e(o)}finally{n.f()}}));return e.every((function(t){return null==t||(null==t?void 0:t[a])}))?void 0:u}},4510:function(t,e,n){n.d(e,{ZM:function(){return a},oJ:function(){return s},up:function(){return u}});var r=n(2791),i=(0,r.createContext)(null);i.displayName="OpenClosedContext";var o,a=((o=a||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o);function s(){return(0,r.useContext)(i)}function u(t){var e=t.value,n=t.children;return r.createElement(i.Provider,{value:e},n)}},8210:function(t,e,n){function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")}n.d(e,{A:function(){return r}})},4190:function(t,e,n){n.d(e,{k:function(){return c}});var r=n(4942),i=n(4165),o=n(5861),a=n(7762),s=n(9439);function u(t){"function"==typeof queueMicrotask?queueMicrotask(t):Promise.resolve().then(t).catch((function(t){return setTimeout((function(){throw t}))}))}function c(){var t=[],e=[],n={enqueue:function(t){e.push(t)},addEventListener:function(t,e,r,i){return t.addEventListener(e,r,i),n.add((function(){return t.removeEventListener(e,r,i)}))},requestAnimationFrame:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=requestAnimationFrame.apply(void 0,arguments);return n.add((function(){return cancelAnimationFrame(t)}))})),nextFrame:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.requestAnimationFrame((function(){return n.requestAnimationFrame.apply(n,e)}))},setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=setTimeout.apply(void 0,arguments);return n.add((function(){return clearTimeout(t)}))})),microTask:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i={current:!0};return u((function(){i.current&&e[0]()})),n.add((function(){i.current=!1}))},add:function(e){return t.push(e),function(){var n=t.indexOf(e);if(n>=0){var r=t.splice(n,1);(0,(0,s.Z)(r,1)[0])()}}},dispose:function(){var e,n=(0,a.Z)(t.splice(0));try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(r){n.e(r)}finally{n.f()}},workQueue:function(){return(0,o.Z)((0,i.Z)().mark((function t(){var n,r,o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,a.Z)(e.splice(0)),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return o=r.value,t.next=7,o();case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()},style:function(t,e,n){var i=t.style.getPropertyValue(e);return Object.assign(t.style,(0,r.Z)({},e,n)),this.add((function(){Object.assign(t.style,(0,r.Z)({},e,i))}))}};return n}},3784:function(t,e,n){n.d(e,{O:function(){return s}});var r=n(5671),i=n(3144),o=Object.defineProperty,a=function(t,e,n){return function(t,e,n){e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=typeof e?e+"":e,n),n},s=new(function(){function t(){(0,r.Z)(this,t),a(this,"current",this.detect()),a(this,"handoffState","pending"),a(this,"currentId",0)}return(0,i.Z)(t,[{key:"set",value:function(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}},{key:"reset",value:function(){this.set(this.detect())}},{key:"nextId",value:function(){return++this.currentId}},{key:"isServer",get:function(){return"server"===this.current}},{key:"isClient",get:function(){return"client"===this.current}},{key:"detect",value:function(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}},{key:"handoff",value:function(){"pending"===this.handoffState&&(this.handoffState="complete")}},{key:"isHandoffComplete",get:function(){return"complete"===this.handoffState}}]),t}())},9904:function(t,e,n){function r(t,e){if(t in e){for(var n=e[t],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return"function"==typeof n?n.apply(void 0,o):n}var s=new Error('Tried to handle "'.concat(t,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(e).map((function(t){return'"'.concat(t,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(s,r),s}n.d(e,{E:function(){return r}})},5612:function(t,e,n){n.d(e,{AN:function(){return g},l4:function(){return m},sY:function(){return b},yV:function(){return S}});var r,i,o=n(7762),a=n(9439),s=n(4942),u=n(1413),c=n(4925),l=n(2791),f=n(8210),d=n(9904),p=["static"],v=["unmount"],h=["as","children","refName"],g=((i=g||{})[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i),m=((r=m||{})[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r);function b(t){var e=t.ourProps,n=t.theirProps,r=t.slot,i=t.defaultTag,o=t.features,a=t.visible,l=void 0===a||a,f=t.name,h=y(n,e);if(l)return x(h,r,i,f);var g=null!=o?o:0;if(2&g){var m=h.static,b=void 0!==m&&m,E=(0,c.Z)(h,p);if(b)return x(E,r,i,f)}if(1&g){var S,w=h.unmount,C=void 0===w||w,M=(0,c.Z)(h,v);return(0,d.E)(C?0:1,(S={},(0,s.Z)(S,0,(function(){return null})),(0,s.Z)(S,1,(function(){return x((0,u.Z)((0,u.Z)({},M),{},{hidden:!0,style:{display:"none"}}),r,i,f)})),S))}return x(h,r,i,f)}function x(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=C(t,["unmount","static"]),u=o.as,d=void 0===u?r:u,p=o.children,v=o.refName,g=void 0===v?"ref":v,m=(0,c.Z)(o,h),b=void 0!==t.ref?(0,s.Z)({},g,t.ref):{},x="function"==typeof p?p(n):p;m.className&&"function"==typeof m.className&&(m.className=m.className(n));var S={};if(n){for(var M=!1,D=[],R=0,O=Object.entries(n);R<O.length;R++){var P=(0,a.Z)(O[R],2),T=P[0],_=P[1];"boolean"==typeof _&&(M=!0),!0===_&&D.push(T)}M&&(S["data-headlessui-state"]=D.join(" "))}if(d===l.Fragment&&Object.keys(w(m)).length>0){if(!(0,l.isValidElement)(x)||Array.isArray(x)&&x.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(m).map((function(t){return"  - ".concat(t)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(t){return"  - ".concat(t)})).join("\n")].join("\n"));var k=(0,f.A)(null==(e=x.props)?void 0:e.className,m.className),z=k?{className:k}:{};return(0,l.cloneElement)(x,Object.assign({},y(x.props,w(C(m,["ref"]))),S,b,E(x.ref,b.ref),z))}return(0,l.createElement)(d,Object.assign({},C(m,["ref"]),d!==l.Fragment&&b,d!==l.Fragment&&S),x)}function E(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{ref:e.every((function(t){return null==t}))?void 0:function(t){var n,r=(0,o.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!=i&&("function"==typeof i?i(t):i.current=t)}}catch(a){r.e(a)}finally{r.f()}}}}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return{};if(1===e.length)return e[0];for(var r={},i={},a=0,u=e;a<u.length;a++){var c=u[a];for(var l in c)l.startsWith("on")&&"function"==typeof c[l]?(null!=i[l]||(i[l]=[]),i[l].push(c[l])):r[l]=c[l]}if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((function(t){return[t,void 0]}))));var f=function(t){Object.assign(r,(0,s.Z)({},t,(function(e){for(var n=i[t],r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var u,c=(0,o.Z)(n);try{for(c.s();!(u=c.n()).done;){var l=u.value;if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;l.apply(void 0,[e].concat(a))}}catch(f){c.e(f)}finally{c.f()}})))};for(var d in i)f(d);return r}function S(t){var e;return Object.assign((0,l.forwardRef)(t),{displayName:null!=(e=t.displayName)?e:t.name})}function w(t){var e=Object.assign({},t);for(var n in e)void 0===e[n]&&delete e[n];return e}function C(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},t),i=(0,o.Z)(n);try{for(i.s();!(e=i.n()).done;){var a=e.value;a in r&&delete r[a]}}catch(s){i.e(s)}finally{i.f()}return r}},2579:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(9439),i=n(1413),o=n(4925),a=n(2791),s=["count","wrapper","className","containerClassName","containerTestId","circle","style"],u=a.createContext({});function c(t){for(var e,n,c,l=t.count,f=void 0===l?1:l,d=t.wrapper,p=t.className,v=t.containerClassName,h=t.containerTestId,g=t.circle,m=void 0!==g&&g,b=t.style,x=(0,o.Z)(t,s),E=a.useContext(u),y=(0,i.Z)({},x),S=0,w=Object.entries(x);S<w.length;S++){var C=(0,r.Z)(w[S],2),M=C[0];"undefined"===typeof C[1]&&delete y[M]}var D=(0,i.Z)((0,i.Z)((0,i.Z)({},E),y),{},{circle:m}),R=(0,i.Z)((0,i.Z)({},b),function(t){var e=t.baseColor,n=t.highlightColor,r=t.width,i=t.height,o=t.borderRadius,a=t.circle,s=t.direction,u=t.duration,c=t.enableAnimation,l=void 0===c||c,f={};return"rtl"===s&&(f["--animation-direction"]="reverse"),"number"===typeof u&&(f["--animation-duration"]="".concat(u,"s")),l||(f["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(f.width=r),"string"!==typeof i&&"number"!==typeof i||(f.height=i),"string"!==typeof o&&"number"!==typeof o||(f.borderRadius=o),a&&(f.borderRadius="50%"),"undefined"!==typeof e&&(f["--base-color"]=e),"undefined"!==typeof n&&(f["--highlight-color"]=n),f}(D)),O="react-loading-skeleton";p&&(O+=" ".concat(p));for(var P=null!==(e=D.inline)&&void 0!==e&&e,T=[],_=Math.ceil(f),k=0;k<_;k++){var z=R;if(_>f&&k===_-1){var G=null!==(n=z.width)&&void 0!==n?n:"100%",B=f%1,F="number"===typeof G?G*B:"calc(".concat(G," * ").concat(B,")");z=(0,i.Z)((0,i.Z)({},z),{},{width:F})}var I=a.createElement("span",{className:O,style:z,key:k},"\u200c");P?T.push(I):T.push(a.createElement(a.Fragment,{key:k},I,a.createElement("br",null)))}return a.createElement("span",{className:v,"data-testid":h,"aria-live":"polite","aria-busy":null===(c=D.enableAnimation)||void 0===c||c},d?T.map((function(t,e){return a.createElement(d,{key:e},t)})):T)}}}]);
//# sourceMappingURL=727.85b1ffd4.chunk.js.map